(window.figshareJsonp=window.figshareJsonp||[]).push([[32,2],{1131:function(e,t,n){var r,o,i;
/*!
  * $script.js JS loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz 2014 | License MIT
  */i=function(){var e,t,n=document,r=n.getElementsByTagName("head")[0],o=!1,i="push",a="readyState",s="onreadystatechange",f={},l={},c={},u={};function p(e,t){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return o;return 1}function d(e,t){p(e,(function(e){return t(e),1}))}function h(t,n,r){t=t[i]?t:[t];var o=n&&n.call,a=o?n:r,s=o?t.join(""):n,v=t.length;function y(e){return e.call?e():f[e]}function b(){if(!--v)for(var e in f[s]=1,a&&a(),c)p(e.split("|"),y)&&!d(c[e],y)&&(c[e]=[])}return setTimeout((function(){d(t,(function t(n,r){return null===n?b():(r||/^https?:\/\//.test(n)||!e||(n=-1===n.indexOf(".js")?e+n+".js":e+n),u[n]?(s&&(l[s]=1),2==u[n]?b():setTimeout((function(){t(n,!0)}),0)):(u[n]=1,s&&(l[s]=1),void g(n,b)))}))}),0),h}function g(e,o){var i,f=n.createElement("script");f.onload=f.onerror=f[s]=function(){f[a]&&!/^c|loade/.test(f[a])||i||(f.onload=f[s]=null,i=1,u[e]=2,o())},f.async=1,f.src=t?e+(-1===e.indexOf("?")?"?":"&")+t:e,r.insertBefore(f,r.lastChild)}return h.get=g,h.order=function(e,t,n){!function r(o){o=e.shift(),e.length?h(o,r):h(o,t,n)}()},h.path=function(t){e=t},h.urlArgs=function(e){t=e},h.ready=function(e,t,n){e=e[i]?e:[e];var r,o=[];return!d(e,(function(e){f[e]||o[i](e)}))&&p(e,(function(e){return f[e]}))?t():(r=e.join("|"),c[r]=c[r]||[],c[r][i](t),n&&n(o)),h},h.done=function(e){h([null],e)},h},e.exports?e.exports=i():void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o)},1132:function(e,t,n){var r=n(1133);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(352)(r,o);r.locals&&(e.exports=r.locals)},1133:function(e,t,n){t=e.exports=n(351)(!1);var r=n(392),o=r(n(380)),i=r(n(380)+"?#iefix"),a=r(n(397)),s=r(n(398)),f=r(n(399)+"#figIcon");t.push([e.i,'.fs-icon-base,\n.fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir::before,\n.fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir.fs-expanded::before,\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before,\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-play.fs-is-playing::before,\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before,\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button.fs-is-mute::before,\n.fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before,\n.fs-figshare-viewer .fs-media-wrapper .fs-video-play::before,\n.fs-figshare-viewer .fs-media-wrapper .fs-video-play.fs-is-playing::before,\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before,\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button.fs-is-mute::before,\n.fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before,\n.fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen.fs-exit-fullscreen::before,\n.fs-figshare-viewer .fs-molecule-display .fs-play::before,\n.fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before,\n.fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before,\n.fs-figshare-viewer .fs-molecule-display .fs-pause::before,\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control::before,\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control::before,\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.next::after,\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.prev::after,\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta::after,\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close::after,\n.fs-figshare-viewer .fs-fits-display .fv-fits-histo-close::before,\n.fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before,\n.fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before,\n.fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after,\n.fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before,\n.fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-in:before,\n.fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-out:before,\n.fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-fit:before,\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name::after,\n.fs-figshare-viewer .fs-controls-wrapper .fv-prev-layer-button:before,\n.fs-figshare-viewer .fs-controls-wrapper .fv-next-layer-button:before,\n.fs-figshare-viewer .fs-controls-wrapper .fv-histo-button:before,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button::after,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-download:before,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-controls .fs-prev-page::before,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-controls .fs-next-page::before,\nfigshare-widget.fs-widget-viewer .fs-file-viewer button.fs-details:before,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-share::before,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-enlarge::before,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-cite::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-audio::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-audio::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-archive::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-archive::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-molecule::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-molecule::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-dataset::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-dataset::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-document::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-document::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-document_canvas::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-document_canvas::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-document_failsafe::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-document_failsafe::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-txt::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-txt::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-kml::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-kml::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-viewer3d::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-viewer3d::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-jupyter::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-jupyter::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-graph::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-graph::before,\nfigshare-overlay .fs-large-viewer .fs-hide-full-description:before,\nfigshare-overlay .fs-large-viewer .fs-hide-full-description:before,\nfigshare-overlay .fs-large-viewer .fs-show-more:before,\nfigshare-overlay .fs-large-viewer .fs-show-more:before,\nfigshare-overlay .fs-large-viewer .fs-download-button::before,\nfigshare-overlay .fs-large-viewer .fs-download-button::before,\nfigshare-overlay .fs-large-viewer .fs-close-button:after,\nfigshare-overlay .fs-large-viewer .fs-close-button:after,\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination .fs-prev-page::before,\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination .fs-prev-page::before,\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination .fs-next-page::before,\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination .fs-next-page::before,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::before,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-selector-trigger::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-back-button::before,\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before,\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before,\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before,\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before,\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before,\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before,\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.fs-figshare-viewer {\n  text-align: left;\n}\n.fs-figshare-viewer .fs-not-previewable {\n  height: 100%;\n  position: relative;\n  z-index: 1;\n}\n.fs-figshare-viewer .fs-not-previewable:before {\n  content: \'\';\n  position: absolute;\n  width: 106%;\n  height: 1px;\n  background-color: #eee;\n  top: 50%;\n  left: -3%;\n  transform: rotate(23deg);\n}\n.fs-figshare-viewer .fs-not-previewable:after {\n  content: \'\';\n  position: absolute;\n  width: 106%;\n  height: 1px;\n  background-color: #eee;\n  top: 50%;\n  left: -3%;\n  transform: rotate(-23deg);\n}\n.fs-figshare-viewer .fs-not-previewable .fs-not-previewable-content {\n  display: inline-block;\n  height: 100%;\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  position: relative;\n  z-index: 10;\n  white-space: nowrap;\n}\n.fs-figshare-viewer .fs-not-previewable .fs-not-previewable-content:before {\n  content: \' \';\n  display: inline-block;\n  vertical-align: middle;\n  height: 100%;\n}\n.fs-figshare-viewer .fs-not-previewable .fs-not-previewable-message {\n  background: #fff;\n  box-shadow: 0 0 50px 30px #fff;\n  white-space: normal;\n}\n.fs-figshare-viewer .image-display {\n  overflow: hidden;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.fs-figshare-viewer .fs-image-display img {\n  box-shadow: 0px 0px 7px #ccc;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateY(-50%) translateX(-50%);\n}\n.fs-figshare-viewer .fs-archive-display {\n  height: 100%;\n  overflow: auto;\n  font-size: 13px;\n}\n.fs-figshare-viewer .fs-archive-display .fs-archive-table {\n  display: table;\n  width: 100%;\n  height: 100%;\n  text-align: left;\n}\n.fs-figshare-viewer .fs-archive-display .fs-archive-row {\n  margin: 0 7px;\n  height: 28px;\n  line-height: 28px;\n  white-space: nowrap;\n}\n.fs-figshare-viewer .fs-archive-display .fs-archive-row:first-child {\n  border-top: 7px solid #fff;\n}\n.fs-figshare-viewer .fs-archive-display .fs-archive-row:nth-child(even) {\n  background: #fff;\n}\n.fs-figshare-viewer .fs-archive-display .fs-archive-row:nth-child(odd) {\n  background: #f5f5f5;\n}\n.fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir {\n  font-weight: bold;\n}\n.fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir::before {\n  content: "\\F139";\n  color: #bbb;\n  font-size: 11px;\n  margin-right: 7px;\n}\n.fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir.fs-expanded::before {\n  content: "\\F13A";\n  color: #bbb;\n  font-size: 11px;\n  margin-right: 7px;\n}\n.fs-figshare-viewer .fv-slider-track {\n  position: relative;\n}\n.fs-figshare-viewer .fv-slider-track.horizontal .fv-slider-progress {\n  width: 100%;\n}\n.fs-figshare-viewer .fv-slider-track.vertical .fv-slider-progress {\n  height: 100%;\n}\n.fs-figshare-viewer .fv-slider-track .fv-slider-progress {\n  position: absolute;\n}\n.fs-figshare-viewer .fs-audio-wrapper {\n  max-width: 100%;\n  max-height: 100%;\n  width: 100%;\n  height: 100%;\n}\n.fs-figshare-viewer .fs-audio-wrapper audio {\n  margin: auto;\n  background: transparent;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-controls {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  border: 0 none transparent;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-controls-bar {\n  position: absolute;\n  top: 50%;\n  left: 20px;\n  right: 20px;\n  height: 42px;\n  margin: 20px auto;\n  background-color: #fff;\n  box-sizing: border-box;\n  border: 1px solid #ddd;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: stretch;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline-container {\n  position: relative;\n  margin: 0 7px;\n  height: 42px;\n  width: auto;\n  flex-grow: 1;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline-container::before {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 42px;\n  background: #f8f8f8;\n  content: "";\n  border: 1px solid #ddd;\n  border-left: 0;\n  border-right: 0;\n  box-sizing: border-box;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-container {\n  position: relative;\n  width: 49px;\n  height: 42px;\n  margin-right: 21px;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-container::before {\n  position: absolute;\n  left: 0px;\n  top: 14px;\n  width: 100%;\n  height: 14px;\n  content: "";\n  border: 1px solid #ddd;\n  box-sizing: border-box;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume {\n  position: absolute;\n  left: 0px;\n  top: 14px;\n  width: 100%;\n  height: 42px;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume .fv-slider-progress {\n  left: 0px;\n  height: 14px;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume .fv-slider-progress {\n  background: #bbb;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-time {\n  min-width: 30px;\n  font-size: 12px;\n  text-align: center;\n  color: #464646;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline,\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 42px;\n  display: flex;\n  align-items: center;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline .fv-slider-progress,\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline .fv-slider-progress {\n  top: 0;\n  left: 0px;\n  height: 42px;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline .fv-slider-progress {\n  background: #c74d5a;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline .fv-slider-progress {\n  background: #ddd;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-play {\n  background: transparent;\n  font-size: 21px;\n  color: #bbb;\n  text-align: center;\n  height: 42px;\n  width: 49px;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before {\n  display: inline-block;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-play[disabled] {\n  color: #464646;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-play:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before {\n  content: "\\F160";\n  line-height: 42px;\n  color: #c74d5a;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-play.fs-is-playing::before {\n  content: "\\F15C";\n  line-height: 42px;\n  color: #c74d5a;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button {\n  background: transparent;\n  font-size: 21px;\n  color: #bbb;\n  text-align: center;\n  height: 42px;\n  width: 35px;\n  margin-left: 7px;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before {\n  display: inline-block;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button[disabled] {\n  color: #464646;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before {\n  content: "\\F10B";\n  line-height: 42px;\n  font-size: 13px;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button.fs-is-mute::before {\n  content: "\\F10C";\n  line-height: 42px;\n  font-size: 13px;\n}\n.fs-figshare-viewer .fs-audio-wrapper .fs-audio-glider {\n  position: absolute;\n  bottom: 49px;\n  height: 14px;\n  line-height: 14px;\n  width: auto;\n  color: #999;\n  transform: translateX(-50%);\n}\n.fs-figshare-viewer .fs-audio-wrapper.native-controls .fs-audio-loader {\n  display: flex;\n  align-items: center;\n}\n.fs-figshare-viewer .fs-audio-wrapper.native-controls audio {\n  width: calc(100% - 28px);\n  padding: 0 14px;\n}\n.fs-figshare-viewer .fs-media-wrapper {\n  max-width: 100%;\n  max-height: 100%;\n  width: 100%;\n  height: 100%;\n}\n.fs-figshare-viewer .fs-media-wrapper video {\n  margin: auto;\n  background: #000;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-controls,\n.fs-figshare-viewer .fs-media-wrapper .fs-controls-shortcuts {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  border: 0 none transparent;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-replay {\n  background: transparent;\n  font-size: 21px;\n  color: #ddd;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  height: 49px;\n  width: 140px;\n  padding: 0 10px;\n  background: rgba(70, 70, 70, 0.95);\n  border-radius: 3px;\n  box-sizing: border-box;\n  font-size: 14px;\n  font-weight: bold;\n  line-height: 49px;\n  margin-left: -70px;\n  margin-top: -24.5px;\n  transition: opacity 0.3s ease-out;\n  opacity: 0.9;\n  text-align: center;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before {\n  display: inline-block;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-replay[disabled] {\n  color: #464646;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-replay:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-replay:hover {\n  color: #fff;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before {\n  content: "\\F16D";\n  font-size: 21px;\n  line-height: 49px;\n  margin-right: 10px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-replay:hover {\n  transition: opacity 0.3s ease-in;\n  opacity: 1;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 49px 20px 0 20px;\n  transition: opacity 0.3s ease-out 1s;\n  opacity: 0.9;\n  box-sizing: border-box;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container:hover {\n  transition: opacity 0.3s ease-in 0s;\n  opacity: 1;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-hide-controls {\n  transition: opacity 0.3s ease-out 1s;\n  opacity: 0;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-hide-controls:hover {\n  transition: opacity 0.3s ease-in 0s;\n  opacity: 1;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-force-visible {\n  opacity: 1;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-force-visible.fs-hide-controls {\n  opacity: 1;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-controls-bar {\n  position: relative;\n  max-width: 800px;\n  height: 49px;\n  margin: 20px auto;\n  background-color: rgba(70, 70, 70, 0.95);\n  color: #fff;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: stretch;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-timeline-container {\n  position: relative;\n  margin: 0 7px;\n  height: 49px;\n  width: auto;\n  flex-grow: 1;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-timeline-container::before {\n  position: absolute;\n  top: 21px;\n  left: 0px;\n  height: 7px;\n  width: 100%;\n  background: #fff;\n  content: "";\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume-container {\n  position: relative;\n  width: 70px;\n  height: 49px;\n  margin-right: 7px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume-container::before {\n  position: absolute;\n  top: 21px;\n  left: 0px;\n  height: 7px;\n  width: 100%;\n  background: #fff;\n  content: "";\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-time {\n  min-width: 42px;\n  font-size: 12px;\n  font-weight: bold;\n  text-align: center;\n  color: #fff;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-timeline,\n.fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline,\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 49px;\n  display: flex;\n  align-items: center;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-timeline .fv-slider-progress,\n.fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline .fv-slider-progress,\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume .fv-slider-progress {\n  left: 0px;\n  height: 7px;\n  top: 21px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-timeline .fv-slider-progress {\n  background: #c74d5a;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline .fv-slider-progress {\n  background: #ddd;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume .fv-slider-progress {\n  background: #bbb;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-play {\n  background: transparent;\n  font-size: 21px;\n  color: #ddd;\n  text-align: center;\n  height: 49px;\n  width: 49px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-play::before {\n  display: inline-block;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-play[disabled] {\n  color: #464646;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-play:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-play:hover {\n  color: #fff;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-play::before {\n  content: "\\F160";\n  line-height: 49px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-play.fs-is-playing::before {\n  content: "\\F15C";\n  line-height: 49px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button {\n  background: transparent;\n  font-size: 21px;\n  color: #ddd;\n  text-align: center;\n  height: 49px;\n  width: 35px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before {\n  display: inline-block;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button[disabled] {\n  color: #464646;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button:hover {\n  color: #fff;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before {\n  content: "\\F10B";\n  line-height: 49px;\n  font-size: 13px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button.fs-is-mute::before {\n  content: "\\F10C";\n  line-height: 49px;\n  font-size: 13px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen {\n  background: transparent;\n  font-size: 21px;\n  color: #ddd;\n  text-align: center;\n  height: 49px;\n  width: 42px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before {\n  display: inline-block;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen[disabled] {\n  color: #464646;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen:hover {\n  color: #fff;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before {\n  content: "\\F13D";\n  line-height: 49px;\n  font-size: 13px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen.fs-exit-fullscreen::before {\n  content: "\\F13E";\n  line-height: 49px;\n  font-size: 13px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-glider {\n  position: absolute;\n  bottom: 63px;\n  min-height: 28px;\n  width: auto;\n  border-radius: 3px;\n  transform: translateX(-50%);\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-glider.fs-has-preview {\n  background-position: center;\n  background-repeat: no-repeat;\n  background-color: rgba(70, 70, 70, 0.95);\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-glider.fs-has-preview .fs-video-glider-text {\n  border-radius: 0 0 3px 3px;\n  transform: none;\n  width: 100%;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-glider-text {\n  position: absolute;\n  bottom: 0px;\n  top: auto;\n  padding: 0 10px;\n  white-space: nowrap;\n  height: 28px;\n  width: auto;\n  border-radius: 3px;\n  box-sizing: border-box;\n  text-align: center;\n  transform: translateX(-50%);\n  background: rgba(70, 70, 70, 0.95);\n  color: #fff;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: 28px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering {\n  position: absolute;\n  width: 65px;\n  height: 65px;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n}\n.fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering::before {\n  background: transparent;\n}\n.fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering .fs-figshare-loader-message {\n  background: rgba(255, 255, 255, 0.95);\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-cue {\n  position: absolute;\n  box-sizing: content-box;\n  top: 0px;\n  width: 15px;\n  height: 49px;\n  transform: translateX(-50%);\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-cue::before {\n  position: absolute;\n  top: 21px;\n  left: 5px;\n  background: rgba(70, 70, 70, 0.5);\n  content: "";\n  width: 5px;\n  height: 7px;\n}\n.fs-figshare-viewer .fs-media-wrapper .fs-video-cue:hover::before {\n  position: absolute;\n  top: 0px;\n  left: 5px;\n  background-color: rgba(187, 187, 187, 0.5);\n  content: "";\n  width: 5px;\n  height: 28px;\n}\n.fs-figshare-viewer .fs-molecule-display {\n  position: relative;\n}\n.fs-figshare-viewer .fs-molecule-display canvas {\n  background: linear-gradient(to top, #202020 0%, #000 29%, #131313 29%, #000 55%);\n}\n.fs-figshare-viewer .fs-molecule-display .fs-speed-controls {\n  position: absolute;\n  left: 0;\n  bottom: 28px;\n  width: 100%;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto;\n  transition: opacity 0.3s ease-out;\n  opacity: 0;\n}\n.fs-figshare-viewer .fs-molecule-display.fs-mode-mobile .fs-speed-controls {\n  opacity: 1;\n  bottom: 21px;\n}\n.fs-figshare-viewer .fs-molecule-display:hover .fs-speed-controls {\n  transition: opacity 0.3s ease-in;\n  opacity: 1;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-play {\n  height: 48px;\n  background-color: rgba(70, 70, 70, 0.55);\n  font-size: 21px;\n  color: #fff;\n  text-align: center;\n  width: 76px;\n  border-radius: 3px;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-play::before {\n  display: inline-block;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-play[disabled] {\n  color: #464646;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-play:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-play::before {\n  content: "\\F157";\n}\n.fs-figshare-viewer .fs-molecule-display .fs-decrease-speed {\n  height: 48px;\n  background-color: rgba(70, 70, 70, 0.55);\n  font-size: 21px;\n  color: #fff;\n  text-align: center;\n  width: 56px;\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before {\n  display: inline-block;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-decrease-speed[disabled] {\n  color: #464646;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-decrease-speed:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before {\n  line-height: 48px;\n  content: "\\F177";\n}\n.fs-figshare-viewer .fs-molecule-display .fs-increase-speed {\n  height: 48px;\n  background-color: rgba(70, 70, 70, 0.55);\n  font-size: 21px;\n  color: #fff;\n  text-align: center;\n  width: 56px;\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before {\n  display: inline-block;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-increase-speed[disabled] {\n  color: #464646;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-increase-speed:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before {\n  line-height: 48px;\n  content: "\\F179";\n}\n.fs-figshare-viewer .fs-molecule-display .fs-pause {\n  height: 48px;\n  background-color: rgba(70, 70, 70, 0.55);\n  font-size: 21px;\n  color: #fff;\n  text-align: center;\n  width: 76px;\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  justify-content: center;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-pause::before {\n  display: inline-block;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-pause[disabled] {\n  color: #464646;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-pause:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-pause::before {\n  font-size: 10px;\n  margin-bottom: 4px;\n  content: "\\F15D";\n}\n.fs-figshare-viewer .fs-molecule-display .fs-pause .fs-speed-indicator {\n  line-height: 14px;\n  font-size: 13px;\n}\n.fs-figshare-viewer .fs-molecule-display .fs-pause .fs-speed-indicator.default-speed {\n  font-size: 11px;\n}\n.fs-figshare-viewer .fs-document-display {\n  overflow: auto !important;\n  position: relative;\n}\n.fs-figshare-viewer .fs-document-display .figshare-loader {\n  overflow: hidden !important;\n}\n.fs-figshare-viewer .fs-document-display .fs-image-display {\n  position: relative;\n  margin: 30px auto;\n  border: 1px solid #ddd;\n  box-shadow: 0px 0px 7px #ccc;\n  opacity: 0.9;\n  transition: opacity 1s, transform 1s, transform-origin 1s;\n}\n.fs-figshare-viewer .fs-document-display .fs-image-display.fs-prev-page {\n  transform-origin: center bottom;\n  transform: perspective(600px) rotateX(1deg) translateZ(-2px);\n}\n.fs-figshare-viewer .fs-document-display .fs-image-display.fs-next-page {\n  transform-origin: center top;\n  transform: perspective(600px) rotateX(-1deg) translateZ(-2px);\n}\n.fs-figshare-viewer .fs-document-display .fs-image-display.fs-current-page {\n  opacity: 1;\n  transform: perspective(600px) rotateX(0deg) translateZ(0px);\n}\n.fs-figshare-viewer .fs-document-display .fs-canvas-document-container {\n  overflow: auto;\n  position: absolute;\n}\n.fs-figshare-viewer .fs-document-display .fs-canvas-document-container .fs-page-wrapper {\n  margin: 30px auto;\n  border: 1px solid #ddd;\n  box-shadow: 0 0 7px #ccc;\n  position: relative;\n}\n.fs-figshare-viewer .fs-document-display .fs-canvas-document-container .fs-page-wrapper .fs-canvas-clone {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.fs-figshare-viewer .fs-loading-layer {\n  position: absolute;\n  z-index: 4;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #fff;\n}\n.fs-figshare-viewer .fs-text-layer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  opacity: 0.2;\n  line-height: 1.0;\n}\n.fs-figshare-viewer .fs-text-layer > div {\n  color: transparent;\n  position: absolute;\n  white-space: pre;\n  cursor: text;\n  transform-origin: 0% 0%;\n}\n.fs-figshare-viewer .fs-text-layer .highlight {\n  margin: -1px;\n  padding: 1px;\n  border-radius: 4px;\n}\n.fs-figshare-viewer .fs-text-layer .highlight.begin {\n  border-radius: 4px 0 0 4px;\n}\n.fs-figshare-viewer .fs-text-layer .highlight.end {\n  border-radius: 0 4px 4px 0;\n}\n.fs-figshare-viewer .fs-text-layer .highlight.middle {\n  border-radius: 0;\n}\n.fs-figshare-viewer .fs-text-layer ::-moz-selection {\n  background: #3496fb;\n}\n.fs-figshare-viewer .fs-text-layer ::selection {\n  background: #3496fb;\n}\n.fs-figshare-viewer .fs-text-layer ::-moz-selection {\n  background: #3496fb;\n}\n.fs-figshare-viewer .fs-text-layer .endOfContent {\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 100%;\n  right: 0;\n  bottom: 0;\n  z-index: -1;\n  cursor: default;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.fs-figshare-viewer .fs-text-layer .endOfContent.active {\n  top: 0;\n}\n.fs-figshare-viewer .fs-dataset-display {\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-sheet-display {\n  position: relative;\n  overflow: auto;\n  height: 100%;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper {\n  width: 100%;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper table {\n  white-space: normal;\n  text-align: left;\n  min-width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0px;\n  vertical-align: middle;\n  line-height: 28px;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper th,\n.fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper td {\n  border: 1px solid #ccc;\n  padding: .4em .8em;\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper th {\n  background: #ddd;\n  font-weight: 400;\n  text-align: center;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper tbody th {\n  width: 60px;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel {\n  position: relative;\n  width: 100%;\n  height: 34px;\n  overflow: hidden;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper {\n  position: relative;\n  width: 100%;\n  height: 34px;\n  overflow: hidden;\n  z-index: 0;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active {\n  width: calc(100% - 80px);\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::after,\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::before {\n  z-index: 1;\n  content: " ";\n  opacity: 0;\n  transition: opacity 0.5s;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::before {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: auto;\n  display: block;\n  width: 20px;\n  height: 34px;\n  background: linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0));\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::after {\n  position: absolute;\n  top: 0px;\n  left: auto;\n  right: 0px;\n  display: block;\n  width: 20px;\n  height: 34px;\n  background: linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0));\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active.fs-fade-left::before,\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active.fs-fade-right::after {\n  opacity: 1;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-container {\n  position: relative;\n  top: 0px;\n  display: inline-block;\n  height: 34px;\n  text-align: left;\n  white-space: nowrap;\n  z-index: 0;\n  transition: left 0.5s;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-controls {\n  position: absolute;\n  top: 0px;\n  left: auto;\n  right: 0px;\n  width: 80px;\n  height: 34px;\n  text-align: center;\n  background: #fff;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control,\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control {\n  width: 21px;\n  height: 34px;\n  color: #ddd;\n  line-height: 34px;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control.fs-active,\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control.fs-active {\n  color: #c74d5a;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control::before {\n  content: "\\F107";\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control::before {\n  content: "\\F108";\n}\n.fs-figshare-viewer .fs-dataset-display .fs-carousel {\n  border-top: 1px solid #ddd;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-selector {\n  position: relative;\n  display: inline-block;\n  margin-right: -13px;\n  padding: 0 20px;\n  color: #fff;\n  text-align: center;\n  vertical-align: middle;\n  height: 24px;\n  width: auto;\n  z-index: 0;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-selector:before {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  border-top: 24px solid #c74d5a;\n  border-left: 13px solid transparent;\n  border-right: 13px solid transparent;\n  border-radius: 0 0 18px 18px;\n  content: "";\n  z-index: -1;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-selector:after {\n  position: absolute;\n  top: 0px;\n  left: -1px;\n  right: -1px;\n  bottom: -1px;\n  border-top: 25px solid #ddd;\n  border-left: 13px solid transparent;\n  border-right: 13px solid transparent;\n  border-radius: 0 0px 18px 18px;\n  content: "";\n  z-index: -2;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-selector:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-selector.fs-active {\n  color: #464646;\n  font-weight: 700;\n}\n.fs-figshare-viewer .fs-dataset-display .fs-selector.fs-active:before {\n  border-top: 24px solid #fff;\n}\n.fs-figshare-viewer .leaflet-bar {\n  background-color: #eee;\n  background-color: rgba(255, 255, 255, 0.4);\n  border-radius: 4px;\n  padding: 2px;\n  box-shadow: none;\n}\n.fs-figshare-viewer .leaflet-bar a,\n.fs-figshare-viewer .leaflet-bar a:hover {\n  color: #fff;\n  font-size: 1.14em;\n  font-weight: 700;\n  text-decoration: none;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: 1.4em;\n  background-color: #7b98bc;\n  background-color: rgba(0, 60, 136, 0.5);\n  margin: 1px;\n  border: none;\n}\n.fs-figshare-viewer a.leaflet-disabled,\n.fs-figshare-viewer a.leaflet-disabled:hover {\n  color: #000;\n  background-color: rgba(255, 255, 255, 0.4) !important;\n}\n.fs-figshare-viewer .leaflet-bar a:hover {\n  background-color: #4c6079;\n  background-color: rgba(0, 60, 136, 0.7);\n}\n.fs-figshare-viewer .leaflet-control-zoom-in {\n  border-radius: 2px 2px 0 0 !important;\n}\n.fs-figshare-viewer .leaflet-control-zoom-out {\n  border-radius: 0 0 2px 2px !important;\n}\n.fs-figshare-viewer .fs-info:before {\n  content: "i";\n}\n.fs-figshare-viewer .fs-info.fs-open:before {\n  content: ">";\n}\n.fs-figshare-viewer .fs-info:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .leaflet-control-attribution {\n  left: -10px;\n  top: -10px;\n  padding: 7px 30px 7px 7px;\n  border-radius: 4px;\n}\n.fs-figshare-viewer .fs-text-display {\n  position: relative;\n}\n.fs-figshare-viewer .fs-text-display .fs-text-container {\n  height: 100%;\n  overflow: auto;\n  text-align: left;\n}\n.fs-figshare-viewer .fs-text-display pre {\n  white-space: pre;\n  font-size: 12px;\n  line-height: 14px;\n}\n.fs-figshare-viewer .fs-text-display .hljs,\n.fs-figshare-viewer .fs-text-display [class^="hljs-"] {\n  font-family: "Lucida Console", Monaco, monospace;\n}\n.fs-figshare-viewer .fs-text-display .hljs {\n  display: block;\n  padding: 14px;\n  color: #464646;\n}\n.fs-figshare-viewer .fs-text-display .hljs-comment,\n.fs-figshare-viewer .fs-text-display .hljs-quote {\n  color: #999;\n  font-style: italic;\n}\n.fs-figshare-viewer .fs-text-display .hljs-keyword,\n.fs-figshare-viewer .fs-text-display .hljs-selector-tag,\n.fs-figshare-viewer .fs-text-display .hljs-subst {\n  color: #157009;\n  font-weight: bold;\n}\n.fs-figshare-viewer .fs-text-display .hljs-number,\n.fs-figshare-viewer .fs-text-display .hljs-literal,\n.fs-figshare-viewer .fs-text-display .hljs-variable,\n.fs-figshare-viewer .fs-text-display .hljs-template-variable,\n.fs-figshare-viewer .fs-text-display .hljs-tag .hljs-attr {\n  color: #008080;\n  font-weight: bold;\n}\n.fs-figshare-viewer .fs-text-display .hljs-string,\n.fs-figshare-viewer .fs-text-display .hljs-doctag {\n  color: #c74d5a;\n}\n.fs-figshare-viewer .fs-text-display .hljs-title,\n.fs-figshare-viewer .fs-text-display .hljs-section,\n.fs-figshare-viewer .fs-text-display .hljs-selector-id {\n  color: #c81a2b;\n  font-weight: bold;\n}\n.fs-figshare-viewer .fs-text-display .hljs-subst {\n  font-weight: normal;\n}\n.fs-figshare-viewer .fs-text-display .hljs-type,\n.fs-figshare-viewer .fs-text-display .hljs-class .hljs-title {\n  color: #458;\n  font-weight: bold;\n}\n.fs-figshare-viewer .fs-text-display .hljs-tag,\n.fs-figshare-viewer .fs-text-display .hljs-name,\n.fs-figshare-viewer .fs-text-display .hljs-attribute {\n  color: #000080;\n  font-weight: normal;\n}\n.fs-figshare-viewer .fs-text-display .hljs-regexp,\n.fs-figshare-viewer .fs-text-display .hljs-link {\n  color: #A3CD3D;\n}\n.fs-figshare-viewer .fs-text-display .hljs-symbol,\n.fs-figshare-viewer .fs-text-display .hljs-bullet {\n  color: #990073;\n}\n.fs-figshare-viewer .fs-text-display .hljs-built_in,\n.fs-figshare-viewer .fs-text-display .hljs-builtin-name {\n  color: #0086b3;\n  font-weight: bold;\n}\n.fs-figshare-viewer .fs-text-display .hljs-meta {\n  color: #556471;\n  font-weight: bold;\n}\n.fs-figshare-viewer .fs-text-display .hljs-deletion {\n  background: #ffdbdb;\n}\n.fs-figshare-viewer .fs-text-display .hljs-addition {\n  background: #edf3d7;\n}\n.fs-figshare-viewer .fs-text-display .hljs-emphasis {\n  font-style: italic;\n}\n.fs-figshare-viewer .fs-text-display .hljs-strong {\n  font-weight: bold;\n}\n.fs-figshare-viewer .fs-jupyter-display {\n  position: relative;\n}\n.fs-figshare-viewer .fs-jupyter-display .figshare-loader {\n  overflow: hidden !important;\n}\n.fs-figshare-viewer .fs-viewer3d-display {\n  position: relative;\n}\n.fs-figshare-viewer .fs-viewer3d-display canvas {\n  background: linear-gradient(to top, #202020 0%, #000 29%, #131313 29%, #000 55%);\n}\n.fs-figshare-viewer .fs-graph-display {\n  position: relative;\n}\n.fs-figshare-viewer .fs-graph-display canvas {\n  background: radial-gradient(circle, #fff 50%, #ddd);\n}\n.fs-figshare-viewer .fs-fits-display .figshare-loader {\n  overflow: hidden !important;\n}\n.fs-figshare-viewer .fs-fits-display .fs-canvas-container {\n  background: rgba(0, 0, 0, 0.3);\n}\n.fs-figshare-viewer .fs-fits-display .fs-canvas-container canvas {\n  display: block;\n}\n.fs-figshare-viewer .fs-fits-display .fv-explore-container {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info {\n  position: absolute;\n  left: 14px;\n  top: 14px;\n  background: rgba(48, 48, 48, 0.75);\n  border-radius: 3px;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-image-meta {\n  width: 230px;\n  padding: 14px;\n  color: #bbb;\n  line-height: 21px;\n  font-size: 12px;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-image-meta .fv-fits-meta-separator {\n  height: 1em;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation {\n  color: #fff;\n  padding: 7px;\n  font-size: 14px;\n  line-height: 28px;\n  display: flex;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button {\n  width: 28px;\n  height: 28px;\n  line-height: 28px;\n  background: transparent;\n  color: inherit;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.next::after {\n  content: "\\F179";\n  font-size: 14px;\n  line-height: 28px;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.prev::after {\n  content: "\\F177";\n  font-size: 14px;\n  line-height: 28px;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta {\n  margin-left: 12px;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta::after {\n  content: "\\F11B";\n  font-size: 14px;\n  line-height: 28px;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close {\n  margin-left: auto;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close::after {\n  content: "\\F133";\n  font-size: 14px;\n  line-height: 28px;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.disabled {\n  color: #bbb;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-index {\n  vertical-align: middle;\n  font-size: 14px;\n  margin: 0 7px;\n}\n.fs-figshare-viewer .fs-fits-display .fs-histo-container {\n  position: absolute;\n  right: 14px;\n  bottom: 14px;\n  background: rgba(0, 0, 0, 0.3);\n}\n.fs-figshare-viewer .fs-fits-display .fs-histo-container.disabled {\n  display: none;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-histo-controls-container {\n  background-color: #f8f8f8;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  line-height: 21px;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-histo-button {\n  margin: 0 7px;\n  font-size: 14px;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-histo-button.disabled {\n  color: #bbb;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-histo-close {\n  position: relative;\n  top: 3px;\n  float: right;\n  color: #bbb;\n}\n.fs-figshare-viewer .fs-fits-display .fv-fits-histo-close::before {\n  content: "\\F111";\n}\n.fs-figshare-viewer .fs-fits-display .fs-histo-canvas-container canvas {\n  display: block;\n}\n.fs-figshare-viewer .fs-figshare-viewer {\n  position: relative;\n  text-align: left;\n}\n.fs-figshare-viewer .fs-controls-wrapper {\n  height: auto;\n  width: 100%;\n  position: relative;\n  z-index: 2;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-molecule-controls-wrap {\n  width: 100%;\n  height: 38px;\n  display: flex;\n  flex-flow: row;\n  justify-content: flex-end;\n  align-items: center;\n  background: #f5f5f5;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal {\n  margin: 0 14px 0 7px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-pagination-info {\n  display: inline-block;\n  width: 42px;\n  text-align: right;\n  font-size: 11px;\n  font-weight: normal;\n  margin-right: 7px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page,\n.fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page {\n  margin: 0 7px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before,\n.fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before {\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page:focus,\n.fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before {\n  content: "\\F177";\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before {\n  content: "\\F179";\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-comment-list {\n  max-width: 270px;\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-trigger {\n  position: relative;\n  margin-right: 10px;\n  padding-right: 5px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after,\n.fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before {\n  position: absolute;\n  right: -9px;\n  font-size: 5px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after {\n  top: 12px;\n  content: "\\F109";\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before {\n  top: 20px;\n  content: "\\F106";\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-trigger:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-current-comment {\n  font-size: 13px;\n  line-height: 38px;\n  white-space: nowrap;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-menu-wrapper {\n  position: absolute;\n  right: -105px;\n  bottom: 0;\n  width: 0;\n  height: 0;\n  display: flex;\n  justify-content: center;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu {\n  position: absolute;\n  top: 0;\n  left: auto;\n  right: 0;\n  max-width: 385px;\n  border: 1px solid #ddd;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::after,\n.fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::before {\n  top: 0;\n  right: 110px;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::after {\n  border-bottom-color: #fff;\n  border-width: 7px;\n  margin-right: -7px;\n  margin-top: -14px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::before {\n  border-bottom-color: #ddd;\n  border-width: 8px;\n  margin-right: -8px;\n  margin-top: -16px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 13px;\n  line-height: 20px;\n  border-bottom: 1px solid #ddd;\n  padding: 7px 14px;\n  color: #464646;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item:last-child {\n  border-bottom: 0;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item.fs-active {\n  font-weight: bold;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item:hover,\n.fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item.fs-active {\n  background-color: #f8f8f8;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-items-wrap {\n  max-height: 244px;\n  min-width: 182px;\n  background-color: #fff;\n  overflow-y: auto;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile.fs-molecule-controls-wrap {\n  border-top: 1px solid #464646;\n  justify-content: center;\n  background: #000;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-pagination {\n  display: none;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-trigger {\n  color: #f8f8f8;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-menu-wrapper {\n  right: 0;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu {\n  position: fixed;\n  top: 83px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: auto;\n  height: auto;\n  max-width: none;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu::before,\n.fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu::after {\n  right: 50%;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-current-comment {\n  font-weight: bold;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-drop-item {\n  padding: 21px 14px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-items-wrap {\n  max-height: 60%;\n  width: 100%;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button {\n  margin: 0 7px;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button:before {\n  font-size: 16px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button[disabled] {\n  color: #bbb;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-in:before {\n  content: "\\F19F";\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-out:before {\n  content: "\\F1A0";\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-fit:before {\n  content: "\\F137";\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls {\n  width: 100%;\n  height: 38px;\n  display: flex;\n  flex-flow: row;\n  justify-content: flex-end;\n  align-items: center;\n  background: #f5f5f5;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-image-navigation-control {\n  font-size: 14px;\n  line-height: 38px;\n  color: #464646;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu {\n  display: inline-block;\n  position: relative;\n  height: 38px;\n  line-height: 38px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name {\n  color: #464646;\n  font-size: 14px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name::after {\n  content: "\\F10A";\n  margin-left: 7px;\n  font-size: 14px;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name span {\n  display: inline-block;\n  max-width: 170px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper {\n  right: 0;\n  position: absolute;\n  top: 100%;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu {\n  position: relative;\n  border: 1px solid #ddd;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap {\n  background: white;\n  z-index: 2;\n  position: relative;\n  width: 250px;\n  font-size: 14px;\n  max-height: 320px;\n  overflow-y: auto;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item {\n  display: flex;\n  padding: 0 14px;\n  border-top: 1px solid #ddd;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item:first-child {\n  border: none;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item .layer-count {\n  font-weight: 13px;\n  color: #464646;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item.fv-active {\n  font-weight: bold;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .layer-title {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .layer-count {\n  margin-left: 4px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu::before {\n  content: "";\n  z-index: 1;\n  position: absolute;\n  top: -5px;\n  right: 6px;\n  width: 8px;\n  height: 8px;\n  transform: rotate(45deg);\n  background: white;\n  border: 1px solid #ddd;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fs-zoom {\n  display: inline;\n  margin-left: 14px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-button {\n  margin: 0 7px;\n  height: 100%;\n  vertical-align: middle;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-button:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-layer-index {\n  margin-left: 28px;\n  margin-right: 7px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-prev-layer-button:before {\n  content: "\\F177";\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-next-layer-button:before {\n  content: "\\F179";\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-histo-button {\n  margin-left: 14px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-histo-button:before {\n  content: "\\F145";\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-histo-button.disabled {\n  color: #bbb;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu {\n  position: absolute;\n  max-width: 461px;\n  background-color: #fff;\n  border: 1px solid #ddd;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::after,\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::before {\n  top: -16px;\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::after {\n  border-bottom-color: #fff;\n  border-width: 8px;\n  margin-left: -8px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::before {\n  border-bottom-color: #ddd;\n  border-width: 7px;\n  margin-left: -7px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 20px;\n  border-bottom: 1px solid #ddd;\n  padding: 7px 14px;\n  color: #464646;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item:last-child {\n  border-bottom: 0;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item.fv-active {\n  font-weight: bold;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item:hover,\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item.fv-active {\n  background-color: #f8f8f8;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile {\n  justify-content: space-between;\n  padding: 0 14px;\n  box-sizing: border-box;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-fits-layer-name {\n  margin: 0;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-fits-layer-name span {\n  width: 75px;\n  text-align: left;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper {\n  right: auto;\n  left: -14px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-comments-menu::before {\n  right: auto;\n  left: 95px;\n}\n.fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-comments-menu .fv-items-wrap {\n  width: 320px;\n}\nfigshare-overlay {\n  display: none;\n  z-index: 200;\n}\nfigshare-overlay.fs-active {\n  display: block;\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  min-height: 100%;\n  overflow-y: auto;\n}\nfigshare-overlay .fs-curtains {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: block;\n  overflow: auto;\n  background: rgba(255, 255, 255, 0.7);\n}\nfigshare-overlay .fs-curtains > .fs-container {\n  position: relative;\n  display: block;\n  margin: 0 auto;\n  background: #f5f5f5;\n}\n.fsButton,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-back-button,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-back-button {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.fsButton:focus,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon:focus,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search:focus,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button:focus,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-back-button:focus,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search:focus,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:focus,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger:focus,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-back-button:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fsButton::before,\n.fsButton::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::before,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::before,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button::before,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::before,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::before,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button::before,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::before,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-back-button::before,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-back-button::after {\n  display: inline;\n  font-size: 10px;\n}\nfigshare-widget,\nfigshare-overlay {\n  /* HTML5 display-role reset for older browsers */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  display: block;\n  font-size: 13px;\n}\nfigshare-widget html,\nfigshare-overlay html,\nfigshare-widget body,\nfigshare-overlay body,\nfigshare-widget div,\nfigshare-overlay div,\nfigshare-widget span,\nfigshare-overlay span,\nfigshare-widget applet,\nfigshare-overlay applet,\nfigshare-widget object,\nfigshare-overlay object,\nfigshare-widget iframe,\nfigshare-overlay iframe,\nfigshare-widget h1,\nfigshare-overlay h1,\nfigshare-widget h2,\nfigshare-overlay h2,\nfigshare-widget h3,\nfigshare-overlay h3,\nfigshare-widget h4,\nfigshare-overlay h4,\nfigshare-widget h5,\nfigshare-overlay h5,\nfigshare-widget h6,\nfigshare-overlay h6,\nfigshare-widget p,\nfigshare-overlay p,\nfigshare-widget blockquote,\nfigshare-overlay blockquote,\nfigshare-widget pre,\nfigshare-overlay pre,\nfigshare-widget a,\nfigshare-overlay a,\nfigshare-widget abbr,\nfigshare-overlay abbr,\nfigshare-widget acronym,\nfigshare-overlay acronym,\nfigshare-widget address,\nfigshare-overlay address,\nfigshare-widget big,\nfigshare-overlay big,\nfigshare-widget cite,\nfigshare-overlay cite,\nfigshare-widget code,\nfigshare-overlay code,\nfigshare-widget del,\nfigshare-overlay del,\nfigshare-widget dfn,\nfigshare-overlay dfn,\nfigshare-widget em,\nfigshare-overlay em,\nfigshare-widget img,\nfigshare-overlay img,\nfigshare-widget ins,\nfigshare-overlay ins,\nfigshare-widget kbd,\nfigshare-overlay kbd,\nfigshare-widget q,\nfigshare-overlay q,\nfigshare-widget s,\nfigshare-overlay s,\nfigshare-widget samp,\nfigshare-overlay samp,\nfigshare-widget small,\nfigshare-overlay small,\nfigshare-widget strike,\nfigshare-overlay strike,\nfigshare-widget strong,\nfigshare-overlay strong,\nfigshare-widget tt,\nfigshare-overlay tt,\nfigshare-widget var,\nfigshare-overlay var,\nfigshare-widget b,\nfigshare-overlay b,\nfigshare-widget u,\nfigshare-overlay u,\nfigshare-widget i,\nfigshare-overlay i,\nfigshare-widget center,\nfigshare-overlay center,\nfigshare-widget dl,\nfigshare-overlay dl,\nfigshare-widget dt,\nfigshare-overlay dt,\nfigshare-widget dd,\nfigshare-overlay dd,\nfigshare-widget ol,\nfigshare-overlay ol,\nfigshare-widget ul,\nfigshare-overlay ul,\nfigshare-widget li,\nfigshare-overlay li,\nfigshare-widget fieldset,\nfigshare-overlay fieldset,\nfigshare-widget form,\nfigshare-overlay form,\nfigshare-widget label,\nfigshare-overlay label,\nfigshare-widget legend,\nfigshare-overlay legend,\nfigshare-widget table,\nfigshare-overlay table,\nfigshare-widget caption,\nfigshare-overlay caption,\nfigshare-widget tbody,\nfigshare-overlay tbody,\nfigshare-widget tfoot,\nfigshare-overlay tfoot,\nfigshare-widget thead,\nfigshare-overlay thead,\nfigshare-widget tr,\nfigshare-overlay tr,\nfigshare-widget th,\nfigshare-overlay th,\nfigshare-widget td,\nfigshare-overlay td,\nfigshare-widget article,\nfigshare-overlay article,\nfigshare-widget aside,\nfigshare-overlay aside,\nfigshare-widget canvas,\nfigshare-overlay canvas,\nfigshare-widget details,\nfigshare-overlay details,\nfigshare-widget embed,\nfigshare-overlay embed,\nfigshare-widget figure,\nfigshare-overlay figure,\nfigshare-widget figcaption,\nfigshare-overlay figcaption,\nfigshare-widget footer,\nfigshare-overlay footer,\nfigshare-widget header,\nfigshare-overlay header,\nfigshare-widget hgroup,\nfigshare-overlay hgroup,\nfigshare-widget menu,\nfigshare-overlay menu,\nfigshare-widget nav,\nfigshare-overlay nav,\nfigshare-widget output,\nfigshare-overlay output,\nfigshare-widget ruby,\nfigshare-overlay ruby,\nfigshare-widget section,\nfigshare-overlay section,\nfigshare-widget summary,\nfigshare-overlay summary,\nfigshare-widget time,\nfigshare-overlay time,\nfigshare-widget mark,\nfigshare-overlay mark,\nfigshare-widget audio,\nfigshare-overlay audio,\nfigshare-widget video,\nfigshare-overlay video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font-family: Arial, Helvetica, sans-serif;\n  vertical-align: baseline;\n}\nfigshare-widget sub,\nfigshare-overlay sub,\nfigshare-widget sup,\nfigshare-overlay sup {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-family: Arial, Helvetica, sans-serif;\n}\nfigshare-widget article,\nfigshare-overlay article,\nfigshare-widget aside,\nfigshare-overlay aside,\nfigshare-widget details,\nfigshare-overlay details,\nfigshare-widget figcaption,\nfigshare-overlay figcaption,\nfigshare-widget figure,\nfigshare-overlay figure,\nfigshare-widget footer,\nfigshare-overlay footer,\nfigshare-widget header,\nfigshare-overlay header,\nfigshare-widget hgroup,\nfigshare-overlay hgroup,\nfigshare-widget menu,\nfigshare-overlay menu,\nfigshare-widget nav,\nfigshare-overlay nav,\nfigshare-widget section,\nfigshare-overlay section {\n  display: block;\n}\nfigshare-widget body,\nfigshare-overlay body {\n  line-height: 1;\n}\nfigshare-widget ol,\nfigshare-overlay ol,\nfigshare-widget ul,\nfigshare-overlay ul {\n  list-style: none;\n}\nfigshare-widget blockquote,\nfigshare-overlay blockquote,\nfigshare-widget q,\nfigshare-overlay q {\n  quotes: none;\n}\nfigshare-widget blockquote:before,\nfigshare-overlay blockquote:before,\nfigshare-widget blockquote:after,\nfigshare-overlay blockquote:after,\nfigshare-widget q:before,\nfigshare-overlay q:before,\nfigshare-widget q:after,\nfigshare-overlay q:after {\n  content: \'\';\n  content: none;\n}\nfigshare-widget table,\nfigshare-overlay table {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nfigshare-widget input,\nfigshare-overlay input,\nfigshare-widget textarea,\nfigshare-overlay textarea,\nfigshare-widget select,\nfigshare-overlay select {\n  outline: none;\n}\nfigshare-widget h1,\nfigshare-overlay h1,\nfigshare-widget h2,\nfigshare-overlay h2,\nfigshare-widget h3,\nfigshare-overlay h3,\nfigshare-widget h4,\nfigshare-overlay h4,\nfigshare-widget h5,\nfigshare-overlay h5,\nfigshare-widget h6,\nfigshare-overlay h6,\nfigshare-widget body,\nfigshare-overlay body,\nfigshare-widget button,\nfigshare-overlay button,\nfigshare-widget input,\nfigshare-overlay input,\nfigshare-widget select,\nfigshare-overlay select,\nfigshare-widget textarea,\nfigshare-overlay textarea,\nfigshare-widget pre,\nfigshare-overlay pre {\n  font-family: Arial, Helvetica, sans-serif;\n}\nfigshare-widget strong,\nfigshare-overlay strong {\n  font-weight: bold;\n}\nfigshare-widget input,\nfigshare-overlay input,\nfigshare-widget textarea,\nfigshare-overlay textarea {\n  border: 0 none;\n  padding: 0;\n  font-size: 13px;\n  background-color: transparent;\n}\nfigshare-widget button,\nfigshare-overlay button {\n  margin: 0;\n  background: transparent;\n  border: 0;\n  padding: 0;\n}\nfigshare-widget button:focus,\nfigshare-overlay button:focus {\n  outline: none;\n}\nfigshare-widget .figshare-loader,\nfigshare-overlay .figshare-loader {\n  width: 100%;\n  position: relative;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder {\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder:before,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder:before {\n  content: \'\';\n  height: 100%;\n  vertical-align: middle;\n  display: inline-block;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message {\n  padding: 14px 28px;\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n  z-index: 200;\n  border: 1px solid #ddd;\n  background: #fff;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message:before,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message:before {\n  content: \'\';\n  height: 100%;\n  vertical-align: middle;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .figshare-logo,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .figshare-logo {\n  width: 21px;\n  height: 21px;\n}\n@-webkit-keyframes opacityPulse {\n  0% {\n    opacity: 0;\n  }\n  10% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes opacityPulse {\n  0% {\n    opacity: 0;\n  }\n  10% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message g[class^=\'group\'],\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message g[class^=\'group\'] {\n  opacity: 1;\n  -webkit-animation: 0.8s opacityPulse infinite linear;\n          animation: 0.8s opacityPulse infinite linear;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-20,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-20 {\n  -webkit-animation-delay: 0.76s !important;\n          animation-delay: 0.76s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-19,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-19 {\n  -webkit-animation-delay: 0.72s !important;\n          animation-delay: 0.72s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-18,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-18 {\n  -webkit-animation-delay: 0.6799999999999999s !important;\n          animation-delay: 0.6799999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-17,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-17 {\n  -webkit-animation-delay: 0.6399999999999999s !important;\n          animation-delay: 0.6399999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-16,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-16 {\n  -webkit-animation-delay: 0.5999999999999999s !important;\n          animation-delay: 0.5999999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-15,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-15 {\n  -webkit-animation-delay: 0.5599999999999998s !important;\n          animation-delay: 0.5599999999999998s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-14,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-14 {\n  -webkit-animation-delay: 0.5199999999999998s !important;\n          animation-delay: 0.5199999999999998s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-13,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-13 {\n  -webkit-animation-delay: 0.4799999999999998s !important;\n          animation-delay: 0.4799999999999998s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-12,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-12 {\n  -webkit-animation-delay: 0.43999999999999984s !important;\n          animation-delay: 0.43999999999999984s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-11,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-11 {\n  -webkit-animation-delay: 0.39999999999999986s !important;\n          animation-delay: 0.39999999999999986s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-10,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-10 {\n  -webkit-animation-delay: 0.3599999999999999s !important;\n          animation-delay: 0.3599999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-9,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-9 {\n  -webkit-animation-delay: 0.3199999999999999s !important;\n          animation-delay: 0.3199999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-8,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-8 {\n  -webkit-animation-delay: 0.2799999999999999s !important;\n          animation-delay: 0.2799999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-7,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-7 {\n  -webkit-animation-delay: 0.2399999999999999s !important;\n          animation-delay: 0.2399999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-6,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-6 {\n  -webkit-animation-delay: 0.1999999999999999s !important;\n          animation-delay: 0.1999999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-5,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-5 {\n  -webkit-animation-delay: 0.1599999999999999s !important;\n          animation-delay: 0.1599999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-4,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-4 {\n  -webkit-animation-delay: 0.11999999999999988s !important;\n          animation-delay: 0.11999999999999988s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-3,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-3 {\n  -webkit-animation-delay: 0.07999999999999988s !important;\n          animation-delay: 0.07999999999999988s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-2,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-2 {\n  -webkit-animation-delay: 0.039999999999999876s !important;\n          animation-delay: 0.039999999999999876s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-1,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-1 {\n  -webkit-animation-delay: -0.0000000000000001249s !important;\n          animation-delay: -0.0000000000000001249s !important;\n}\nfigshare-widget .figshare-loader.fs-loading,\nfigshare-overlay .figshare-loader.fs-loading {\n  position: relative;\n}\nfigshare-widget .figshare-loader.fs-loading:before,\nfigshare-overlay .figshare-loader.fs-loading:before {\n  content: \'\';\n  opacity: 0.7;\n  background: #fff;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 100;\n}\nfigshare-widget .figshare-loader .fs-logo,\nfigshare-overlay .figshare-loader .fs-logo,\nfigshare-widget .figshare-loader .fs-message-wrap,\nfigshare-overlay .figshare-loader .fs-message-wrap,\nfigshare-widget .figshare-loader .fs-retry-action,\nfigshare-overlay .figshare-loader .fs-retry-action {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .figshare-loader .fs-message-wrap,\nfigshare-overlay .figshare-loader .fs-message-wrap,\nfigshare-widget .figshare-loader .fs-retry-action,\nfigshare-overlay .figshare-loader .fs-retry-action {\n  margin-left: 7px;\n}\nfigshare-widget .figshare-loader .fs-retry-action,\nfigshare-overlay .figshare-loader .fs-retry-action {\n  color: #c74d5a;\n  margin-left: 7px;\n}\nfigshare-widget .figshare-loader .fs-retry-action:hover,\nfigshare-overlay .figshare-loader .fs-retry-action:hover {\n  text-decoration: underline;\n}\nfigshare-widget .figshare-loader.fs-error .fs-figshare-loader-message,\nfigshare-overlay .figshare-loader.fs-error .fs-figshare-loader-message {\n  background-color: #ffdbdb;\n  border: none;\n  border-radius: 3px;\n}\n@font-face {\n  font-family: "figIcon";\n  src: url('+o+");\n  src: url("+i+') format("embedded-opentype"), url('+a+") format('woff'), url("+s+") format('truetype'), url("+f+') format(\'svg\');\n}\nfigshare-widget.fs-widget-viewer {\n  width: 100%;\n  height: 100%;\n  min-height: 400px;\n  position: relative;\n}\nfigshare-widget.fs-widget-viewer .fs-widget-description {\n  background-color: #f5f5f5;\n  border-top: 1px solid #ddd;\n  padding: 14px;\n}\nfigshare-widget.fs-widget-viewer .fs-widget-description .fs-file-title {\n  margin-bottom: 7px;\n  font-weight: bold;\n}\nfigshare-widget.fs-widget-viewer .fs-vertical-align-wrap::after {\n  content: "";\n  display: inline-block;\n  vertical-align: middle;\n  height: 100%;\n}\nfigshare-widget.fs-widget-viewer .fs-vertical-align-wrap .fs-vertical-align-content {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget.fs-widget-viewer.fs-responsive-hide-text .fs-button-text {\n  display: none!important;\n}\nfigshare-widget.fs-widget-viewer.fs-responsive-hide-text .fs-cite {\n  width: 28px;\n}\nfigshare-widget.fs-widget-viewer.fs-responsive-hide-text .fs-cite:before {\n  left: 8px;\n}\nfigshare-widget.fs-widget-viewer.fs-responsive-hide-text .fs-details-container .fs-button-text {\n  display: inline!important;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer {\n  width: 100%;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button {\n  height: 32px;\n  color: #999;\n  text-decoration: none;\n  vertical-align: middle;\n  display: inline-block;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button::after {\n  display: inline-block;\n  margin-left: 3px;\n  content: "\\F142";\n  font-size: 10px;\n  line-height: 32px;\n  height: 32px;\n  color: transparent;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button .fs-logo,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button .fs-button-text {\n  display: inline-block;\n  height: 32px;\n  line-height: 32px;\n  font-size: 13px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button .figshare-logo {\n  width: 32px;\n  height: 32px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button .style0 {\n  fill: #58585a;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button .style1 {\n  fill: #d1d2d4;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button .style2 {\n  fill: #818286;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button .style3 {\n  fill: #a8a9ad;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button:hover {\n  color: #556471;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button:hover .style0 {\n  fill: #566471;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button:hover .style1 {\n  fill: #A2CD3C;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button:hover .style2 {\n  fill: #C54C59;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button:hover .style3 {\n  fill: #5BC4BD;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button:hover::after {\n  color: #556471;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-header {\n  background-color: #f5f5f5;\n  padding: 14px;\n  border-bottom: 1px solid #ddd;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-header.fs-with-stats {\n  position: relative;\n  overflow: hidden;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-header.fs-with-stats .fs-title-section {\n  margin-right: 200px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-header .fs-stats-wrap {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 200px;\n  font-size: 11px;\n  line-height: 16px;\n  height: 100%;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-header .fs-stats-count {\n  font-size: 14px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-header .fs-stats-part {\n  width: 33%;\n  display: inline-block;\n  text-align: center;\n  height: 100%;\n  border-left: 1px solid #ddd;\n  box-sizing: border-box;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-header h1 {\n  font-size: 18px;\n  line-height: 26px;\n  margin: 0;\n  font-weight: bold;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-title {\n  line-height: 21px;\n  white-space: nowrap;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-title em {\n  color: #999;\n  font-style: normal;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-download-wrap {\n  display: inline-block;\n  position: relative;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-viewer-controls {\n  background-color: #f5f5f5;\n  padding: 10px 14px 8px;\n  text-align: justify;\n  -ms-text-justify: distribute-all-lines;\n  text-justify: distribute-all-lines;\n  height: 40px;\n  border-top: 1px solid #ddd;\n  box-sizing: content-box;\n  color: #464646;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-viewer-controls .fs-download,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-viewer-controls button {\n  background-color: #fff;\n  line-height: 0;\n  padding: 0 7px;\n  cursor: pointer;\n  border: 1px solid #ddd;\n  height: 24px;\n  min-width: 22px;\n  text-align: center;\n  border-radius: 3px;\n  margin-left: 7px;\n  vertical-align: middle;\n  box-sizing: border-box;\n  font-size: 13px;\n  position: relative;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-viewer-controls .fs-download:before,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-viewer-controls button:before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-viewer-controls .fs-download .fs-button-text,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-viewer-controls button .fs-button-text {\n  display: inline-block;\n  margin-left: 7px;\n  vertical-align: middle;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-viewer-controls:after {\n  display: inline-block;\n  width: 100%;\n  line-height: 0;\n  font-size: 0;\n  content: "";\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-download.fs-download-virus {\n  background: #bbb;\n  border-color: #bbb;\n  color: #fff;\n  cursor: default;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-download-menu {\n  position: absolute;\n  display: block;\n  background: #fff;\n  border-radius: 3px;\n  border: 1px solid #ddd;\n  white-space: nowrap;\n  left: auto;\n  right: 0;\n  top: 40px;\n  text-align: left;\n  padding: 12px 20px 9px 16px;\n  line-height: 24px;\n  z-index: 1;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-download-menu:after {\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  border-bottom: 10px solid #fff;\n  content: " ";\n  position: absolute;\n  top: -10px;\n  right: 36px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-download-menu:before {\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-left: 11px solid transparent;\n  border-right: 11px solid transparent;\n  border-bottom: 11px solid #ddd;\n  content: " ";\n  position: absolute;\n  top: -12px;\n  right: 36px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-download-menu a {\n  display: block;\n  color: #000;\n  font-weight: bold;\n  text-decoration: none;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-viewer-container {\n  position: relative;\n  background-color: #fff;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-viewer-container .click-outside-wrapper {\n  display: inline;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-viewer {\n  position: relative;\n  height: 100%;\n  overflow: hidden;\n  z-index: 0;\n  border-left: 1px solid #f5f5f5;\n  border-right: 1px solid #f5f5f5;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-viewer .figshare-loader {\n  height: 100%;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-details-listing {\n  overflow: hidden;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  position: absolute;\n  background-color: rgba(255, 255, 255, 0.8);\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-details-listing-wrap {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: -1px;\n  border-bottom: 1px solid #ddd;\n  z-index: 1;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-details-listing-wrap .fs-arrow {\n  position: absolute;\n  bottom: 1px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-details-listing-wrap .fs-arrow:after {\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  border-top: 10px solid #fff;\n  content: " ";\n  position: absolute;\n  left: 2px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-details-listing-wrap .fs-arrow:before {\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-left: 11px solid transparent;\n  border-right: 11px solid transparent;\n  border-top: 11px solid #ddd;\n  content: " ";\n  position: absolute;\n  left: 1px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-details-container {\n  max-height: 80%;\n  overflow-y: auto;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  box-shadow: 0 -3px 22px rgba(0, 0, 0, 0.12);\n  border: 1px solid #f5f5f5;\n  box-sizing: border-box;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file {\n  padding: 14px 200px 14px 14px;\n  border-bottom: 1px solid #ddd;\n  background-color: #fff;\n  position: relative;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file:hover {\n  background-color: #f5f5f5;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file .fs-details-buttons {\n  position: absolute;\n  top: 14px;\n  right: 0;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file .fs-details-item {\n  margin-right: 14px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file a {\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file:last-child {\n  border-bottom: 0;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-details-buttons,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-details-title {\n  display: inline;\n  max-width: 100%;\n  white-space: nowrap;\n  cursor: pointer;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-details-name {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-details-item {\n  display: inline-block;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-download {\n  display: inline-block;\n  text-decoration: none;\n  color: #000;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-download:before {\n  content: "\\F12B";\n  line-height: 22px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-controls button.fs-next-page,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-controls button.fs-prev-page {\n  padding: 0;\n  width: 24px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-controls button.fs-next-page:before,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-controls button.fs-prev-page:before {\n  display: inline-block;\n  font-size: 10px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-controls .fs-prev-page::before {\n  content: "\\F107";\n  line-height: 21px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-controls .fs-next-page {\n  width: 24px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-controls .fs-next-page::before {\n  content: "\\F108";\n  line-height: 21px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer button.fs-details {\n  padding: 0;\n  width: 24px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer button.fs-details:before {\n  content: "\\F14F";\n  font-size: 10px;\n  line-height: 21px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-share::before {\n  content: "\\F173";\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-enlarge::before {\n  content: "\\F16F";\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-cite span.fs-button-text {\n  margin-left: 14px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-cite::before {\n  content: "\\F115";\n  position: absolute;\n  top: -2px;\n  font-size: 22px;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button .fs-logo {\n  display: inline-block;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-figshare-button .fs-button-text {\n  margin-left: 7px;\n  display: inline-block;\n  color: #999;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-file-controls {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-controls-group {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-misc-controls {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-fade {\n  transition: opacity 0.25s ease-in;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-fade-enter,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-fade-appear {\n  transition: none;\n  opacity: 0.01;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-fade-enter.fs-fade-enter-active,\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-fade-appear.fs-fade-appear-active {\n  opacity: 1;\n  transition: opacity 0.25s ease-in;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-fade-leave {\n  opacity: 1;\n}\nfigshare-widget.fs-widget-viewer .fs-file-viewer .fs-fade-leave.fs-fade-leave-active {\n  opacity: 0.01;\n}\nfigshare-widget.fs-widget-viewer > .figshare-loader {\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget.fs-widget-viewer > .figshare-loader.fs-loading {\n  position: static;\n}\nfigshare-overlay {\n  color: #464646;\n}\nfigshare-overlay .fs-icon-base {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\nfigshare-overlay .fs-icon-base {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\nfigshare-overlay .fs-file-listing {\n  overflow-x: hidden;\n  height: 100%;\n}\nfigshare-overlay .fs-file-listing .fs-file {\n  position: relative;\n  width: 100%;\n  height: 80px;\n  border-bottom: 1px solid #464646;\n  transition: background 0.2s ease-in;\n}\nfigshare-overlay .fs-file-listing .fs-file.fs-active,\nfigshare-overlay .fs-file-listing .fs-file:hover {\n  background: #333;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container {\n  border-bottom: 1px solid #464646;\n  width: 80px;\n  height: 80px;\n  overflow: hidden;\n  display: inline-block;\n  position: absolute;\n  vertical-align: top;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container {\n  overflow: hidden;\n  width: 68px;\n  height: 68px;\n  margin: 6px;\n  display: block;\n  background: #fff;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container > div,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container > img {\n  width: 100%;\n  height: 100%;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview {\n  background-image: url(\'data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAQEBAQEBAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL/2wBDAQEBAQEBAQICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL/wAARCABFAEQDAREAAhEBAxEB/8QAHAAAAgMBAAMAAAAAAAAAAAAAAAcEBQYBAgMK/8QAPRAAAgIBAQQECQwBBQEAAAAAAQIDBAURAAYSIQcTIjEUFjVBUVVhdbQVFzNCRGOBkpSh0dPwCCMyUrFx/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APtdxeHx1PHYu7epR3MfdoUp7FmUFpsbZmrK8ksz97V3Ylix5wMdTrEf9kNcN28AdCMZU0PMdk8wfPyOwd8WsF6rq/lP87AeLWB9V1fyn+dgPFrA+q6v5T/OwHi1gfVdX8p/nYDxawPqyr+Vv52CHexG7tGIO+KgllkYQ1q0Kcc9qdhxJDCpPM8ixJ7KqC7lUBOwJ/fGk+NycMfYrtPRjtPWqErXrF7EsYhjbkX0CjV25s2pAVeFFB37vgHd/ChhqDiMeCDzBBqJqCD++wR+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYO7AbAbBDvXY6MSuweWWRuprVoQHntTsOJIYFPeeXEdeyqgu5VATsEWjRkEpyGQKyZCRSqqhLQ0IGPF4JVJ/AySaBpWAPZRURQUPSZ5eq+6YPi59gbm73kHCe6cd8ImwW5AIII1BBGh5gg94IP77Bn+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYO7BDvXY6MSuweWWRuprVoQHntTsOJIYFPeeXEdeyqgu5VATsEWjRkEpyGQKyZCRSqqhLQ0IGPF4JVJ/AySaBpWAPZRURQttgRfSZ5eq+6a/wAXPsDc3e8g4X3TjvhF2C3JCgliABzJJAAHnJJ2A7Lr5mVl9hDK38/vsFPVrWMbYWtWXr8VNr1a8aiTFvpxdWvWEccB+oo1aFiFAaIjqwsZLKA2Ioiti3XrpO1KOWFbPVzM612KSsvCJGikCM/CjGN+fYbYINKlIJTfyHDJkJFKqiktDQgY8XglTXv8xlfQNIwBIVVRECx6+ETCuZovCDG0wg6xBKYVcRtKseupUMQC2mgJA842AhmhswxWK8sc9exEk0E8LrLDNDKnHFLFKmqsrAgqwOhB1HLYEh0meXqvumD4ufYNVmsdm8t0f4XHYCxkKl6zY6P1s2sXeTG34MGu8mOk3mlrXXZeFhjha5KTI41SNHdwjAjM7uL0uXqeW3fV99LsNoZzEYDI+PlSPEY/diXfTOeFVN7UfIpfvWruAlxlehcMd2zWlFd55qNiG9JaC5NDfk70bt4PC0t/KPyHuN0RzmGXe+i2G3dtNvXlIt6H3yimyUxyzWMdTerpWbJtqEbigkNW7XDP09wenXi3dx3jNvRjS+5W7y38/Zz8mb8A3qk3fm8alzMk2fEbO2S6t4vBsDkq6R9XHTs04BNGweWc3d/1BZCx8qw/K9EZ6lishlcNjM3Qs2N3smbe8UlTDY5q+fwa9XjoJcMl4pfkqXLWswr5GEWIlDQvu307w37FaPL3rWPqi7UiyS53H1pssarHfvFZCGGXrFria7Mu67iSGQ+A1ZbE0M1V4iQw+P3N6aRlZ8laxW/SXxVy9DdPIDfHDVo8FbuLgrGPt74Vr29OasXcdHcgycs9RLl+OSEyLFjYWkqpWDbdE+6XS7u/n92q28jXqe7mI3T3bxUlWKxVs4UVKG4NLGvheCPPToLcGWSeZ54d34+tRSRmZa7ipsGv6TPL1X3TX+Ln2BubveQcJ7qx3wi7Bcf/AE/57Ngh3rsVGJXcPLJI4irV4QGmtTsuqQQp6SASTrwogLMVUFtg9VCvaXrLN6ZmtWNNa8cjmnTjX/hXgQ6aka9uUjjkP/VAsYCx/wA/n/P/ADu2CilkmxEzSTSS2MTM5Z5ZWMs2KkduItJI/NqxPnPOufuucYXikEcjyPMegj8P8/8ANg73enX0+fYEX0meX63uqD4ufYG5u95BwnunHfCJsEy9djoxK7B5ZZG6mtWhAee1Ow4khgU955cR17KqC7lUBOwRaNGQSnIZArJkJFKqqEtDQgY8XglUn8DJJoGlYA9lFRFC22A2DhAIII1BBGh5gg94IP77Bn+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYEZ0meXqvumv8XPsDQxl2Kju3g5HDySyYvHQ1q0QDT2p2pqyQwKfPyJOvYVQXcqoJ2CdRoyCU5DIFZMhKpVVQloKEDHi8Eqk9/mMkmgaVgD2UVEULbYDYDYDYOEAggjUEEaHmCD3gg/vsGf7WBbTm2Ec8jzZsOxP1ie+r7fs5+5+iBV9JZBztUggg4iuQR6PCp9Ng7it8JMcsHXUEu2K1WGhXmacxLXqwxrGI68IRuHj4Q0ral3bTVgqoqhd/OXN6oi/WP8A17AfOXN6oi/WP/XsB85c3qiL9Y/9ewHzlzeqIv1j/wBewHzlzeqIv1j/ANewHzlzeqIv1j/17AHpJlYEHDwkaHUG2xBB5EaGPYF3l7XynZWaJGqQRwiCCr1rTpXjEjS9VC+ikICx4VOvADwqeAKqh//Z\');\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-audio {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-audio::before {\n  content: "\\F184";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-archive {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-archive::before {\n  content: "\\F192";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-molecule {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-molecule::before {\n  content: "\\F191";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-dataset {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-dataset::before {\n  content: "\\F187";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-document,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-document_canvas,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-document_failsafe {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-document::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-document_canvas::before,\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-document_failsafe::before {\n  content: "\\F15B";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-txt {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-txt::before {\n  content: "\\F186";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-kml {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-kml::before {\n  content: "\\F18F";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-viewer3d {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-viewer3d::before {\n  content: "\\F181";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-jupyter {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-jupyter::before {\n  content: "\\F18D";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-graph {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-viewer-container .fs-icon-container .fs-generic-preview.fs-graph::before {\n  content: "\\F18B";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-file-details-container {\n  display: inline-block;\n  font-weight: bold;\n  font-size: 11px;\n  width: 100%;\n  padding-left: 80px;\n  box-sizing: border-box;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-file-details-container .fs-file-title {\n  margin: 7px 7px 7px 3px;\n  line-height: 13px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 100%;\n  color: #fff;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-file-details-container .fs-file-size {\n  margin: 0 0 0 3px;\n  display: block;\n  color: #999;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-not-previewable {\n  zoom: initial !important;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-not-previewable:before,\nfigshare-overlay .fs-file-listing .fs-file .fs-not-previewable:after {\n  height: 1px;\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-not-previewable:before {\n  transform: rotate(45deg);\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-not-previewable:after {\n  transform: rotate(-45deg);\n}\nfigshare-overlay .fs-file-listing .fs-file .fs-not-previewable-message {\n  font-size: 9px;\n  line-height: 9px;\n  display: inline-block;\n  vertical-align: middle;\n  background: none;\n  box-shadow: none;\n}\nfigshare-overlay .fs-large-viewer {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  white-space: nowrap;\n  text-align: left;\n}\nfigshare-overlay .fs-large-viewer .fs-hide-full-description {\n  position: absolute;\n  top: -23px;\n  left: 50%;\n  margin-left: -87px;\n  padding: 14px 32px 0;\n  background-color: #eee;\n  border-radius: 3px;\n  box-shadow: 0 -3px 5px rgba(0, 0, 0, 0.11);\n  cursor: pointer;\n}\nfigshare-overlay .fs-large-viewer .fs-hide-full-description:before {\n  content: "\\F132";\n  font-size: 7px;\n  margin-right: 7px;\n}\nfigshare-overlay .fs-large-viewer .fs-file-description-wrap {\n  text-align: left;\n  background-color: #eee;\n  margin-top: 1px;\n  white-space: normal;\n  padding: 14px;\n  position: relative;\n  line-height: 21px;\n}\nfigshare-overlay .fs-large-viewer .fs-file-description-wrap .fs-file-title {\n  margin-bottom: 7px;\n  font-weight: bold;\n}\nfigshare-overlay .fs-large-viewer .fs-file-description-wrap a {\n  text-decoration: none;\n}\nfigshare-overlay .fs-large-viewer .fs-file-description-wrap.fs-expanded .fs-file-description-full {\n  position: absolute;\n  visibility: visible;\n  top: auto;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 14px;\n  min-height: 111px;\n  background: #ddd;\n  background: linear-gradient(to bottom, #ddd 0px, #eee 7px);\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'@startColor\', endColorstr=\'@endColor\', GradientType=0);\n  z-index: 300;\n}\nfigshare-overlay .fs-large-viewer .fs-audio-wrapper,\nfigshare-overlay .fs-large-viewer .fs-media-wrapper {\n  position: relative;\n}\nfigshare-overlay .fs-large-viewer .fs-audio-wrapper {\n  background-color: #fff;\n}\nfigshare-overlay .fs-large-viewer .fs-file-description-excerpt {\n  overflow: hidden;\n  max-height: 63px;\n}\nfigshare-overlay .fs-large-viewer .fs-file-description-show-more {\n  text-align: center;\n  position: absolute;\n  bottom: 0;\n  line-height: 34px;\n  width: 100%;\n  left: 0;\n  cursor: pointer;\n  background: transparent;\n  background: linear-gradient(to bottom, transparent 0px, #eee 14px);\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'@startColor\', endColorstr=\'@endColor\', GradientType=0);\n}\nfigshare-overlay .fs-large-viewer .fs-show-more:before {\n  content: "\\F11C";\n  font-size: 7px;\n  margin-right: 7px;\n}\nfigshare-overlay .fs-large-viewer .fs-file-description-full {\n  position: absolute;\n  top: 14px;\n  left: 14px;\n  right: 14px;\n  visibility: hidden;\n}\nfigshare-overlay .fs-large-viewer .fs-file-description-full .fs-description {\n  max-height: 420px;\n  overflow-y: auto;\n}\nfigshare-overlay .fs-large-viewer .fs-not-previewable-message {\n  box-shadow: 0 0 50px 30px #eee;\n  background: #eee;\n  font-size: 18px;\n}\nfigshare-overlay .fs-large-viewer .fs-files-list {\n  width: 20%;\n  background: #000;\n  max-width: 280px;\n  min-width: 180px;\n  position: relative;\n  display: inline-block;\n  height: 100%;\n  vertical-align: top;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer {\n  overflow: hidden;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer .fs-viewer-container {\n  width: 80%;\n  height: 80%;\n  position: relative;\n  display: inline-block;\n  vertical-align: middle;\n  box-shadow: 0 0 150px 10px rgba(150, 150, 150, 0.3);\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer .fs-viewer-container .click-outside-wrapper {\n  display: inline;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer .fs-viewer-container .fs-figshare-viewer {\n  overflow: hidden;\n  width: 100%;\n  background-color: #fff;\n  display: inline;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer .fs-viewer-container .fs-figshare-viewer .fs-display {\n  position: relative;\n  overflow: hidden;\n  background: #fff;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer .fs-viewer-container .fs-figshare-viewer .fs-not-previewable {\n  background-color: #eee;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer .fs-viewer-container .fs-figshare-viewer .fs-not-previewable:before,\nfigshare-overlay .fs-large-viewer .fs-file-viewer .fs-viewer-container .fs-figshare-viewer .fs-not-previewable:after {\n  background-color: #ddd;\n  height: 2px;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer .fs-viewer-container .fs-figshare-viewer .figshare-loader {\n  position: absolute;\n  height: 100%;\n  top: 0px;\n  left: 0px;\n  overflow: auto;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer .fs-viewer-container .fs-figshare-viewer .fs-media-wrapper .figshare-loader {\n  overflow: hidden;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer .fs-viewer-container .fs-file-details {\n  line-height: 40px;\n  height: 40px;\n  display: inline-block;\n  text-align: center;\n  width: 100%;\n  white-space: nowrap;\n  font-size: 14px;\n  margin-top: 1px;\n  background-color: #eee;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer .fs-viewer-container .fs-file-name {\n  display: inline-block;\n  vertical-align: middle;\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\nfigshare-overlay .fs-large-viewer .fs-download-button {\n  display: inline-block;\n  width: auto;\n  background: #000;\n  color: #fff;\n  font-weight: bold;\n  border-radius: 3px;\n  margin-left: 14px;\n  padding: 1px 7px;\n  cursor: pointer;\n  line-height: 24px;\n  vertical-align: middle;\n  text-decoration: none;\n}\nfigshare-overlay .fs-large-viewer .fs-download-button::before {\n  content: "\\F12B";\n  vertical-align: middle;\n  padding: 0 4px 2px 0;\n  font-size: 11px;\n  display: inline-block;\n}\nfigshare-overlay .fs-large-viewer .fs-download-button.fs-download-virus {\n  background: #bbb;\n  color: #fff;\n  cursor: default;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer {\n  width: 80%;\n  height: 100%;\n  vertical-align: middle;\n  text-align: center;\n  position: relative;\n  display: inline-block;\n  vertical-align: top;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer.fs-single-file {\n  width: 100%;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer.fs-single-file .fs-pagination {\n  display: none;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer:before {\n  content: "";\n  display: inline-block;\n  vertical-align: middle;\n  height: 100%;\n}\nfigshare-overlay .fs-large-viewer .fs-close-button {\n  position: absolute;\n  width: 24px;\n  height: 24px;\n  top: 24px;\n  left: auto;\n  right: 24px;\n  border-radius: 3px;\n  background: #000;\n  color: #fff;\n  cursor: pointer;\n}\nfigshare-overlay .fs-large-viewer .fs-close-button:before {\n  font-size: 13px;\n  font-weight: bold;\n  content: "or press ESC";\n  color: #999;\n  position: absolute;\n  left: -90px;\n}\nfigshare-overlay .fs-large-viewer .fs-close-button:after {\n  content: "\\F123";\n  font-size: 10px;\n  display: inline-block;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination .fs-prev-page::before {\n  content: "\\F107";\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination .fs-next-page::before {\n  content: "\\F108";\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination strong {\n  display: none;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination button {\n  position: absolute;\n  background: transparent;\n  border: 0 none transparent;\n  color: #999;\n  font-size: 42px;\n  height: 70%;\n  width: 4%;\n  top: 15%;\n  cursor: pointer;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination button:focus {\n  outline: none;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination button[disabled] {\n  color: #606060;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination button[disabled]:hover {\n  color: #606060;\n  cursor: default;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination button:hover {\n  color: #fff;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination .fs-prev-page {\n  left: 3%;\n}\nfigshare-overlay .fs-large-viewer .fs-file-viewer > .fs-pagination .fs-next-page {\n  right: 3%;\n}\nfigshare-overlay .fs-large-viewer .fs-iframe-loader,\nfigshare-overlay .fs-large-viewer .fs-molecule-display > .figshare-loader,\nfigshare-overlay .fs-large-viewer .fs-viewer3d-display > .figshare-loader {\n  overflow: hidden !important;\n}\n@media all and (min-width: 1400px) {\n  figshare-overlay .fs-large-viewer .fs-file-viewer {\n    width: calc(100% - 280px);\n  }\n}\n@media (max-width: 900px) {\n  figshare-overlay .fs-large-viewer .fs-file-viewer {\n    width: calc(100% - 180px);\n  }\n  figshare-overlay .fs-file-listing .fs-file .fs-viewer-container {\n    display: none;\n  }\n  figshare-overlay .fs-file-listing .fs-file .fs-file-details-container {\n    padding-left: 14px;\n  }\n}\nfigshare-overlay .fs-share-container {\n  position: absolute;\n  width: 560px;\n  min-height: 300px;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  background: #f5f5f5;\n  padding: 40px 40px 60px 40px;\n  border-radius: 3px;\n  box-shadow: 0 0 13px 1px rgba(0, 0, 0, 0.6);\n}\nfigshare-overlay .fs-share-container h1 {\n  text-align: center;\n  font-size: 18px;\n  line-height: 28px;\n  font-weight: bold;\n  color: #464646;\n  margin-bottom: 18px;\n}\nfigshare-overlay .fs-share-container .fs-exit {\n  background: #444;\n  width: 28px;\n  height: 28px;\n  position: absolute;\n  right: -14px;\n  top: -14px;\n  border: 1px solid #fff;\n  border-radius: 15px;\n  box-shadow: 0 0 13px 1px rgba(0, 0, 0, 0.6);\n}\nfigshare-overlay .fs-share-container .fs-exit::before {\n  content: "\\00d7";\n  color: #f5f5f5;\n  font-size: 20px;\n}\nfigshare-overlay .fs-share-container .fs-social-buttons {\n  width: 300px;\n  margin: 0px auto;\n}\nfigshare-overlay .fs-share-container .fs-social-buttons > div {\n  border-bottom: 1px solid #ddd;\n  padding: 28px 0px 21px 0px;\n  width: 100%;\n  height: 30px;\n  text-align: left;\n}\nfigshare-overlay .fs-share-container .fs-social-buttons > div > h3 {\n  font-size: 18px;\n  font-weight: bold;\n  color: #464646;\n  display: inline-block;\n  width: 190px;\n}\nfigshare-overlay .fs-share-container .fs-social-buttons > div .fs-share-button {\n  display: inline-block;\n  vertical-align: middle;\n  width: 110px;\n}\nfigshare-overlay .fs-share-container .fs-social-buttons > div:last-child {\n  border: 0px none transparent;\n}\nfigshare-overlay .fs-cite-container {\n  position: absolute;\n  max-width: 710px;\n  width: calc(100% - 42px);\n  margin: 21px auto;\n  left: 21px;\n  right: 21px;\n  top: calc(50% - 21px);\n  transform: translateY(-50%);\n  max-height: calc(100vh - 42px);\n  background: #f0f0f0;\n  border-radius: 3px;\n  box-shadow: 0 0 13px 1px rgba(0, 0, 0, 0.6);\n}\nfigshare-overlay .fs-cite-container .fs-citation-container {\n  padding: 35px 35px 56px 35px;\n  font-size: 14px;\n  background: #f0f0f0;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector {\n  display: flex;\n  justify-content: flex-end;\n  width: 70%;\n  position: relative;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.fs-citation-search-open {\n  height: 100%;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-page {\n  position: absolute;\n  left: 0;\n  right: 0;\n  background: #fff;\n  box-shadow: 0 3px 7px 0 rgba(0, 0, 0, 0.25);\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input {\n  position: relative;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"] {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  font-size: 14px;\n  -webkit-appearance: textfield;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-decoration,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-cancel-button,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-results-button,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-results-decoration {\n  display: none;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-ms-clear {\n  display: none;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search {\n  border: none;\n  background: none;\n  color: none;\n  border-color: none;\n  position: absolute;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after {\n  color: #bbb;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::before,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::before {\n  color: #bbb;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after {\n  font-size: 14px;\n  line-height: 24px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon {\n  padding: 0;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after {\n  content: "\\F16F";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search {\n  padding: 0;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after {\n  content: "\\F111";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-search-input {\n  flex: 1 0 auto;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-listing {\n  overflow: hidden;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-listing.scroll-active,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-options-listing.scroll-active {\n  overflow: auto;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-listing {\n  max-height: 332px;\n  display: flex;\n  flex-direction: column;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-info-content {\n  height: 84px;\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-loading {\n  width: 16px;\n  height: 16px;\n  background-image: url(\'data:image/gif;charset=utf-8;base64,R0lGODlhEAAQAPQAAP///wAAAPDw8IqKiuDg4EZGRnp6egAAAFhYWCQkJKysrL6+vhQUFJycnAQEBDY2NmhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkKAAAAIf4aQ3JlYXRlZCB3aXRoIGFqYXhsb2FkLmluZm8AIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAAFdyAgAgIJIeWoAkRCCMdBkKtIHIngyMKsErPBYbADpkSCwhDmQCBethRB6Vj4kFCkQPG4IlWDgrNRIwnO4UKBXDufzQvDMaoSDBgFb886MiQadgNABAokfCwzBA8LCg0Egl8jAggGAA1kBIA1BAYzlyILczULC2UhACH5BAkKAAAALAAAAAAQABAAAAV2ICACAmlAZTmOREEIyUEQjLKKxPHADhEvqxlgcGgkGI1DYSVAIAWMx+lwSKkICJ0QsHi9RgKBwnVTiRQQgwF4I4UFDQQEwi6/3YSGWRRmjhEETAJfIgMFCnAKM0KDV4EEEAQLiF18TAYNXDaSe3x6mjidN1s3IQAh+QQJCgAAACwAAAAAEAAQAAAFeCAgAgLZDGU5jgRECEUiCI+yioSDwDJyLKsXoHFQxBSHAoAAFBhqtMJg8DgQBgfrEsJAEAg4YhZIEiwgKtHiMBgtpg3wbUZXGO7kOb1MUKRFMysCChAoggJCIg0GC2aNe4gqQldfL4l/Ag1AXySJgn5LcoE3QXI3IQAh+QQJCgAAACwAAAAAEAAQAAAFdiAgAgLZNGU5joQhCEjxIssqEo8bC9BRjy9Ag7GILQ4QEoE0gBAEBcOpcBA0DoxSK/e8LRIHn+i1cK0IyKdg0VAoljYIg+GgnRrwVS/8IAkICyosBIQpBAMoKy9dImxPhS+GKkFrkX+TigtLlIyKXUF+NjagNiEAIfkECQoAAAAsAAAAABAAEAAABWwgIAICaRhlOY4EIgjH8R7LKhKHGwsMvb4AAy3WODBIBBKCsYA9TjuhDNDKEVSERezQEL0WrhXucRUQGuik7bFlngzqVW9LMl9XWvLdjFaJtDFqZ1cEZUB0dUgvL3dgP4WJZn4jkomWNpSTIyEAIfkECQoAAAAsAAAAABAAEAAABX4gIAICuSxlOY6CIgiD8RrEKgqGOwxwUrMlAoSwIzAGpJpgoSDAGifDY5kopBYDlEpAQBwevxfBtRIUGi8xwWkDNBCIwmC9Vq0aiQQDQuK+VgQPDXV9hCJjBwcFYU5pLwwHXQcMKSmNLQcIAExlbH8JBwttaX0ABAcNbWVbKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICSRBlOY7CIghN8zbEKsKoIjdFzZaEgUBHKChMJtRwcWpAWoWnifm6ESAMhO8lQK0EEAV3rFopIBCEcGwDKAqPh4HUrY4ICHH1dSoTFgcHUiZjBhAJB2AHDykpKAwHAwdzf19KkASIPl9cDgcnDkdtNwiMJCshACH5BAkKAAAALAAAAAAQABAAAAV3ICACAkkQZTmOAiosiyAoxCq+KPxCNVsSMRgBsiClWrLTSWFoIQZHl6pleBh6suxKMIhlvzbAwkBWfFWrBQTxNLq2RG2yhSUkDs2b63AYDAoJXAcFRwADeAkJDX0AQCsEfAQMDAIPBz0rCgcxky0JRWE1AmwpKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICKZzkqJ4nQZxLqZKv4NqNLKK2/Q4Ek4lFXChsg5ypJjs1II3gEDUSRInEGYAw6B6zM4JhrDAtEosVkLUtHA7RHaHAGJQEjsODcEg0FBAFVgkQJQ1pAwcDDw8KcFtSInwJAowCCA6RIwqZAgkPNgVpWndjdyohACH5BAkKAAAALAAAAAAQABAAAAV5ICACAimc5KieLEuUKvm2xAKLqDCfC2GaO9eL0LABWTiBYmA06W6kHgvCqEJiAIJiu3gcvgUsscHUERm+kaCxyxa+zRPk0SgJEgfIvbAdIAQLCAYlCj4DBw0IBQsMCjIqBAcPAooCBg9pKgsJLwUFOhCZKyQDA3YqIQAh+QQJCgAAACwAAAAAEAAQAAAFdSAgAgIpnOSonmxbqiThCrJKEHFbo8JxDDOZYFFb+A41E4H4OhkOipXwBElYITDAckFEOBgMQ3arkMkUBdxIUGZpEb7kaQBRlASPg0FQQHAbEEMGDSVEAA1QBhAED1E0NgwFAooCDWljaQIQCE5qMHcNhCkjIQAh+QQJCgAAACwAAAAAEAAQAAAFeSAgAgIpnOSoLgxxvqgKLEcCC65KEAByKK8cSpA4DAiHQ/DkKhGKh4ZCtCyZGo6F6iYYPAqFgYy02xkSaLEMV34tELyRYNEsCQyHlvWkGCzsPgMCEAY7Cg04Uk48LAsDhRA8MVQPEF0GAgqYYwSRlycNcWskCkApIyEAOw==\');\n  margin-right: 7px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button {\n  border: none;\n  font-size: 12px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-back-button-row {\n  display: flex;\n  box-sizing: border-box;\n  align-items: center;\n  justify-content: space-between;\n  flex: 0 0 auto;\n  height: 35px;\n  padding-left: 14px;\n  border-bottom: 1px solid #ddd;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-back-button {\n  border: none;\n  margin-left: -6px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::before {\n  content: "\\F107";\n  margin-right: 6px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search {\n  border: none;\n  padding: 0;\n  margin-right: 14px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after {\n  content: "\\F16F";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after {\n  font-size: 14px;\n  line-height: 24px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button {\n  border: none;\n  box-sizing: border-box;\n  border-radius: 0;\n  border-top: 1px solid #ddd;\n  width: calc(100% - 14px);\n  height: auto;\n  padding: 11px 14px 7px 0;\n  margin-left: 14px;\n  text-align: left;\n  line-height: 21px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:first-of-type {\n  border: none;\n  margin-left: 0;\n  padding-left: 14px;\n  width: 100%;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:last-of-type {\n  border-bottom: 1px solid #ddd;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:focus,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:hover {\n  margin-left: 0;\n  padding-left: 14px;\n  width: 100%;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:focus + .fs-citation-search-option-button,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:hover + .fs-citation-search-option-button {\n  margin-left: 0;\n  padding-left: 14px;\n  width: 100%;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button.selected {\n  font-weight: bold;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-option-button .fs-citation-search-default-option {\n  font-weight: normal;\n  color: #999;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-results-number {\n  font-size: 12px;\n  height: 63px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger {\n  border: none;\n  margin-right: -6px;\n  max-width: 100%;\n  display: flex;\n  align-items: center;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger span {\n  flex: 0 1 auto;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.fs-citation-search-open {\n  width: 300px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input {\n  box-sizing: border-box;\n  width: auto;\n  width: initial;\n  height: 31px;\n  margin-top: 1px;\n  border-bottom: 1px solid #ddd;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input input[type="search"] {\n  padding: 0 35px 0 7px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input .fs-search-search-icon,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input .fs-search-clear-search {\n  right: 7px;\n  top: 3.5px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after {\n  content: "\\F106";\n  margin-left: 6px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after {\n  font-size: 6px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.arrow-container {\n  width: 70%;\n  position: static;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.arrow-container.fs-citation-search-open {\n  width: 300px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page {\n  top: 0;\n  bottom: 0;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input {\n  box-sizing: border-box;\n  width: auto;\n  width: initial;\n  height: 47px;\n  margin-top: 1px;\n  border-bottom: 1px solid #ddd;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input input[type="search"] {\n  padding: 0 35px 0 14px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input .fs-search-search-icon,\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input .fs-search-clear-search {\n  right: 7px;\n  top: 11.5px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-citation-search-listing {\n  max-height: 100%;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-selector-trigger::after {\n  content: "\\F108";\n  margin-left: 6px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-selector-trigger::after {\n  font-size: 11px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container button {\n  font-size: 14px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container.fs-fill-height {\n  height: 100%;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container.fs-with-back-button {\n  padding-bottom: 28px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-content {\n  background: #fff;\n  padding: 21px;\n  line-height: 0;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-content .fs-citation-content-text {\n  line-height: 21px;\n  word-wrap: break-word;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-content .fs-citation-content-doi-link {\n  text-decoration: none;\n  line-height: 21px;\n  font-weight: bold;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-content .fs-citation-content-link-wrapper {\n  display: inline-block;\n  margin-top: 14px;\n  padding: 7px 1px;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  box-sizing: border-box;\n  border-top: 1px solid #ddd;\n  border-bottom: 1px solid #ddd;\n  text-decoration: none;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-content {\n  padding: 21px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-title {\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 28px;\n  margin-bottom: 7px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-footer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin-top: 14px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-back-button {\n  border: none;\n  margin-left: -6px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-back-button::before {\n  content: "\\F107";\n  margin-right: 6px;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container .fs-citation-selector-wrapper {\n  height: 32px;\n  margin-bottom: 7px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container.fs-mobile-mode {\n  padding: 14px 14px 0 14px;\n  background: #fff;\n  overflow: auto;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container.fs-mobile-mode .fs-citation-content {\n  padding: 0;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container.fs-mobile-mode.fs-fill-height {\n  overflow: hidden;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container.fs-mobile-mode::after {\n  content: "";\n  height: 21px;\n  display: block;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container.fs-mobile-mode .fs-citation-footer {\n  margin-top: 42px;\n  justify-content: space-between;\n}\nfigshare-overlay .fs-cite-container .fs-citation-container.fs-mobile-mode .fs-citation-selector-wrapper {\n  display: none;\n}\nfigshare-overlay .fs-cite-container .fs-exit {\n  background: #444;\n  width: 28px;\n  height: 28px;\n  position: absolute;\n  right: -14px;\n  top: -14px;\n  border: 1px solid #fff;\n  border-radius: 15px;\n  box-shadow: 0 0 13px 1px rgba(0, 0, 0, 0.6);\n}\nfigshare-overlay .fs-cite-container .fs-exit::before {\n  content: "\\00d7";\n  color: #f5f5f5;\n  font-size: 20px;\n}\nfigshare-overlay .fs-widget-enlarge,\nfigshare-overlay .fs-widget-share,\nfigshare-overlay .fs-widget-cite {\n  background: rgba(0, 0, 0, 0.85);\n}\nfigshare-overlay .fs-widget-enlarge .fs-container,\nfigshare-overlay .fs-widget-share .fs-container,\nfigshare-overlay .fs-widget-cite .fs-container {\n  background: transparent;\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget,\nfigshare-overlay {\n  color: #464646;\n}\n.fv-controls-color {\n  color: #d7df23;\n}\nfigshare-widget.pone .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-widget.pone .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-widget.pone .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-widget.pone.fs-responsive-hide-text .fs-download::before {\n  display: inline-block !important;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button {\n  background-color: #464646;\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  font-size: 10px;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:hover {\n  background-color: #cc00a6;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled {\n  color: #999;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled:hover {\n  background: #464646;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download,\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge {\n  border: none;\n  font-size: 15px;\n  padding: 0 12px;\n  height: 36px;\n  color: #fff;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download:hover,\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge:hover {\n  background-color: #cc00a6;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text,\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge .fs-button-text,\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before,\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  line-height: 36px;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download {\n  background-color: #d7df23;\n  font-weight: bold;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before {\n  display: none;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text {\n  text-transform: lowercase;\n  margin-left: 0;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  content: "\\F141";\n  font-size: 14px;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-download-menu {\n  top: 47px;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-download-menu a {\n  color: #cc00a6;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-details-listing .fs-details-buttons a {\n  color: #cc00a6;\n}\nfigshare-overlay .fs-widget-enlarge.pone .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-overlay .fs-widget-enlarge.pone .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.pone .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.pone .fs-close-button,\nfigshare-overlay .fs-widget-enlarge.pone .fs-download-button {\n  background-color: #d7df23 !important;\n}\nfigshare-overlay .fs-widget-enlarge.pone .fs-close-button:hover,\nfigshare-overlay .fs-widget-enlarge.pone .fs-download-button:hover {\n  background-color: #cc00a6 !important;\n}\nfigshare-overlay .fs-widget-enlarge.pone .fs-download-button.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-overlay .fs-widget-enlarge.pone .fs-hide-full-description,\nfigshare-overlay .fs-widget-enlarge.pone .fs-file-description-show-more {\n  color: #cc00a6;\n}\nfigshare-widget,\nfigshare-overlay {\n  color: #464646;\n}\n.fv-controls-color {\n  color: #16a127;\n}\nfigshare-widget.pbio .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-widget.pbio .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-widget.pbio .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-widget.pbio.fs-responsive-hide-text .fs-download::before {\n  display: inline-block !important;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button {\n  background-color: #464646;\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  font-size: 10px;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:hover {\n  background-color: #3C63AF;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled {\n  color: #999;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled:hover {\n  background: #464646;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download,\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge {\n  border: none;\n  font-size: 15px;\n  padding: 0 12px;\n  height: 36px;\n  color: #fff;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download:hover,\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge:hover {\n  background-color: #3C63AF;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text,\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge .fs-button-text,\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before,\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  line-height: 36px;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download {\n  background-color: #16a127;\n  font-weight: bold;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before {\n  display: none;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text {\n  text-transform: lowercase;\n  margin-left: 0;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  content: "\\F141";\n  font-size: 14px;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-download-menu {\n  top: 47px;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-download-menu a {\n  color: #3C63AF;\n}\nfigshare-widget.pbio .fs-file-viewer.fs-inline-viewer .fs-details-listing .fs-details-buttons a {\n  color: #3C63AF;\n}\nfigshare-overlay .fs-widget-enlarge.pbio .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-overlay .fs-widget-enlarge.pbio .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.pbio .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.pbio .fs-close-button,\nfigshare-overlay .fs-widget-enlarge.pbio .fs-download-button {\n  background-color: #16a127 !important;\n}\nfigshare-overlay .fs-widget-enlarge.pbio .fs-close-button:hover,\nfigshare-overlay .fs-widget-enlarge.pbio .fs-download-button:hover {\n  background-color: #3C63AF !important;\n}\nfigshare-overlay .fs-widget-enlarge.pbio .fs-download-button.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-overlay .fs-widget-enlarge.pbio .fs-hide-full-description,\nfigshare-overlay .fs-widget-enlarge.pbio .fs-file-description-show-more {\n  color: #3C63AF;\n}\nfigshare-widget,\nfigshare-overlay {\n  color: #464646;\n}\n.fv-controls-color {\n  color: #16a127;\n}\nfigshare-widget.pgen .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-widget.pgen .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-widget.pgen .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-widget.pgen.fs-responsive-hide-text .fs-download::before {\n  display: inline-block !important;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button {\n  background-color: #464646;\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  font-size: 10px;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:hover {\n  background-color: #3C63AF;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled {\n  color: #999;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled:hover {\n  background: #464646;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download,\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge {\n  border: none;\n  font-size: 15px;\n  padding: 0 12px;\n  height: 36px;\n  color: #fff;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download:hover,\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge:hover {\n  background-color: #3C63AF;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text,\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge .fs-button-text,\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before,\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  line-height: 36px;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download {\n  background-color: #16a127;\n  font-weight: bold;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before {\n  display: none;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text {\n  text-transform: lowercase;\n  margin-left: 0;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  content: "\\F141";\n  font-size: 14px;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-download-menu {\n  top: 47px;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-download-menu a {\n  color: #3C63AF;\n}\nfigshare-widget.pgen .fs-file-viewer.fs-inline-viewer .fs-details-listing .fs-details-buttons a {\n  color: #3C63AF;\n}\nfigshare-overlay .fs-widget-enlarge.pgen .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-overlay .fs-widget-enlarge.pgen .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.pgen .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.pgen .fs-close-button,\nfigshare-overlay .fs-widget-enlarge.pgen .fs-download-button {\n  background-color: #16a127 !important;\n}\nfigshare-overlay .fs-widget-enlarge.pgen .fs-close-button:hover,\nfigshare-overlay .fs-widget-enlarge.pgen .fs-download-button:hover {\n  background-color: #3C63AF !important;\n}\nfigshare-overlay .fs-widget-enlarge.pgen .fs-download-button.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-overlay .fs-widget-enlarge.pgen .fs-hide-full-description,\nfigshare-overlay .fs-widget-enlarge.pgen .fs-file-description-show-more {\n  color: #3C63AF;\n}\nfigshare-widget,\nfigshare-overlay {\n  color: #464646;\n}\n.fv-controls-color {\n  color: #16a127;\n}\nfigshare-widget.pcbi .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-widget.pcbi .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-widget.pcbi .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-widget.pcbi.fs-responsive-hide-text .fs-download::before {\n  display: inline-block !important;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button {\n  background-color: #464646;\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  font-size: 10px;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:hover {\n  background-color: #3C63AF;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled {\n  color: #999;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled:hover {\n  background: #464646;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download,\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge {\n  border: none;\n  font-size: 15px;\n  padding: 0 12px;\n  height: 36px;\n  color: #fff;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download:hover,\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge:hover {\n  background-color: #3C63AF;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text,\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge .fs-button-text,\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before,\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  line-height: 36px;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download {\n  background-color: #16a127;\n  font-weight: bold;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before {\n  display: none;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text {\n  text-transform: lowercase;\n  margin-left: 0;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  content: "\\F141";\n  font-size: 14px;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-download-menu {\n  top: 47px;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-download-menu a {\n  color: #3C63AF;\n}\nfigshare-widget.pcbi .fs-file-viewer.fs-inline-viewer .fs-details-listing .fs-details-buttons a {\n  color: #3C63AF;\n}\nfigshare-overlay .fs-widget-enlarge.pcbi .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-overlay .fs-widget-enlarge.pcbi .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.pcbi .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.pcbi .fs-close-button,\nfigshare-overlay .fs-widget-enlarge.pcbi .fs-download-button {\n  background-color: #16a127 !important;\n}\nfigshare-overlay .fs-widget-enlarge.pcbi .fs-close-button:hover,\nfigshare-overlay .fs-widget-enlarge.pcbi .fs-download-button:hover {\n  background-color: #3C63AF !important;\n}\nfigshare-overlay .fs-widget-enlarge.pcbi .fs-download-button.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-overlay .fs-widget-enlarge.pcbi .fs-hide-full-description,\nfigshare-overlay .fs-widget-enlarge.pcbi .fs-file-description-show-more {\n  color: #3C63AF;\n}\nfigshare-widget,\nfigshare-overlay {\n  color: #464646;\n}\n.fv-controls-color {\n  color: #891fb1;\n}\nfigshare-widget.pmed .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-widget.pmed .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-widget.pmed .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-widget.pmed.fs-responsive-hide-text .fs-download::before {\n  display: inline-block !important;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button {\n  background-color: #464646;\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  font-size: 10px;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:hover {\n  background-color: #3C63AF;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled {\n  color: #999;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled:hover {\n  background: #464646;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download,\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge {\n  border: none;\n  font-size: 15px;\n  padding: 0 12px;\n  height: 36px;\n  color: #fff;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download:hover,\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge:hover {\n  background-color: #3C63AF;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text,\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge .fs-button-text,\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before,\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  line-height: 36px;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download {\n  background-color: #891fb1;\n  font-weight: bold;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before {\n  display: none;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text {\n  text-transform: lowercase;\n  margin-left: 0;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  content: "\\F141";\n  font-size: 14px;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-download-menu {\n  top: 47px;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-download-menu a {\n  color: #3C63AF;\n}\nfigshare-widget.pmed .fs-file-viewer.fs-inline-viewer .fs-details-listing .fs-details-buttons a {\n  color: #3C63AF;\n}\nfigshare-overlay .fs-widget-enlarge.pmed .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-overlay .fs-widget-enlarge.pmed .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.pmed .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.pmed .fs-close-button,\nfigshare-overlay .fs-widget-enlarge.pmed .fs-download-button {\n  background-color: #891fb1 !important;\n}\nfigshare-overlay .fs-widget-enlarge.pmed .fs-close-button:hover,\nfigshare-overlay .fs-widget-enlarge.pmed .fs-download-button:hover {\n  background-color: #3C63AF !important;\n}\nfigshare-overlay .fs-widget-enlarge.pmed .fs-download-button.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-overlay .fs-widget-enlarge.pmed .fs-hide-full-description,\nfigshare-overlay .fs-widget-enlarge.pmed .fs-file-description-show-more {\n  color: #3C63AF;\n}\nfigshare-widget,\nfigshare-overlay {\n  color: #464646;\n}\n.fv-controls-color {\n  color: #891fb1;\n}\nfigshare-widget.pntd .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-widget.pntd .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-widget.pntd .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-widget.pntd.fs-responsive-hide-text .fs-download::before {\n  display: inline-block !important;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button {\n  background-color: #464646;\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  font-size: 10px;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:hover {\n  background-color: #3C63AF;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled {\n  color: #999;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled:hover {\n  background: #464646;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download,\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge {\n  border: none;\n  font-size: 15px;\n  padding: 0 12px;\n  height: 36px;\n  color: #fff;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download:hover,\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge:hover {\n  background-color: #3C63AF;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text,\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge .fs-button-text,\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before,\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  line-height: 36px;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download {\n  background-color: #891fb1;\n  font-weight: bold;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before {\n  display: none;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text {\n  text-transform: lowercase;\n  margin-left: 0;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  content: "\\F141";\n  font-size: 14px;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-download-menu {\n  top: 47px;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-download-menu a {\n  color: #3C63AF;\n}\nfigshare-widget.pntd .fs-file-viewer.fs-inline-viewer .fs-details-listing .fs-details-buttons a {\n  color: #3C63AF;\n}\nfigshare-overlay .fs-widget-enlarge.pntd .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-overlay .fs-widget-enlarge.pntd .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.pntd .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.pntd .fs-close-button,\nfigshare-overlay .fs-widget-enlarge.pntd .fs-download-button {\n  background-color: #891fb1 !important;\n}\nfigshare-overlay .fs-widget-enlarge.pntd .fs-close-button:hover,\nfigshare-overlay .fs-widget-enlarge.pntd .fs-download-button:hover {\n  background-color: #3C63AF !important;\n}\nfigshare-overlay .fs-widget-enlarge.pntd .fs-download-button.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-overlay .fs-widget-enlarge.pntd .fs-hide-full-description,\nfigshare-overlay .fs-widget-enlarge.pntd .fs-file-description-show-more {\n  color: #3C63AF;\n}\nfigshare-widget,\nfigshare-overlay {\n  color: #464646;\n}\n.fv-controls-color {\n  color: #891fb1;\n}\nfigshare-widget.ppat .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-widget.ppat .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-widget.ppat .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-widget.ppat.fs-responsive-hide-text .fs-download::before {\n  display: inline-block !important;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button {\n  background-color: #464646;\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  font-size: 10px;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:hover {\n  background-color: #3C63AF;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled {\n  color: #999;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls button:disabled:hover {\n  background: #464646;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download,\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge {\n  border: none;\n  font-size: 15px;\n  padding: 0 12px;\n  height: 36px;\n  color: #fff;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download:hover,\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge:hover {\n  background-color: #3C63AF;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text,\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge .fs-button-text,\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before,\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  line-height: 36px;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download {\n  background-color: #891fb1;\n  font-weight: bold;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download::before {\n  display: none;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text {\n  text-transform: lowercase;\n  margin-left: 0;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-enlarge::before {\n  content: "\\F141";\n  font-size: 14px;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-download-menu {\n  top: 47px;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-download-menu a {\n  color: #3C63AF;\n}\nfigshare-widget.ppat .fs-file-viewer.fs-inline-viewer .fs-details-listing .fs-details-buttons a {\n  color: #3C63AF;\n}\nfigshare-overlay .fs-widget-enlarge.ppat .fs-dataset-display .fs-carousel .fs-selector.fs-active::before {\n  border-top-color: #fff;\n}\nfigshare-overlay .fs-widget-enlarge.ppat .fs-dataset-display .fs-carousel .fs-selector::before {\n  border-top-color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.ppat .fs-dataset-display .fs-carousel .fs-carousel-controls .fs-active {\n  color: #464646;\n}\nfigshare-overlay .fs-widget-enlarge.ppat .fs-close-button,\nfigshare-overlay .fs-widget-enlarge.ppat .fs-download-button {\n  background-color: #891fb1 !important;\n}\nfigshare-overlay .fs-widget-enlarge.ppat .fs-close-button:hover,\nfigshare-overlay .fs-widget-enlarge.ppat .fs-download-button:hover {\n  background-color: #3C63AF !important;\n}\nfigshare-overlay .fs-widget-enlarge.ppat .fs-download-button.fs-download-virus {\n  background: #bbb !important;\n  background-color: #bbb !important;\n  border-color: #bbb !important;\n  color: #fff !important;\n  cursor: default;\n}\nfigshare-overlay .fs-widget-enlarge.ppat .fs-hide-full-description,\nfigshare-overlay .fs-widget-enlarge.ppat .fs-file-description-show-more {\n  color: #3C63AF;\n}\n.fs-widget-viewer .fs-file-title em {\n  display: none;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download {\n  color: #101010;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download .fs-button-text {\n  text-transform: none;\n}\nfigshare-widget.pone .fs-file-viewer.fs-inline-viewer .fs-file-viewer-controls .fs-download:hover {\n  color: #fff;\n}\nfigshare-overlay .fs-widget-enlarge.pone .fs-close-button,\nfigshare-overlay .fs-widget-enlarge.pone .fs-download-button {\n  color: #101010;\n}\nfigshare-overlay .fs-widget-enlarge.pone .fs-close-button:hover,\nfigshare-overlay .fs-widget-enlarge.pone .fs-download-button:hover {\n  color: #fff;\n}\n',""])},122:function(e,t,n){"use strict";var r=400,o=function(){},i=.9,a=.9;function s(e){var t=e.wrapper,n=e.element;if(!t||!n)return null;var r=t.getBoundingClientRect(),o=r.top,i=r.bottom,a=r.height,s=n.getBoundingClientRect(),f=s.top,l=s.bottom,c=s.height,u=f-o,p=i-l,d=!(f>i||l<o),h=a-Math.max(u,0)-Math.max(p,0);return{visibility:d?h/c:0,coverage:d?h/a:0,visible:d}}function f(e){var t=e.element,n=e.to,i=e.duration,a=void 0===i?r:i,s=e.callback,f=void 0===s?o:s,l=[],c=0,u=null;if(t)c=t.scrollTop;else{var p=document,d=p.documentElement,h=p.body;l.push(d,h),c=d.scrollTop||h.scrollTop}if(c!==n){window.requestAnimationFrame((function e(r){u||(u=r);var o=Math.min(1,(r-u)/a),i=o*(n-c)+c;t?t.scrollTop=i:l.forEach((function(e){return e.scrollTop=i})),o<1?window.requestAnimationFrame(e):f()}))}else f()}t.a={getVisibleNodes:function(e){var t=e||{},n=t.wrapper,r=t.elements,o=e||{},f=o.elementCoverage,l=o.viewportCoverage,c=null,u=[];return f=f||i,l=l||a,r.forEach((function(e,t){var r=s({wrapper:n,element:e}),o=r.visible,i=r.visibility,a=r.coverage;o&&u.push(t),null===c&&(i>f||a>l)&&(c=t)})),null===c&&(c=u[0]),{current:c,visible:u}},getVerticalVisibility:s,ready:function(e){var t=!1;document.addEventListener("DOMContentLoaded",(function(){t||(t=!0,e())}));var n=document.onreadystatechange;document.onreadystatechange=function(){n&&n.apply(void 0,arguments),"complete"!==document.readyState&&"loaded"!==document.readyState||t||(t=!0,e())}},scrollTo:f,scrollToElement:function(e){var t=e.target,n=void 0===t?document:t,r=e.element,o=e.offset,i=void 0===o?0:o,a=e.callback,s=i;s&&(s=parseInt(s,10)||0);var l=n.getBoundingClientRect().top;f({element:n,to:s+=r.getBoundingClientRect().top-l+n.scrollTop,callback:a})},cloneCanvas:function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),t}}},331:function(e,t,n){"use strict";n.r(t);n(123);var r=n(345),o=n.n(r),i=n(396),a=n(373),s=n(531),f=n(492),l=n(347),c=n.n(l),u=n(346),p=n.n(u),d=n(488),h=n(495),g=n(413),v=n(1131),y=n.n(v);function b(e){y()("//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML",e)}function m(){b((function(){var e=window.MathJax;e.Hub.Queue(["Typeset",e.Hub])}))}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function S(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t,n){return(E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(){return x(this,t),S(this,_(t).apply(this,arguments))}return j(t,e),k(t,[{key:"componentDidUpdate",value:function(e,n){E(_(t.prototype),"componentDidUpdate",this)&&E(_(t.prototype),"componentDidUpdate",this).call(this,e,n),m()}}]),t}(h.a),A=function(e){function t(){return x(this,t),S(this,_(t).apply(this,arguments))}return j(t,e),k(t,[{key:"createEnlargeOverlay",value:function(){return this.state.overlay?this.state.overlay:new g.a({content:o.a.createElement(C,{onExit:this.handle("onExitEnlarge")}),className:c()("fs-widget-enlarge",this.props.extraClass),isOpen:!1})}}]),t}(d.a);A.propTypes={flux:p.a.object.isRequired,extraClass:p.a.string};n(1132);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}function F(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t,n){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=z(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"default",(function(){return W}));var B=function(e){function t(){return D(this,t),F(this,z(t).apply(this,arguments))}return L(t,e),R(t,[{key:"componentDidMount",value:function(){I(z(t.prototype),"componentDidMount",this).call(this),b((function(){window.MathJax.Hub.Config({"HTML-CSS":{linebreaks:{automatic:!0,width:"80% container"}}})}))}},{key:"componentDidUpdate",value:function(e,n){I(z(t.prototype),"componentDidUpdate",this)&&I(z(t.prototype),"componentDidUpdate",this).call(this,e,n),m()}},{key:"render",value:function(){var e=this.getAppProps();return o.a.createElement(A,T({},e,this.props))}}]),t}(s.a),W=function(e){function t(e){var n,r=e.doi,o=e.extraClass;return D(this,t),(n=F(this,z(t).call(this))).flux=n._createFlux(),n.doi=r,n.extraClass=o,n}return L(t,e),R(t,[{key:"initialize",value:function(){this.flux.getActions("Articles").loadArticleWithFiles({doi:this.doi})}},{key:"_createFlux",value:function(){var e=new a.a({baseURL:"https://widgets.figshare.com",followLocation:!0});return new f.a({api:e})}},{key:"_getElement",value:function(){return o.a.createElement(B,{flux:this.flux,showCite:!1,showShare:!1,showTitle:!1,width:"auto",height:450,breakPoint:500,extraClass:this.extraClass})}}]),t}(i.a)},348:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(346),o=n.n(r),i=n(345),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),f=0;f<i;f++)a[f]=arguments[f];return r=this,o=(e=u(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==s(o)&&"function"!=typeof o?p(r):o,h(p(n),"onClick",(function(e){n.props.disabled||n.props.onClick(e)})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.disabled,r=e.forwardedRef,o=e.isHidden,i=e.type,s=l(e,["children","disabled","forwardedRef","isHidden","type"]);return o?null:a.a.createElement("button",f({ref:r},s,{disabled:n,type:i,onClick:this.onClick}),t)}}])&&c(n.prototype,r),o&&c(n,o),t}(n(377).a);h(g,"propTypes",{children:o.a.node,disabled:o.a.bool,forwardedRef:o.a.func,isHidden:o.a.bool,type:o.a.string,onClick:o.a.func}),h(g,"defaultProps",{children:null,disabled:!1,forwardedRef:function(){},isHidden:!1,type:"button",onClick:function(){}})},349:function(e,t,n){"use strict";var r=document.createElement("span");function o(e,t){if(e.ownerDocument&&e.ownerDocument===document){for(var n=0,o=0,i=1,a=!1,s=e.clientWidth,f=(e.textContent||e.innerText).replace(/\n/g," ");null!==e.firstChild;)e.removeChild(e.firstChild);e.appendChild(r),"".concat(f," ").replace(/ /g,(function(l,c){if(i!==t){var u=f.substr(n,c-n);if(r.appendChild(document.createTextNode(u)),s>=r.clientWidth)a=!1;else{var p=void 0;a?(p=f.substr(n,c+1-n),n=c+1):(p=f.substr(n,o-n),n=o);var d=document.createElement("span");d.className="line-clamp",d.appendChild(document.createTextNode(p)),e.appendChild(d),a=!0,i+=1}o=c+1,r.removeChild(r.firstChild)}})),e.removeChild(r);var l=document.createElement("span");l.className="line-clamp last-line",l.style.display="block",l.style.overflow="hidden",l.style.textOverflow="ellipsis",l.style.whiteSpace="nowrap",l.style.width="100%",f=f.substr(n),l.appendChild(document.createTextNode(f)),e.appendChild(l)}}r.style.position="absolute",r.style.whiteSpace="pre",r.style.visibility="hidden";var i=n(371),a=n(365);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=new(n(361).a)({baseURL:"https://widgets.figshare.com",followLocation:!0,credentials:!1}),d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,c(t).call(this))).loading=!1,n.loaded=!1,n.error=null,n._model=e,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"loadData",value:function(e,t){var n=this;this.loading=!0,this.loaded=!1,this.error=null,p.get({url:e,binary:t}).then((function(e){var t=e.body,r=e.text;return n._updateData(t||r)}),(function(e){return n._errorLoadingData(e)}))}},{key:"_updateData",value:function(e){this.loading=!1,this.loaded=!0,this.error=null,this._model.update(e),this.emit("change")}},{key:"_errorLoadingData",value:function(e){this.error=e,this.loading=!1,this.loaded=!1,this._model.reset(),this.emit("change")}},{key:"model",get:function(){return this.loaded?this._model:null}}])&&f(n.prototype,r),o&&f(n,o),t}(a.EventEmitter);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40},v=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keys=n,this.keyCodes=[],this.keys.forEach((function(e){g[e]&&t.keyCodes.push(g[e])}))}var t,n,r;return t=e,(n=[{key:"getKey",value:function(e){var t=this.keyCodes.indexOf(e);return-1===t?null:this.keys[t]}},{key:"getKeyCode",value:function(e){var t=this.keys.indexOf(e);return-1===t?null:this.keyCodes[t]}}])&&h(t.prototype,n),r&&h(t,r),e}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,w(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,(r=[{key:"emitAsync",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return setTimeout((function(){return e.emit.apply(e,n)}),0)}}])&&b(n.prototype,r),o&&b(n,o),t}(a.EventEmitter),k=(n(369),n(362),n(122));var S={parse:function(e){return"string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e}};function E(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"k",(function(){return j})),n.d(t,"e",(function(){return P})),n.d(t,"j",(function(){return C})),n.d(t,"f",(function(){return A})),n.d(t,"i",(function(){return N})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return i.a})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return k.a})),n.d(t,"l",(function(){return S}));var _,j=(_=Math.floor(Math.abs(3024*Math.random())),function(){return"_".concat(_+=1)}),P=function(e,t,n){return Math.min(Math.max(t,e),n)},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!1,r=[];return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];r=i,n||(n=!0,setTimeout((function(){n=!1,e.apply(void 0,E(r))}),t))}},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){e.apply(void 0,o)}),t)}},N=function(e){if(e){e.stopPropagation&&e.stopPropagation();var t=e.nativeEvent;t&&t.stopImmediatePropagation&&t.stopImmediatePropagation()}}},350:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(347),o=n.n(r),i=n(346),a=n.n(i),s=n(345),f=n.n(s),l=n(388);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=null,t=this.props.children,n=o()("figshare-loader",{"fs-loading":this.props.loading,"fs-error":this.props.error,"show-content":this.props.alwaysShowContent},this.props.className);return(this.props.loading||this.props.error)&&(this.props.alwaysShowContent||(t=null),e=this.renderLoading()),f.a.createElement("div",{className:n},t,e)}},{key:"renderLoading",value:function(){var e=this.props.retryAction,t=void 0,n=void 0,r=void 0,o=f.a.createElement(l.a,null);return this.props.error&&"function"==typeof e&&(t=f.a.createElement("a",{className:"fs-retry-action",onClick:e},"Retry")),this.props.loading?n=this.props.loadingMessage:this.props.error&&(o=null,n=this.props.errorMessage),n&&(r=f.a.createElement("div",{className:"fs-message-wrap"},n,t)),f.a.createElement("div",{className:"fs-figshare-loader-holder"},f.a.createElement("div",{className:"fs-figshare-loader-message"},o,r))}}])&&u(n.prototype,r),i&&u(n,i),t}(s.Component);g(v,"propTypes",{alwaysShowContent:a.a.bool,children:a.a.any,className:a.a.string,error:a.a.bool,errorMessage:a.a.node,loading:a.a.bool,loadingMessage:a.a.node,retryAction:a.a.func}),g(v,"defaultProps",{alwaysShowContent:void 0,children:void 0,className:void 0,error:void 0,errorMessage:void 0,loading:void 0,loadingMessage:void 0,retryAction:void 0})},355:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return o}));var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update(t)}var t,n,o;return t=e,(n=[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this,e)}},{key:"reset",value:function(){}}])&&r(t.prototype,n),o&&r(t,o),e}()},358:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(346),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){var n="string"==typeof e,r=e.listen&&e.unlisten&&e.getState;return n?t.getStore(e):r?e:null}var u,p,d,h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,f(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._bindFlux(this.props.flux)}},{key:"componentDidUpdate",value:function(e){this.props.flux!==e.flux&&(this._unbindFlux(e.flux),this._bindFlux(this.props.flux))}},{key:"componentWillUnmount",value:function(){this._unbindFlux(this.props.flux)}},{key:"getFluxState",value:function(){var e=this,t=(this.watchStores()||[]).map((function(t){return c(t,e.props.flux)}));return this.getStateFromFlux(t)}},{key:"onStoreChange",value:function(){var e=this.getFluxState();this.setState(e)}},{key:"watchStores",value:function(){return[]}},{key:"getStateFromFlux",value:function(){return{}}},{key:"_bindFlux",value:function(e){var t=this;(this.watchStores()||[]).forEach((function(n){var r=c(n,e);r&&r.listen(t.handle("onStoreChange"))}))}},{key:"_unbindFlux",value:function(e){var t=this;(this.watchStores()||[]).forEach((function(n){var r=c(n,e);r&&r.unlisten(t.handle("onStoreChange"))}))}}])&&a(n.prototype,r),o&&a(n,o),t}(n(372).a);u=h,p="propTypes",d={flux:o.a.object.isRequired},p in u?Object.defineProperty(u,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[p]=d},360:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return l}));var r=n(395),o=n(415);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=function(e){return r.d},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.middlewareList,n=void 0===t?[]:t,s=(e.debugName,a()),f=s(r.a.apply(void 0,[o.a].concat(i(n)))),l=Object(r.e)((function(e){return e}),{},f);return l.reducers={},l},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=n?new RegExp("^".concat(n,"/")):"";return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1?arguments[1]:void 0,a=i.type;if(!a.startsWith(n))return o;var s=a.replace(r,""),f=e[s];return f?f(o,i):o}},l=function(e,t,n){if(!e||!e.reducers)throw new Error("No store or no injection mechanism found");var o=e.reducers;o[t]||(o[t]=n,e.replaceReducer(Object(r.c)(o)))}},361:function(e,t,n){"use strict";var r=n(515),o=n.n(r),i=n(381),a=n.n(i);var s=function e(t){var n=t.type,r=t.text,o=t.data;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=n,this.text=r,this.data=o};s.ERROR="error",s.fromHttpError=function(e){var t=e.response,n=new s({type:s.ERROR});return t?(n.text=t.statusText||"Unknown HTTP error",t.body&&t.body.message&&(n.text=t.body.message),n.data=t):(n.text="Network error",n.data=e),n};var f=s;function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}n.d(t,"a",(function(){return v}));var g=function(){function e(t,n){p(this,e),this.promise=n instanceof Promise?n:new Promise(n),this._request=t}return h(e,[{key:"then",value:function(t,n){return new e(this._request,this.promise.then(t,n))}},{key:"catch",value:function(t){return new e(this._request,this.promise.catch(t))}},{key:"abort",value:function(){this._request.abort()}}]),e}(),v=function(){function e(t){var n=t.authorization,r=t.baseURL,o=void 0===r?"/":r,i=t.followLocation,s=t.bodyType,f=void 0===s?"json":s,l=t.headers,c=void 0===l?{}:l,u=t.credentials,d=void 0===u||u;p(this,e),this.headers=c,this.credentials=d;var h=a.a.parse(o),g=h.host,v=h.protocol;this.host=g,this.protocol=v,this.setAuthorization(n),this.followLocation=!!i,this.bodyType=f}return h(e,[{key:"request",value:function(t){var n=this,r=t.method,i=void 0===r?"get":r,s=t.url,l=t.headers,u=t.query,p=t.body,d=t.attach,h=t.bodyType,v=void 0===h?this.bodyType:h,y=t.followLocation,b=t.binary,m="delete"===i?"del":i,w=this._buildUrl(this.url(s)),x=o.a[m](w);x.withCredentials&&this.credentials&&x.withCredentials(),x.query(u),x.set(c({},l,{},this.headers||{})),v&&x.type(v),b&&x.responseType("arraybuffer"),d&&x.attach("file",d),x.send(p);var O=new g(x,(function(t,n){x.on("abort",(function(){n(e.ERR_ABORT)})),x.end((function(e,r){e?n(f.fromHttpError(e)):t(r)}))}));return(void 0===y?this.followLocation:y)&&(O=O.then((function(e){if(e.headers.location){var t=a.a.resolve(w,e.headers.location);return n.get({url:t})}return e}))),O}},{key:"get",value:function(e){return this.request(c({},e,{method:"get",bodyType:null}))}},{key:"post",value:function(e){return this.request(c({},e,{method:"post"}))}},{key:"put",value:function(e){return this.request(c({},e,{method:"put"}))}},{key:"delete",value:function(e){return this.request(c({},e,{method:"delete"}))}},{key:"head",value:function(e){return this.request(c({},e,{method:"head"}))}},{key:"options",value:function(e){return this.request(c({},e,{method:"options"}))}},{key:"url",value:function(e){return e}},{key:"setAuthorization",value:function(e){e&&(this.headers.Authorization="token ".concat(e))}},{key:"_buildUrl",value:function(e){if(this.host||this.protocol){var t=a.a.parse(e);return t.host=t.host||this.host,t.protocol=t.protocol||this.protocol,a.a.format(t)}return e}},{key:"_successHandler",value:function(e){return e.body}},{key:"_errorHandler",value:function(e){return Promise.reject(e)}}]),e}();v.ERR_ABORT={}},362:function(e,t,n){"use strict";var r="width",o="height",i=1e3;function a(e){return Math.round(e*i)/i}t.a={get AXES(){return{X:r,Y:o}},computeSize:function(e){var t=e||{},n=t.width,i=void 0===n?0:n,s=t.height,f=void 0===s?1:s,l=t.ratio,c=void 0===l?1:l,u=t.lockAxis;u!==r&&u!==o&&(u=null);var p=a(i/f||1);return(c=a(c))===p?{width:i,height:f}:((u===r||!u&&p<c)&&(f=i/c),(u===o||!u&&p>c)&&(i=f*c),{width:i,height:f})},roundRatio:a}},364:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(346),o=n.n(r),i=n(345),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),f=0;f<i;f++)a[f]=arguments[f];return r=this,o=(e=l(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==s(o)&&"function"!=typeof o?c(r):o,p(c(n),"node",null),p(c(n),"setRef",(function(e){return n.node=e})),p(c(n),"onClick",(function(e){var t=n.props,r=t.onBlur,o=t.onClickInside,i=t.onClickOutside,a=t.onFocus;!function(e,t){for(var n=e;n;){if(n===t)return!1;n=n.parentNode}return!0}(e.target,n.node)?(a(),o()):(r(),i())})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onClick)}},{key:"render",value:function(){return a.a.createElement("div",{ref:this.setRef,className:"click-outside-wrapper"},this.props.children)}}])&&f(n.prototype,r),o&&f(n,o),t}(i.Component);p(d,"propTypes",{children:o.a.element.isRequired,onBlur:o.a.func,onClickInside:o.a.func,onClickOutside:o.a.func,onFocus:o.a.func}),p(d,"defaultProps",{onBlur:function(){},onClickInside:function(){},onClickOutside:function(){},onFocus:function(){}})},366:function(e,t,n){"use strict";var r=n(346),o=n.n(r),i=n(345),a=n.n(i),s=n(353),f=n.n(s),l=n(358),c=n(370),u=n(387),p=n.n(u),d=n(368);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("setModel","setCommand","updateModel")}var t,n,r;return t=e,(n=[{key:"registerFileView",value:function(e){"audio"!==e.viewerType&&"video"!==e.viewerType&&d.a.trackOnce("view","file",e.id)}}])&&h(t.prototype,n),r&&h(t,r),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this.alt.getActions("DisplayModel");this.bindActions(t),this._model=null,this.state={}}var t,n,r;return t=e,(n=[{key:"onSetModel",value:function(e){var t=this;if(this._model&&(this._model=null),this._model=e,this._model){var n=this._model.state,r=void 0===n?{}:n;this.setState(r,(function(){return t.dispatch()}))}}},{key:"onSetCommand",value:function(e){var t=e.command,n=e.data;this._model&&this._model.handleCommand(t,n)}},{key:"onUpdateModel",value:function(){var e=this;if(this._model){var t=this._model.state,n=void 0===t?{}:t;this.setState(n,(function(){return e.dispatch()}))}}}])&&v(t.prototype,n),r&&v(t,r),e}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=m(this,w(t).call(this))).addActions("DisplayModel",g),e.addStore("DisplayModel",y),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),t}(p.a),k=n(347),S=n.n(k);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=P(this,(e=C(t)).call.apply(e,[this].concat(o)))).state=n.getFluxState(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,o=[{key:"getPreview",value:function(e){var t=(e||{}).virusScanInfo.virus_found;if(!e||!e.thumb||t){var n=e&&e.viewerType,r=n?"fs-".concat(n):null,o=S()("fs-generic-preview",r);return a.a.createElement("div",{className:o})}var i=e.thumb;return a.a.createElement("img",{alt:"",src:i})}}],(r=[{key:"watchStores",value:function(){return["DisplayModel"]}},{key:"getStateFromFlux",value:function(e){return _(e,1)[0].getState()}}])&&j(n.prototype,r),o&&j(n,o),t}(l.a);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}N.defaultProps={},N.propTypes={flux:o.a.object.isRequired};var I,z,L,H=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,R(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t={width:e.maxWidth,height:e.maxHeight};return a.a.createElement("div",{className:"fs-display fs-not-previewable",role:"img",style:t},a.a.createElement("div",{className:"fs-not-previewable-content"},a.a.createElement("span",{className:"fs-not-previewable-message"},"sorry, we ","can't"," preview this file")))}}])&&D(n.prototype,r),o&&D(n,o),t}(N);I=H,z="propTypes",L={flux:o.a.object.isRequired},z in I?Object.defineProperty(I,z,{value:L,enumerable:!0,configurable:!0,writable:!0}):I[z]=L;var B=n(350);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e,t,n){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),V(this,G(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.maxWidth,r=t.maxHeight;e.maxWidth===n&&e.maxHeight===r||this._changeDisplayArea(n,r)}},{key:"componentDidMount",value:function(){q(G(t.prototype),"componentDidMount",this).call(this);var e=this.props,n=e.maxWidth,r=e.maxHeight;this._changeDisplayArea(n,r),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"render",value:function(){var e=this.state,t=e.url,n=e.width,r=e.height,o=e.loading,i=e.error,s=this.props,f={width:s.maxWidth,height:s.maxHeight};return a.a.createElement("div",{className:"fs-display fs-image-display",style:f},a.a.createElement(B.a,{error:!!i,errorMessage:"Sorry we could not load your data.",loading:o},a.a.createElement("img",{key:t,alt:t,height:r,src:t,width:n})))}},{key:"_changeDisplayArea",value:function(e,t){this.props.flux.getActions("DisplayModel").setCommand({command:"change",data:{maxWidth:e,maxHeight:t}})}}])&&U(n.prototype,r),o&&U(n,o),t}(N);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e,t,n){return(ee="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Q.defaultProps={},Q.propTypes={flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number};var re=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=$(this,(e=te(t)).call.apply(e,[this].concat(o)))).state=n.getFluxState(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),n=t,(r=[{key:"watchStores",value:function(){return["DisplayModel"]}},{key:"componentDidMount",value:function(){ee(te(t.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"getStateFromFlux",value:function(e){var t=Y(e,1)[0].getState(),n=(this.state||{}).expanded;return n||t.tree&&((n={})[t.tree.key]=!0,t.tree.dirs.forEach((function(e){var t=e.key;return n[t]=!0}))),Object.assign({},t,{expanded:n})}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error,r=e.tree,o=void 0===r?{}:r,i=e.expanded,s=void 0===i?{}:i,f=this._extractExpandedDir(o,s),l=this.props,c=l.maxWidth,u=l.maxHeight;return a.a.createElement("div",{className:"fs-display fs-archive-display",style:{maxWidth:c,maxHeight:u}},a.a.createElement(B.a,{error:!!n,errorMessage:"Sorry we could not load your data.",loading:t},a.a.createElement("div",{className:"fs-archive-table",tabIndex:0},f.map(this.handle("displayItem")))))}},{key:"displayItem",value:function(e,t){var n=e.key,r=e.depth,o=e.name,i={},s=this.state.expanded,f=void 0===s?{}:s;return void 0!==n&&(i.className=S()("fs-archive-dir",{"fs-expanded":f[n]}),i.onClick=this._toggleDir.bind(this,n)),a.a.createElement("div",{key:t,className:"fs-archive-row"},a.a.createElement("div",Z({},i,{style:{marginLeft:35*(r+1)}}),o))}},{key:"_extractExpandedDir",value:function(e){var t=this,n=e.dirs,r=void 0===n?[]:n,o=e.files,i=void 0===o?[]:o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=[];return r.forEach((function(e){s.push(e),a[e.key]&&(s=s.concat(t._extractExpandedDir(e,a)))})),s.concat(i)}},{key:"_toggleDir",value:function(e){var t=this.state.expanded;t[e]=!t[e],this.setState({expanded:t})}}])&&J(n.prototype,r),o&&J(n,o),t}(l.a);re.defaultProps={},re.propTypes={flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number};var oe=n(401),ie=n.n(oe),ae=!!navigator.userAgent.match(/iPhone/i),se=!!navigator.userAgent.match(/iPad/i),fe=n(349),le=n(348);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=40,be="horizontal",me="vertical",we=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=de(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==ce(o)&&"function"!=typeof o?he(r):o,ve(he(n),"state",{isDragging:!1,isGliding:!1}),ve(he(n),"onMouseDown",(function(e){n.setState({isDragging:!0}),n.props.onDragStart(),n.onChange(e.pageX,e.pageY),n.addDragListeners(),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()})),ve(he(n),"onMouseMove",(function(e){n.onGlide(e.pageX,e.pageY)})),ve(he(n),"onMouseOver",(function(){n.setState({isGliding:!0}),n.props.onGlideStart()})),ve(he(n),"onMouseOut",(function(){n.state.isDragging||n.props.onGlideStop(),n.setState({isGliding:!1})})),ve(he(n),"onDocumentMouseMove",(function(e){n.onChange(e.pageX,e.pageY),n.onGlide(e.pageX,e.pageY)})),ve(he(n),"onDocumentMouseUp",(function(e){n.onChange(e.pageX,e.pageY),n.props.onDragStop(),n.removeDragListeners(),n.setState({isDragging:!1}),n.state.isGliding||n.props.onGlideStop()})),ve(he(n),"onChange",Object(fe.j)((function(e,t){var r=n.getValueFromAbsolutePosition(e,t);n.props.onChange(r)}),ye)),ve(he(n),"onGlide",Object(fe.j)((function(e,t){var r=n.props.onGlide;if(r){var o=n.getValueFromAbsolutePosition(e,t);r({style:n.getProgressStyle(o),time:o})}}),ye)),ve(he(n),"sliderNode",null),ve(he(n),"setSliderNode",(function(e){n.sliderNode=e})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,r=e.orientation,o=e.onGlide,i=e.value,s=["fv-slider-track",r,{disabled:n},t],f={};return n||(f={onMouseDown:this.onMouseDown,onMouseMove:o?this.onMouseMove:void 0,onMouseOut:this.onMouseOut,onMouseOver:this.onMouseOver}),a.a.createElement("div",ue({ref:this.setSliderNode,className:S()(s)},f),a.a.createElement("div",{className:"fv-slider-progress",style:this.getProgressStyle(i)}))}},{key:"addDragListeners",value:function(){document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp)}},{key:"removeDragListeners",value:function(){document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"getValueFromAbsolutePosition",value:function(e,t){var n=this.props,r=n.minValue,o=n.maxValue,i=n.orientation,a=this.sliderNode.getBoundingClientRect(),s=a.left,f=a.top,l=a.width,c=a.height,u=0;return i===be&&(u=100*Object(fe.e)(e-s,0,l)/l),i===me&&(u=100*Object(fe.e)(t-f,0,c)/c),Math.abs(o-r)*u/100-r}},{key:"getProgressStyle",value:function(e){var t=this.props,n=t.maxValue,r=t.minValue,o=t.orientation,i=Math.abs(Object(fe.e)(e,r,n)-r),a=Math.abs(n-r);return ve({},o===be?"width":"height","".concat(100*i/a,"%"))}}])&&pe(n.prototype,r),o&&pe(n,o),t}(i.Component);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ve(we,"propTypes",{maxValue:o.a.number.isRequired,minValue:o.a.number.isRequired,value:o.a.number.isRequired,className:o.a.string,disabled:o.a.bool,orientation:o.a.oneOf([be,me]),onChange:o.a.func,onDragStart:o.a.func,onDragStop:o.a.func,onGlide:o.a.func,onGlideStart:o.a.func,onGlideStop:o.a.func}),ve(we,"defaultProps",{className:"",disabled:!1,orientation:be,onChange:function(){},onDragStart:function(){},onDragStop:function(){},onGlideStart:function(){},onGlide:void 0,onGlideStop:function(){}});var je=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=ke(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==xe(o)&&"function"!=typeof o?Se(r):o,_e(Se(n),"onClick",(function(){return n.props.onClick(n.props.data)})),_e(Se(n),"onMouseOver",(function(){return n.props.onMouseOver(n.props.data)})),_e(Se(n),"onMouseOut",(function(){return n.props.onMouseOut(n.props.data)})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"fs-video-cue",style:{left:"".concat(100*this.props.data.fraction,"%")},onClick:this.onClick,onMouseOut:this.onMouseOut,onMouseOver:this.onMouseOver})}}])&&Oe(n.prototype,r),o&&Oe(n,o),t}(i.Component);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e){return e<=9?"0".concat(e):e}_e(je,"propTypes",{data:o.a.object.isRequired,onClick:o.a.func.isRequired,onMouseOut:o.a.func.isRequired,onMouseOver:o.a.func.isRequired});var Re=function(e){var t=parseInt(e/60,10),n=parseInt(e%60,10);return"".concat(Me(t),":").concat(Me(n))},Fe=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=Ae(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==Pe(o)&&"function"!=typeof o?Ne(r):o,De(Ne(n),"state",{activeCue:null,glide:{},isGliding:!1,isMuted:!1,isPlaying:!1,isTimeActive:!1,isVolumeActive:!1,lastVolume:1,previewURL:null}),De(Ne(n),"onDragStart",(function(){n.state.isPlaying&&n.props.onPause(),n.setState({isTimeActive:!0})})),De(Ne(n),"onDragStop",(function(){n.state.isPlaying?n.props.onPlay():n.props.onPause(),n.setState({isTimeActive:!1})})),De(Ne(n),"onCueOver",(function(e){n.setState({activeCue:e}),n.previewNode&&(n.previewNode.currentTime=e.time||0)})),De(Ne(n),"onCueOut",(function(){n.setState({activeCue:null})})),De(Ne(n),"onCueClick",(function(e){var t=e.time;return n.onChange(t)})),De(Ne(n),"onChange",(function(e){return n.props.onTimeChange(e)})),De(Ne(n),"onGlideStart",(function(){n.setState({isGliding:!0})})),De(Ne(n),"onGlide",(function(e){n.setState({glide:e}),n.previewNode&&!isNaN(n.previewNode.duration)&&(n.previewNode.currentTime=e.time||0)})),De(Ne(n),"onGlideStop",(function(){n.setState({isGliding:!1})})),De(Ne(n),"onTogglePlay",(function(){var e=n.state.isPlaying,t=n.props,r=t.onPause,o=t.onPlay;e?n.setState({isPlaying:!1},r):n.setState({isPlaying:!0},o)})),De(Ne(n),"onVolumeDragStart",(function(){n.setState({isMuted:!1,isVolumeActive:!0})})),De(Ne(n),"onVolumeDragStop",(function(){n.setState({isVolumeActive:!1})})),De(Ne(n),"onVolumeChange",(function(e){n.props.onVolumeChange(e),n.setState({lastVolume:e})})),De(Ne(n),"onToggleMute",(function(){var e=n.state,t=e.isMuted,r=e.lastVolume;n.setState({isMuted:!t}),n.props.onVolumeChange(t?r:0)})),De(Ne(n),"onToggleFullscreen",(function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var t=n.props,r=t.isFullscreen,o=t.onEnterFullscreen,i=t.onExitFullscreen;r?i():o()})),De(Ne(n),"onReplay",(function(){n.onChange(0),n.setState({isPlaying:!0},n.props.onPlay)})),De(Ne(n),"onPreviewReady",(function(){var e=document.createElement("canvas");e.width=147,e.height=98,e.getContext("2d").drawImage(n.previewNode,0,0,e.width,e.height);try{n.setState({previewURL:e.toDataURL()})}catch(e){null!==n.state.previewURL&&n.setState({previewURL:null})}})),De(Ne(n),"previewNode",null),De(Ne(n),"setPreviewNode",(function(e){n.previewNode=e})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e,t){var n=t.isPlaying,r=t.isTimeActive,o=this.props.hasEnded;!r&&n&&o!==e.hasEnded&&this.props.hasEnded&&this.setState({isPlaying:!1})}},{key:"render",value:function(){var e=this.props,t=e.cues,n=e.currentTime,r=e.duration,o=e.buffered,i=e.thumbPreviewUrl,s=e.crossOrigin,f=this.state,l=f.isPlaying,c=f.isMuted,u=f.isTimeActive,p=f.isVolumeActive,d=f.lastVolume,h=["fs-video-controls-container",{"fs-force-visible":u||p,"fs-hide-controls":l}];return a.a.createElement("div",{className:"fs-video-controls"},a.a.createElement("video",{ref:this.setPreviewNode,controls:!1,crossOrigin:s,height:"100%",preload:"auto",style:{display:"none"},width:"100%",onSeeked:this.onPreviewReady},a.a.createElement("source",{src:i,type:"video/mp4"})),this.renderMainButton(),a.a.createElement("div",{className:S()(h)},a.a.createElement("div",{className:"fs-video-controls-bar"},a.a.createElement(le.a,{className:S()("fs-video-play",{"fs-is-playing":l}),onClick:this.onTogglePlay}),a.a.createElement("div",{className:"fs-video-time"},Re(n)),a.a.createElement("div",{className:"fs-video-timeline-container"},a.a.createElement(we,{className:"fs-video-bufferline",disabled:!0,maxValue:r,minValue:0,value:o}),a.a.createElement(we,{className:"fs-video-timeline",maxValue:r,minValue:0,value:n,onChange:this.onChange,onDragStart:this.onDragStart,onDragStop:this.onDragStop,onGlide:this.onGlide,onGlideStart:this.onGlideStart,onGlideStop:this.onGlideStop}),t.map(this.renderCue,this),this.renderGlider()),a.a.createElement("div",{className:"fs-video-time"},Re(r)),a.a.createElement(le.a,{className:S()("fs-video-volume-button",{"fs-is-mute":c||!d}),onClick:this.onToggleMute}),a.a.createElement("div",{className:"fs-video-volume-container"},a.a.createElement(we,{className:"fs-video-volume",maxValue:1,minValue:0,value:c?0:d,onChange:this.onVolumeChange,onDragStart:this.onVolumeDragStart,onDragStop:this.onVolumeDragStop})),this.renderFullscreen())))}},{key:"renderMainButton",value:function(){var e=this.props,t=e.buffering,n=e.hasEnded,r=e.currentTime,o=e.duration,i=this.state.isPlaying;return n&&!i&&r===o?a.a.createElement(le.a,{className:"fs-video-replay",onClick:this.onReplay},"Watch again"):a.a.createElement(le.a,{className:"fs-controls-shortcuts",onClick:this.onTogglePlay,onDoubleClick:this.onToggleFullscreen},a.a.createElement(B.a,{className:"fs-video-buffering",loading:t&&i}))}},{key:"renderFullscreen",value:function(){var e=this.props,t=e.isFullscreen;return e.fullscreenAvailable?a.a.createElement(le.a,{className:S()("fs-video-fullscreen",{"fs-exit-fullscreen":t}),onClick:this.onToggleFullscreen}):null}},{key:"renderCue",value:function(e,t){return a.a.createElement(je,{key:"".concat(e.text,"_").concat(e.time,"_").concat(t),data:e,onClick:this.onCueClick,onMouseOut:this.onCueOut,onMouseOver:this.onCueOver})}},{key:"renderGlider",value:function(){var e=this.state,t=e.glide,n=e.isGliding,r=e.activeCue,o=e.previewURL,i=["fs-video-glider",{"fs-has-preview":o}],s={};if(o&&(s={backgroundImage:"url(".concat(o,")"),height:"105px",width:"154px"}),n){var f=t||{},l=f.time,c=void 0===l?0:l,u=f.style,p=void 0===u?{}:u;return s.left=p.width,a.a.createElement("div",{className:S()(i),style:s},a.a.createElement("div",{className:"fs-video-glider-text"},Re(c)))}if(r){var d=r.time,h=void 0===d?0:d,g=r.text,v=r.fraction,y=h===g?Re(h):g;return s.left="".concat(100*v,"%"),a.a.createElement("div",{className:S()(i),style:s},a.a.createElement("div",{className:"fs-video-glider-text"},y))}return null}}])&&Ce(n.prototype,r),o&&Ce(n,o),t}(i.Component);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e,t,n){return(Be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=We(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}De(Fe,"propTypes",{buffered:o.a.number.isRequired,buffering:o.a.bool.isRequired,crossOrigin:o.a.oneOf(["anonymous","use-credentials"]).isRequired,currentTime:o.a.number.isRequired,duration:o.a.number.isRequired,fullscreenAvailable:o.a.bool.isRequired,hasEnded:o.a.bool.isRequired,isFullscreen:o.a.bool.isRequired,thumbPreviewUrl:o.a.string.isRequired,onEnterFullscreen:o.a.func.isRequired,onExitFullscreen:o.a.func.isRequired,onPause:o.a.func.isRequired,onPlay:o.a.func.isRequired,onTimeChange:o.a.func.isRequired,onVolumeChange:o.a.func.isRequired,cues:o.a.array}),De(Fe,"defaultProps",{cues:[]});var qe=ae||se,Ge={controls:qe,height:"100%",preload:"auto",width:"100%"},Ke=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=We(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==Ie(o)&&"function"!=typeof o?He(r):o,Ve(He(n),"onVideoLoaded",(function(){return n.setState({buffered:n.getLastBuffered()})})),Ve(He(n),"onVideoReady",(function(){n.setState({buffered:n.getLastBuffered(),buffering:!1,cues:n.getCues(),error:!1,loading:!1,previewNode:n.videoNode.cloneNode(!0)})})),Ve(He(n),"onVideoProgress",(function(){var e=n.videoNode.HAVE_FUTURE_DATA||3;n.setState({buffered:n.getLastBuffered(),buffering:n.videoNode.readyState<e})})),Ve(He(n),"onVideoPlay",(function(){n.state.statsSent||d.a.trackOnce("view","file",n.state.fileId),n.setState({hasEnded:!1,statsSent:!0})})),Ve(He(n),"onVideoSeek",(function(){return n.setState({buffered:n.getLastBuffered()})})),Ve(He(n),"onVideoTimeUpdate",(function(){var e=n.videoNode.currentTime;n.state.currentTime!==e&&n.setState({currentTime:e}),n.setState({buffered:n.getLastBuffered()})})),Ve(He(n),"onVideoEnd",(function(){n.setState({hasEnded:!0,playCount:n.state.playCount+1,statsSent:!1})})),Ve(He(n),"onVideoError",(function(){return n.setState({error:!0,loading:!1})})),Ve(He(n),"onSlide",(function(e){n.videoNode.currentTime=e,n.setState({currentTime:e})})),Ve(He(n),"onPlay",(function(){n.videoNode.play(),n.setState({hasEnded:!1})})),Ve(He(n),"onPause",(function(){return n.videoNode.pause()})),Ve(He(n),"onEnterFullscreen",(function(){return ie.a.request(n.rootNode)})),Ve(He(n),"onExitFullscreen",(function(){return ie.a.exit()})),Ve(He(n),"onVolumeChange",(function(e){n.videoNode.volume=e})),Ve(He(n),"onToggleFullscreen",(function(){return n.setState({isFullscreen:ie.a.isFullscreen})})),Ve(He(n),"rootNode",null),Ve(He(n),"setRootNode",(function(e){n.rootNode=e})),Ve(He(n),"videoNode",null),Ve(He(n),"setVideoNode",(function(e){n.videoNode=e})),Ve(He(n),"trackNode",null),Ve(He(n),"setTrackNode",(function(e){n.trackNode=e})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){Be(We(t.prototype),"componentDidMount",this).call(this),ie.a.enabled&&ie.a.on("change",this.onToggleFullscreen)}},{key:"componentDidUpdate",value:function(){this.trackNode&&"hidden"!==this.trackNode.track.mode&&(this.trackNode.track.mode="hidden")}},{key:"componentWillUnmount",value:function(){Be(We(t.prototype),"componentWillUnmount",this).call(this),ie.a.enabled&&ie.a.off("change",this.onToggleFullscreen)}},{key:"render",value:function(){var e=this.props,t=e.maxWidth,n=e.maxHeight,r=e.mode,o=this.state,i=o.loading,s=o.error,f=o.previewUrl,l=o.url,c=o.isFullscreen,u=o.crossOrigin,p={maxHeight:c?"100%":n,maxWidth:c?"100%":t},d=["fs-display","fs-media-wrapper","fs-mode-".concat(r)];return a.a.createElement("div",{ref:this.setRootNode,className:S()(d),style:p},a.a.createElement(B.a,{alwaysShowContent:!1,className:"fs-video-loader",error:s,errorMessage:"Sorry we could not load your data.",loading:!u&&i},a.a.createElement("video",ze({},Ge,{ref:this.setVideoNode,crossOrigin:u,poster:f,onCanPlay:this.onVideoReady,onEnded:this.onVideoEnd,onError:this.onVideoError,onLoadedMetadata:this.onVideoLoaded,onPlay:this.onVideoPlay,onProgress:this.onVideoProgress,onSeeked:this.onVideoSeek,onTimeUpdate:this.onVideoTimeUpdate}),a.a.createElement("source",{src:l,type:"video/mp4"}),this.renderTrack()),this.renderControls()))}},{key:"renderTrack",value:function(){var e=this.state.chaptersUrl;return e?a.a.createElement("track",{ref:this.setTrackNode,kind:"chapters",label:"Chapters",src:e}):null}},{key:"renderControls",value:function(){if(qe)return null;var e=this.state,t=e.loading,n=e.error;if(!this.videoNode||t||n||!this.props.showControls)return null;var r=this.state,o=r.buffered,i=r.buffering,s=r.cues,f=r.hasEnded,l=r.isFullscreen,c=r.url,u=r.currentTime,p=r.crossOrigin,d=this.videoNode,h=d.duration,g=d.volume;return a.a.createElement(Fe,{buffered:o,buffering:i,crossOrigin:p,cues:s,currentTime:Object(fe.e)(u,0,h),duration:h,fullscreenAvailable:ie.a.enabled,hasEnded:f,isFullscreen:l,thumbPreviewUrl:c,volume:g,onEnterFullscreen:this.onEnterFullscreen,onExitFullscreen:this.onExitFullscreen,onPause:this.onPause,onPlay:this.onPlay,onTimeChange:this.onSlide,onVolumeChange:this.onVolumeChange})}},{key:"getLastBuffered",value:function(){var e=0,t=this.videoNode.buffered.length-1;return t>=0&&(e=this.videoNode.buffered.end(t)),e}},{key:"getCues",value:function(){if(!this.trackNode)return[];var e=this.trackNode.LOADED||2,t=this.trackNode.track;if(this.trackNode.readyState!==e||!t||!t.cues)return[];var n=this.videoNode.duration;return Array.from(t.cues).map((function(e){var t=e.text,r=e.startTime;return{fraction:Object(fe.e)(r,0,n)/n,text:t||r,time:r}}))}}])&&Le(n.prototype,r),o&&Le(n,o),t}(N);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e,t,n){return(Je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$e(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ve(Ke,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number,mode:o.a.oneOf(["desktop","mobile"]),showControls:o.a.bool}),Ve(Ke,"defaultProps",{mode:"desktop",showControls:!0});var nt=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=$e(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==Qe(o)&&"function"!=typeof o?Ye(r):o,tt(Ye(n),"viewer",null),tt(Ye(n),"canvasNode",null),tt(Ye(n),"setCanvasNode",(function(e){n.canvasNode=e})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){Je($e(t.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"componentDidUpdate",value:function(e){if(this._initViewer(),this.viewer){this.props.focused||(this.viewer.cameraRotation=!0);var t=this.props,n=t.maxWidth,r=t.maxHeight;n===e.maxWidth&&r===e.maxHeight||this.viewer.resize(n,r)}}},{key:"componentWillUnmount",value:function(){Je($e(t.prototype),"componentWillUnmount",this).call(this),this.viewer&&this.viewer.stop()}},{key:"render",value:function(){var e={width:this.props.maxWidth,height:this.props.maxHeight};return a.a.createElement("div",{className:"fs-display fs-viewer3d-display",style:e},a.a.createElement(B.a,{error:!!this.state.error,errorMessage:"Sorry we could not load your data",loading:this.state.loading},a.a.createElement("canvas",Xe({ref:this.setCanvasNode},e))))}},{key:"_initViewer",value:function(){var e=this.state,t=e.bin,n=e.meta,r=e.Viewer3D;!this.viewer&&this.canvasNode&&t&&n&&r&&(this.viewer=new r(this.canvasNode,{alpha:!0}),this.viewer.setModelBinary(n,t),this.viewer.start(),this.viewer.resize(this.props.maxWidth,this.props.maxHeight))}}])&&Ze(n.prototype,r),o&&Ze(n,o),t}(N);function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e){return e<=9?"0".concat(e):e}tt(nt,"propTypes",{flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number});var ct=function(e){var t=parseInt(e/60,10),n=parseInt(e%60,10);return"".concat(lt(t),":").concat(lt(n))},ut=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=it(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==rt(o)&&"function"!=typeof o?at(r):o,ft(at(n),"state",{glide:{},isGliding:!1,isMuted:!1,isPlaying:!1,isTimeActive:!1,lastVolume:1}),ft(at(n),"onDragStart",(function(){n.state.isPlaying&&n.props.onPause(),n.setState({isTimeActive:!0})})),ft(at(n),"onDragStop",(function(){n.state.isPlaying?n.props.onPlay():n.props.onPause(),n.setState({isTimeActive:!1})})),ft(at(n),"onChange",(function(e){return n.props.onTimeChange(e)})),ft(at(n),"onGlideStart",(function(){return n.setState({isGliding:!0})})),ft(at(n),"onGlide",(function(e){return n.setState({glide:e})})),ft(at(n),"onGlideStop",(function(){return n.setState({isGliding:!1})})),ft(at(n),"onTogglePlay",(function(){var e=n.state.isPlaying,t=n.props,r=t.onPause,o=t.onPlay;e?n.setState({isPlaying:!1},r):n.setState({isPlaying:!0},o)})),ft(at(n),"onVolumeDragStart",(function(){return n.setState({isMuted:!1})})),ft(at(n),"onVolumeChange",(function(e){n.props.onVolumeChange(e),n.setState({lastVolume:e})})),ft(at(n),"onToggleMute",(function(){var e=n.state,t=e.isMuted,r=e.lastVolume;n.setState({isMuted:!t}),n.props.onVolumeChange(t?r:0)})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this.state,n=t.isPlaying,r=t.isTimeActive,o=this.props.hasEnded;!r&&n&&o!==e.hasEnded&&o&&this.setState({isPlaying:!1})}},{key:"render",value:function(){var e=this.props,t=e.currentTime,n=e.duration,r=e.buffered,o=this.state,i=o.isPlaying,s=o.isMuted,f=o.lastVolume;return a.a.createElement("div",{className:"fs-audio-controls"},a.a.createElement("div",{className:"fs-audio-controls-bar"},a.a.createElement(le.a,{"aria-label":i?"Pause":"Play",className:S()("fs-audio-play",{"fs-is-playing":i}),onClick:this.onTogglePlay}),a.a.createElement("div",{className:"fs-audio-time"},ct(t)),a.a.createElement("div",{className:"fs-audio-timeline-container"},a.a.createElement(we,{className:"fs-audio-bufferline",disabled:!0,maxValue:n,minValue:0,value:r}),a.a.createElement(we,{className:"fs-audio-timeline",maxValue:n,minValue:0,value:t,onChange:this.onChange,onDragStart:this.onDragStart,onDragStop:this.onDragStop,onGlide:this.onGlide,onGlideStart:this.onGlideStart,onGlideStop:this.onGlideStop}),this.renderGlider()),a.a.createElement("div",{className:"fs-audio-time"},ct(n)),a.a.createElement(le.a,{"aria-label":s||!f?"Unmute":"Mute",className:S()("fs-audio-volume-button",{"fs-is-mute":s||!f}),onClick:this.onToggleMute}),a.a.createElement("div",{className:"fs-audio-volume-container"},a.a.createElement(we,{className:"fs-audio-volume",maxValue:1,minValue:0,value:s?0:f,onChange:this.onVolumeChange,onDragStart:this.onVolumeDragStart}))))}},{key:"renderGlider",value:function(){var e=this.state,t=e.glide;if(!e.isGliding)return null;var n=t||{},r=n.time,o=void 0===r?0:r,i=n.style,s=void 0===i?{}:i;return a.a.createElement("div",{className:"fs-audio-glider",style:{left:s.width}},ct(o))}}])&&ot(n.prototype,r),o&&ot(n,o),t}(i.Component);function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ft(ut,"propTypes",{buffered:o.a.number.isRequired,currentTime:o.a.number.isRequired,duration:o.a.number.isRequired,hasEnded:o.a.bool.isRequired,onPause:o.a.func.isRequired,onPlay:o.a.func.isRequired,onTimeChange:o.a.func.isRequired,onVolumeChange:o.a.func.isRequired});var mt=3,wt=ae||se,xt={controls:wt,preload:"auto"},Ot=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=gt(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==pt(o)&&"function"!=typeof o?vt(r):o,bt(vt(n),"onAudioLoaded",(function(){n.setState({buffered:n.getLastBuffered()})})),bt(vt(n),"onAudioReady",(function(){n.setState({buffered:n.getLastBuffered(),buffering:!1,error:!1,loading:!1})})),bt(vt(n),"onAudioProgress",(function(){var e=n.audioNode.HAVE_FUTURE_DATA||mt;n.setState({buffered:n.getLastBuffered(),buffering:n.audioNode.readyState<e})})),bt(vt(n),"onAudioPlay",(function(){n.state.statsSent||d.a.trackOnce("view","file",n.state.fileId),n.setState({hasEnded:!1})})),bt(vt(n),"onAudioSeek",(function(){n.setState({buffered:n.getLastBuffered()})})),bt(vt(n),"onAudioTimeUpdate",(function(){var e=n.audioNode.currentTime;n.state.currentTime!==e&&n.setState({currentTime:e}),n.setState({buffered:n.getLastBuffered()})})),bt(vt(n),"onAudioEnd",(function(){n.setState({hasEnded:!0,playCount:n.state.playCount+1,statsSent:!1})})),bt(vt(n),"onAudioError",(function(){return n.setState({error:!0,loading:!1})})),bt(vt(n),"onTimeChange",(function(e){n.audioNode.currentTime=e,n.setState({currentTime:e})})),bt(vt(n),"onPlay",(function(){n.audioNode.play(),n.setState({hasEnded:!1})})),bt(vt(n),"onPause",(function(){return n.audioNode.pause()})),bt(vt(n),"onVolumeChange",(function(e){n.audioNode.volume=e})),bt(vt(n),"audioNode",null),bt(vt(n),"setAudioNode",(function(e){n.audioNode=e})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.maxWidth,n=e.maxHeight,r=e.mode,o=this.state,i=o.loading,s=o.error,f=o.url,l=o.crossOrigin,c=["fs-mode-".concat(r),{"native-controls":wt}];return a.a.createElement("div",{className:S()("fs-display","fs-audio-wrapper",c),style:{maxHeight:n,maxWidth:t}},a.a.createElement(B.a,{alwaysShowContent:!1,className:"fs-audio-loader",error:!!s,errorMessage:"Sorry we could not load your data.",loading:!l&&i},a.a.createElement("audio",dt({},xt,{ref:this.setAudioNode,crossOrigin:l,onCanPlay:this.onAudioReady,onEnded:this.onAudioEnd,onError:this.onAudioError,onLoadedMetadata:this.onAudioLoaded,onPlay:this.onAudioPlay,onProgress:this.onAudioProgress,onSeeked:this.onAudioSeek,onTimeUpdate:this.onAudioTimeUpdate}),a.a.createElement("source",{src:f,type:"audio/mpeg"})),this.renderControls()))}},{key:"renderControls",value:function(){if(wt)return null;var e=this.state,t=e.loading,n=e.error,r=e.buffered,o=e.buffering,i=e.hasEnded,s=e.currentTime;if(!this.audioNode||t||n)return null;var f=this.audioNode,l=f.duration,c=f.volume;return a.a.createElement(ut,{buffered:r,buffering:o,currentTime:Object(fe.e)(s,0,l),duration:l,hasEnded:i,volume:c,onPause:this.onPause,onPlay:this.onPlay,onTimeChange:this.onTimeChange,onVolumeChange:this.onVolumeChange})}},{key:"getLastBuffered",value:function(){var e=0,t=this.audioNode.buffered.length-1;return t>=0&&(e=this.audioNode.buffered.end(t)),e}}])&&ht(n.prototype,r),o&&ht(n,o),t}(N);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e,t,n){return(jt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}bt(Ot,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number,mode:o.a.oneOf(["desktop","mobile"])}),bt(Ot,"defaultProps",{mode:"desktop"});var At=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=_t(this,(e=Pt(t)).call.apply(e,[this].concat(o)))).viewer=null,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){jt(Pt(t.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"componentDidUpdate",value:function(e,t){if(this._initViewer(),this.viewer){var n=this.state.fromAnimation;n||n===t.fromAnimation||(this.viewer.isAnimating=!1),n||this.state.currentFrame===t.currentFrame||this.viewer.setIndex(this.state.currentFrame),this.state.isAnimating&&this.state.currentFPS!==t.currentFPS&&this.viewer.setAnimationDelay(1e3/this.state.currentFPS),this.props.focused||(this.viewer.cameraRotation=!0);var r=this.props,o=r.maxWidth,i=r.maxHeight;o===e.maxWidth&&i===e.maxHeight||this.viewer.resize(o,i)}}},{key:"componentWillUnmount",value:function(){jt(Pt(t.prototype),"componentWillUnmount",this).call(this),this.viewer&&this.viewer.stop()}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error,r=this.props,o=r.maxWidth,i=r.maxHeight,s=r.mode,f={width:o,height:i},l=["fs-display","fs-molecule-display","fs-mode-".concat(s)];return a.a.createElement("div",{className:S()(l),style:f},a.a.createElement(B.a,{error:!!n,errorMessage:"Sorry we could not load your data",loading:t},a.a.createElement("canvas",St({},f,{ref:"canvas"})),this.renderSpeedControls()))}},{key:"renderSpeedControls",value:function(){var e=this.state,t=e.loaded,n=e.comments;if(!this.viewer||!t||n.length<2||!this.props.showControls)return null;if(!this.state.isAnimating)return a.a.createElement("div",{className:"fs-speed-controls"},a.a.createElement(le.a,{key:"play",className:"fs-play",title:"Play",type:"button",onClick:this.handle("onPlay")}));var r=this.state,o=r.isDefaultFPS,i=r.canDecreaseFPS,s=r.canIncreaseFPS,f=r.currentFPS,l=["fs-speed-indicator",{"default-speed":o}],c="".concat(f," fps");return o&&(c="Normal ".concat(c)),a.a.createElement("div",{className:"fs-speed-controls"},a.a.createElement(le.a,{key:"decrease-speed",className:"fs-decrease-speed",disabled:!i,title:"Decrease speed",onClick:this.handle("onDecreaseSpeed")}),a.a.createElement(le.a,{key:"pause",className:"fs-pause",title:"Pause",onClick:this.handle("onPause")},a.a.createElement("span",{className:S()(l)},c)),a.a.createElement(le.a,{key:"increase-speed",className:"fs-increase-speed",disabled:!s,title:"Increase speed",onClick:this.handle("onIncreaseSpeed")}))}},{key:"onPlay",value:function(){this.changeAnimatingTo(!0)}},{key:"onPause",value:function(){this.changeAnimatingTo(!1)}},{key:"changeAnimatingTo",value:function(e){this.viewer&&(this.viewer.isAnimating=e,this.props.flux.getActions("DisplayModel").setCommand({command:"animationChange",data:{isAnimating:this.viewer.isAnimating,fromAnimation:!1}}))}},{key:"onDecreaseSpeed",value:function(){this.props.flux.getActions("DisplayModel").setCommand({command:"decreaseFPS"})}},{key:"onIncreaseSpeed",value:function(){this.props.flux.getActions("DisplayModel").setCommand({command:"increaseFPS"})}},{key:"_initViewer",value:function(){var e=this.refs.canvas,t=this.state,n=t.molecule,r=t.MoleculeViewer;if(!this.viewer&&e&&n&&r){var o=this.props,i=o.maxWidth,a=o.maxHeight;this.viewer=new r(f.a.findDOMNode(e),{alpha:!0,onIndexChange:this.handle("onIndexSync")}),this.viewer.setModel(n),this.viewer.start(),this.viewer.resize(i,a),this.setState({viewerLoaded:!!this.viewer})}}},{key:"onIndexSync",value:function(e){var t=this.props.flux.getActions("DisplayModel");e!==this.state.currentFrame&&t.setCommand({command:"changeFrame",data:{currentFrame:e,fromAnimation:!0,isAnimating:this.viewer.isAnimating}})}}])&&Et(n.prototype,r),o&&Et(n,o),t}(N);function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e,t,n){return(Mt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}At.defaultProps={showControls:!0,mode:"desktop"},At.propTypes={flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number,mode:o.a.oneOf(["desktop","mobile"]),showControls:o.a.bool};var It=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Dt(this,(e=Rt(t)).call.apply(e,[this].concat(o)))).state.visiblePages=[],n.state.currentPage=0,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.maxWidth,r=t.maxHeight;e.maxWidth===n&&e.maxHeight===r||this._changeDisplayArea(n,r)}},{key:"componentDidMount",value:function(){Mt(Rt(t.prototype),"componentDidMount",this).call(this);var e=this.props,n=e.maxWidth,r=e.maxHeight;this._changeDisplayArea(n,r),this.updatePages()}},{key:"render",value:function(){var e=this.props,t=e.maxWidth,n=e.maxHeight,r=this.state.pages.map(this.renderPage,this),o={width:t||0,height:n||0};return a.a.createElement("div",{ref:"pagesWrapper",className:"fs-display fs-document-display",style:o,tabIndex:0,onScroll:this.handle("updatePages")},r)}},{key:"renderPage",value:function(e,t){var n=e.state,r=n.url,o=n.loading,i=n.error,s=n.loaded,f=e.state,l=f.width,c=f.height,u=this.props,p=u.maxWidth,d=u.maxHeight;(o&&!s||i)&&(l=p-60,c=d);var h=S()("fs-image-display",{"fs-current-page":this.state.currentPage===t,"fs-prev-page":this.state.currentPage>t,"fs-next-page":this.state.currentPage<t});return a.a.createElement("div",{key:t,ref:"page-".concat(t),className:h,style:{width:l,height:c}},a.a.createElement(B.a,{error:!!i,errorMessage:"Sorry we could not load this page.",loading:o&&!s},a.a.createElement("img",{key:r,height:c,src:r,width:l})))}},{key:"updatePages",value:function(){var e=this,t=this._computeVisibility(),n=t.current,r=t.visible,o=this.state,i=o.currentPage,a=o.visiblePages,s=!1;s=r.length!==a.length||a.some((function(e){return-1===r.indexOf(e)})),n!==i&&(s=!0),s&&this.setState({currentPage:n,visiblePages:r},(function(){var t=e.props,n=t.maxWidth,r=t.maxHeight;e._changeDisplayArea(n,r)}))}},{key:"_changeDisplayArea",value:function(e,t){this.props.flux.getActions("DisplayModel").setCommand({command:"change",data:{index:this.state.visiblePages,maxWidth:e-60,maxHeight:t}})}},{key:"_computeVisibility",value:function(){var e=this,t=this.refs.pagesWrapper,n=this.state.pages.map((function(t){var n=t.index;return e.refs["page-".concat(n)]}));return fe.g.getVisibleNodes({wrapper:t,elements:n,elementCoverage:.5,viewportCoverage:.5})}}])&&Tt(n.prototype,r),o&&Tt(n,o),t}(N);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(It,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number});var zt=n(377);function Lt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ht(e,t,n){return(Ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t,n,r,o,i,a){try{var s=e[i](a),f=s.value}catch(e){return void n(e)}s.done?t(f):Promise.resolve(f).then(r,o)}function Ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Wt(i,r,o,a,s,"next",e)}function s(e){Wt(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t,n){return t&&qt(e.prototype,t),n&&qt(e,n),e}function Kt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?Xt(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $t=100,en=30,tn=2,nn=10,rn=function(e,t){return Array.from({length:t-e}).map((function(t,n){return n+e}))},on=function(e){function t(){var e,n;Vt(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Jt(Xt(n=Kt(this,(e=Qt(t)).call.apply(e,[this].concat(o)))),"canvasNode",null),Jt(Xt(n),"setCanvasRef",(function(e){return n.canvasNode=e})),Jt(Xt(n),"textNode",null),Jt(Xt(n),"setTextNodeRef",(function(e){return n.textNode=e})),Jt(Xt(n),"draw",Ut(regeneratorRuntime.mark((function e(){var t,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.page,r=Xt(n),o=r.canvasNode,i=r.textNode,t&&o&&i){e.next=4;break}return e.abrupt("return");case 4:if(!n.state.rendering){e.next=7;break}return n.setState({redraw:!0}),e.abrupt("return");case 7:return n.setState({rendering:!0}),e.prev=8,e.next=11,t.draw(o,i);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(8);case 15:n.mounted&&n.setState({rendering:!1},n.checkRedraw);case 16:case"end":return e.stop()}}),e,null,[[8,13]])})))),Jt(Xt(n),"checkRedraw",(function(){n.state.redraw&&n.setState({redraw:!1},n.draw)})),n}return Zt(t,e),Gt(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.page&&this.draw()}},{key:"componentDidUpdate",value:function(e){if(this.props.page){var t=e.page,n=e.zoom;if(t){var r=t.scale!==this.props.page.scale,o=n!==this.props.zoom;(r||o)&&this.draw()}else this.draw()}else e.page&&e.page.stop()}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.page;e&&e.stop()}},{key:"render",value:function(){var e=this.props,t=e.defaultSize,n=e.page,r=e.forwardedRef,o=e.showLoading;if(!n&&!t)return null;var i=n||t,s=i.width,f=i.height,l=i.canvasWidth,c=i.canvasHeight,u=i.scale;if(!n){var p=o?a.a.createElement(B.a,{className:"fs-loading-layer",loading:!0}):null;return a.a.createElement("div",{ref:r,className:"fs-page-wrapper",style:{width:s,height:f}},p)}return a.a.createElement("div",{ref:r,className:"fs-page-wrapper",style:{width:s,height:f}},a.a.createElement("canvas",{ref:this.setCanvasRef,height:c,style:{width:s,height:f},width:l}),a.a.createElement("div",{key:u,ref:this.setTextNodeRef,className:"fs-text-layer"}),this.renderLoading())}},{key:"renderLoading",value:function(){return this.state.rendering?a.a.createElement(B.a,{className:"fs-loading-layer",loading:!0}):null}}]),t}(zt.a);Jt(on,"propTypes",{defaultSize:o.a.object,forwardedRef:o.a.func,page:o.a.object,showLoading:o.a.bool,zoom:o.a.number}),Jt(on,"defaultProps",{defaultSize:void 0,forwardedRef:function(){},page:void 0,showLoading:!1,zoom:void 0});var an=function(e){function t(){var e,n;Vt(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Jt(Xt(n=Kt(this,(e=Qt(t)).call.apply(e,[this].concat(o)))),"state",{visibleNodes:[0],loadingNodes:rn(0,nn)}),Jt(Xt(n),"renderPage",(function(e,t){var r=n.state,o=r.defaultSize,i=r.loadingNodes,s=r.pageSizes,f=i.includes(t);return a.a.createElement(on,{key:t,defaultSize:s[t]||o,forwardedRef:n.setPageRef(t),page:e,showLoading:f,zoom:n.state.currentZoom})})),Jt(Xt(n),"initialLoadTimeout",null),Jt(Xt(n),"pagesLoadTimeout",null),Jt(Xt(n),"pages",{}),Jt(Xt(n),"setPageRef",(function(e){return function(t){return n.pages[e]=t}})),Jt(Xt(n),"container",null),Jt(Xt(n),"setContainerRef",(function(e){return n.container=e})),Jt(Xt(n),"onScroll",(function(e){var t=e.target.scrollTop,r=e.target.offsetHeight;clearTimeout(n.pagesLoadTimeout),n.pagesLoadTimeout=setTimeout((function(){return n.loadVisiblePages(t,r)}),$t)})),Jt(Xt(n),"loadVisiblePages",(function(e,t){var r=n.state,o=r.model,i=r.defaultSize,a=r.pageSizes,s=Math.ceil(t/(i.height+en));if(o&&o.pages&&o.pages.length){for(var f=en,l=[],c=0;c<o.pages.length&&f<e+t;c+=1){var u=Math.max(0,c-(s-1)-tn);l=rn(u,c+tn),f+=(a[c]||o.pages[c]||i).height+en}var p=l[0],d=l[l.length-1],h=Math.max(0,p-nn),g=Math.min(o.pdf.numPages,d+nn),v=rn(h,g);n.setState({visibleNodes:l,loadingNodes:v}),n.props.flux.getActions("DisplayModel").setCommand({command:"loadPages",data:{visibleNodes:l}})}})),n}return Zt(t,e),Gt(t,[{key:"componentDidMount",value:function(){var e=this;Ht(Qt(t.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"setMaxWidth",data:{maxWidth:this.props.maxWidth-70}}),this.initialLoadTimeout=setTimeout((function(){e.props.flux.getActions("DisplayModel").setCommand({command:"load"})}),200)}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.container&&!this.state.container&&setTimeout((function(){n.props.flux.getActions("DisplayModel").setCommand({command:"setContainer",data:{container:n.container}})}),0),this.props.maxWidth!==e.maxWidth&&this.props.flux.getActions("DisplayModel").setCommand({command:"setMaxWidth",data:{maxWidth:this.props.maxWidth-70}});var r=!1,o=!1;this.state.defaultSize&&(t.defaultSize?this.state.defaultSize.width!==t.defaultSize.width&&(o=!0):r=!0);var i=this.container;i&&(r||o)&&setTimeout((function(){return n.loadVisiblePages(i.scrollTop,i.offsetHeight)}),0)}},{key:"componentWillUnmount",value:function(){var e=this.state.model;e&&e.pdf&&e.pdf.destroy&&e.pdf.destroy(),clearTimeout(this.initialLoadTimeout),this.props.flux.getActions("DisplayModel").setCommand({command:"setContainer",data:{container:void 0}}),Ht(Qt(t.prototype),"componentWillUnmount",this).call(this)}},{key:"render",value:function(){var e={width:this.props.maxWidth||0,height:this.props.maxHeight||0};return a.a.createElement("div",{className:S()(["fs-display","fs-document-display"]),style:e},a.a.createElement(B.a,{error:!!this.state.error,errorMessage:"Sorry we could not load your data.",loading:this.state.loading},a.a.createElement("div",{ref:this.setContainerRef,className:"fs-canvas-document-container",style:e,tabIndex:0,onScroll:this.handle("onScroll")},this.renderPages())))}},{key:"renderPages",value:function(){var e=this.state,t=e.model,n=e.visibleNodes,r=e.resizing;return t?Lt(t.pages).map((function(e,t){return n.includes(t)&&!r?e:void 0})).map(this.renderPage):null}}]),t}(N);Jt(an,"propTypes",{flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number}),Jt(an,"defaultProps",{focused:!1,maxHeight:void 0,maxWidth:void 0});var sn=n(372);function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn=20,gn=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=cn(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==fn(o)&&"function"!=typeof o?un(r):o,dn(un(n),"onMoveLeft",(function(){var e=n.refs,t=e.wrapper,r=e.container;if(t&&r){var o=t.offsetWidth,i=n.state.leftOffset;(i+=o*n.props.movementFactor)>0&&(i=0),n.setState({leftOffset:i})}})),dn(un(n),"onMoveRight",(function(){var e=n.refs,t=e.wrapper,r=e.container;if(t&&r){var o=t.offsetWidth,i=r.offsetWidth,a=n.state.leftOffset;(a-=o*n.props.movementFactor)-o<-i&&(a=o-i-hn),n.setState({leftOffset:a})}})),n.state={controlsActive:!1,leftOffset:0},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(){var e=this.refs,t=e.wrapper,n=e.container;if(t&&n){var r=t.offsetWidth,o=n.offsetWidth,i=this.state.controlsActive;o>r&&!i?this.setState({controlsActive:!0}):o<=r&&i&&this.setState({controlsActive:!1})}}},{key:"render",value:function(){var e=this.state,t=e.controlsActive,n=e.leftOffset,r=this.getLeftRightBoundries(),o=r.left,i=r.right,s=S()("fs-carousel-wrapper",{"fs-controls-active":t,"fs-fade-left":o,"fs-fade-right":i});return a.a.createElement("div",{className:"fs-carousel"},a.a.createElement("div",{ref:"wrapper",className:s},a.a.createElement("div",{ref:"container",className:"fs-carousel-container",style:{left:n}},this.props.children)),this.renderControls({left:o,right:i}))}},{key:"getLeftRightBoundries",value:function(){var e=this.refs,t=e.wrapper,n=e.container,r=this.state,o=r.controlsActive,i=r.leftOffset;return o&&t&&n?{left:i<0,right:i-t.offsetWidth>-n.offsetWidth}:{left:!1,right:!1}}},{key:"renderControls",value:function(e){var t=e.left,n=e.right;if(!t&&!n)return null;var r=S()("fs-carousel-left-control",{"fs-active":t}),o=S()("fs-carousel-right-control",{"fs-active":n});return a.a.createElement("div",{className:"fs-carousel-controls"},a.a.createElement(le.a,{"aria-label":"Previous",className:r,onClick:this.onMoveLeft}),a.a.createElement(le.a,{"aria-label":"Next",className:o,onClick:this.onMoveRight}))}}])&&ln(n.prototype,r),o&&ln(n,o),t}(sn.a);function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mn(e,t,n){return(mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}dn(gn,"propTypes",{children:o.a.any,movementFactor:o.a.number}),dn(gn,"defaultProps",{children:void 0,movementFactor:.5});var kn=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=wn(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==vn(o)&&"function"!=typeof o?bn(r):o,On(bn(n),"headerRow",null),On(bn(n),"setHeaderRow",(function(e){return n.headerRow=e})),On(bn(n),"tableBody",null),On(bn(n),"setTableBody",(function(e){return n.tableBody=e})),On(bn(n),"_loadPage",(function(e){return function(){var t={index:e};n.props.flux.getActions("DisplayModel").setCommand({command:"load",data:t})}})),n.state.extraRows=0,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){mn(wn(t.prototype),"componentDidMount",this).call(this),this._loadPage(this.state.currentSheet)()}},{key:"componentDidUpdate",value:function(){var e=this.headerRow,t=this.tableBody;if(e&&t){var n=t.offsetHeight,r=e.offsetHeight,o=this.props.maxHeight,i=0;if(n+r<o&&r){var a=o-n-r;i=Math.floor(a/r)}i!==this.state.extraRows&&this.setState({extraRows:i})}}},{key:"render",value:function(){var e=this.props,t=e.maxWidth,n=e.maxHeight,r=this.state,o=r.currentSheet,i=r.sheets,s=r.extraRows,f=i[o],l=f.loading,c=f.loaded,u=i[o].error,p="Sorry we could not load this page.";if(c&&!u){var d=i[o].model,h=d.rows,g=d.cols;h||g||(u=!0,p="Empty sheet.")}var v={width:t,maxHeight:n-35};return s&&(v.overflowY="hidden"),a.a.createElement("div",{className:"fs-display fs-dataset-display",style:{maxWidth:t,maxHeight:n}},a.a.createElement("div",{className:"fs-sheet-display",style:v,tabIndex:0},a.a.createElement(B.a,{error:!!u,errorMessage:p,loading:l},this.renderSheet(i[o]))),a.a.createElement(gn,null,this.state.sheets.map(this.renderSelector,this)))}},{key:"renderSheet",value:function(e){if(!e.loaded||e.error)return null;for(var t=e.model,n=t.colsHead.map(this.renderHeaderCell,this),r=t.rows,o=[],i=0;i<r;i+=1)o.push(this.renderRow(i));return a.a.createElement("div",{className:"fs-sheet-wrapper"},a.a.createElement("table",{className:"fs-sheet-table"},a.a.createElement("thead",{ref:this.setHeaderRow},a.a.createElement("tr",null,a.a.createElement("th",null),n)),a.a.createElement("tbody",{ref:this.setTableBody},o),a.a.createElement("tfoot",null,this.renderExtraRows(e))))}},{key:"renderExtraRows",value:function(e){var t=this.state.extraRows;if(!e.loaded||e.error||!t)return null;for(var n=e.model,r=n.colsHead,o=n.rows,i=r.length,s=[],f=0;f<t;f+=1){for(var l=[],c=0;c<i+1;c+=1)if(0===c){var u=o+f+1;l.push(a.a.createElement("th",{key:"".concat(f,"_").concat(c)},u))}else l.push(a.a.createElement("td",{key:"".concat(f,"_").concat(c)}));s.push(a.a.createElement("tr",{key:f},l))}return s}},{key:"renderHeaderCell",value:function(e){var t=e.rowSpan,n=e.colSpan,r=e.value,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"head",i={__html:r};return a.a.createElement("th",{key:o,colSpan:n,dangerouslySetInnerHTML:i,rowSpan:t})}},{key:"renderRow",value:function(e){var t=this.state,n=t.currentSheet,r=t.sheets[n].model,o=r.rowsHead[e],i=r.row(e);return a.a.createElement("tr",{key:e},this.renderHeaderCell(o),i.map(this.renderCell,this))}},{key:"renderCell",value:function(e,t){if(!e)return null;var n=e.rowSpan,r=e.colSpan,o={__html:e.value};return a.a.createElement("td",{key:t,colSpan:r,dangerouslySetInnerHTML:o,rowSpan:n})}},{key:"renderSelector",value:function(e,t){var n=this.state.sheets.length,r=S()("fs-selector",{"fs-active":this.state.currentSheet===t}),o={zIndex:n-t};return this.state.currentSheet===t&&(o.zIndex=n+1),a.a.createElement(le.a,{key:t,className:r,style:o,onClick:this._loadPage(t)},e.name)}}])&&yn(n.prototype,r),o&&yn(n,o),t}(N);On(kn,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number});n(402);var Sn=n(403),En=n.n(Sn),_n=n(404),jn=n.n(_n),Pn=n(381),Cn=n.n(Pn),An=n(406),Nn=n.n(An),Tn="https://widgets-static.figstatic.com",Dn="9649dcf7c5c147dd6f4886f5f53c5b3232b6ec88";var Mn=function(){for(var e=Cn.a.parse(Tn),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.pathname=Nn.a.join.apply(Nn.a,[e.pathname||"","/static/",Dn].concat(n)),Cn.a.format(e)};function Rn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Fn(e){var t=e.querySelector("LookAt");if(!e.querySelector("Point")&&t){var n=t.querySelector("longitude"),r=t.querySelector("latitude"),o=t.querySelector("altitude");if(n&&r){o=o?o.textContent:0;var i=fe.l.parse("\n      <Point>\n        <coordinates>\n        ".concat(n.textContent,",").concat(r.textContent,",").concat(o,"\n        </coordinates>\n      </Point>\n    ")).querySelector("Point").cloneNode(!0);e.appendChild(i)}}}En.a.noConflict(),En.a.Icon.Default.imagePath=Mn("leaflet");var In=function(e,t,n){var r=fe.l.parse(e);if(!r)return n.fire("error",{error:"Could not parse KML"});Rn(r.querySelectorAll("Placemark")).forEach(Fn);var o=n||En.a.geoJson(),i=jn.a.kml(r);return o.addData&&o.addData(i),o.setGeoJSON&&o.setGeoJSON(i),o};En.a.generalAttributions={leaflet:'Powered by &copy;\n    <a href="https://leafletjs.com/">Leaflet</a>',tiles:'<br />Tiles &copy;\n    <a href="https://www.openstreetmap.org">OpenStreetMap</a> contributors,\n    <a href="https://www.creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',mapData:'<br />Map data &copy;\n    <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors,\n    <a href="https://www.openstreetmap.org/copyright">ODbL</a>'},En.a.loadKML=function(e,t,n){var r=n||En.a.geoJson();return In(e,t,r),r};var zn=En.a;function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wn(e,t,n){return(Wn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Un(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gn=zn.latLng(-90,-180),Kn=zn.latLng(90,180),Qn=zn.latLngBounds(Gn,Kn),Xn=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=Un(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==Ln(o)&&"function"!=typeof o?Bn(r):o,qn(Bn(n),"onToggleInfo",(function(e){e&&e.preventDefault&&e.preventDefault(),n.setState({infoOpened:!n.state.infoOpened},(function(){return n._updateAttribution()}))})),qn(Bn(n),"kmlNode",null),qn(Bn(n),"setKmlNode",(function(e){return n.kmlNode=e})),n.state.infoOpened=!1,n.map=null,n.attribution=null,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){Wn(Un(t.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"componentDidUpdate",value:function(e){var t=e.maxWidth,n=e.maxHeight,r=this.props,o=r.maxWidth,i=r.maxHeight;t===o&&n===i||!this.map||this.map.invalidateSize();var a=this.state,s=a.kmlLayer,f=a.loaded,l=a.error;!this.map&&s&&f&&!l&&this._initializeMap()}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error,r=this.props,o={width:r.maxWidth,height:r.maxHeight},i=["fs-info"];return this.state.infoOpened&&i.push("fs-open"),a.a.createElement("div",{className:"fs-display fs-kml-display",style:o},a.a.createElement(B.a,{error:!!n,errorMessage:"Sorry we could not load your data.",loading:t},a.a.createElement("div",{ref:this.setKmlNode,className:"fs-kml-wrapper",style:o}),a.a.createElement("div",{className:"leaflet-bottom leaflet-right"},a.a.createElement("div",{className:"leaflet-bar leaflet-control"},a.a.createElement("a",{className:S()(i),title:"Attributions",onClick:this.onToggleInfo})))))}},{key:"_updateAttribution",value:function(){this.attribution&&this.map&&(this.state.infoOpened?this.attribution.addTo(this.map):this.attribution.removeFrom(this.map))}},{key:"_initializeMap",value:function(){if(!this.map&&this.kmlNode){this.map=zn.map(this.kmlNode,{maxBounds:Qn,maxZoom:18,minZoom:1,center:[0,0],crs:zn.CRS.EPSG3857,attributionControl:!1}),zn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(this.map),this.state.kmlLayer.addTo(this.map);var e=this.state.kmlLayer.getBounds();e.isValid()?this.map.fitBounds(e):this.map.fitBounds(Qn);var t=zn.generalAttributions,n=t.mapData,r=t.tiles,o=t.leaflet,i=zn.control.attribution({position:"bottomright"});i.setPrefix(!1),i.addAttribution("".concat(o," ").concat(r," ").concat(n)),this.attribution=i}}}])&&Hn(n.prototype,r),o&&Hn(n,o),t}(N);function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $n(e,t,n){return($n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=er(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Xn.defaultProps={},Xn.propTypes={flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number};var nr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jn(this,er(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){$n(er(t.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"render",value:function(){var e={width:this.props.maxWidth,height:this.props.maxHeight};return a.a.createElement("div",{className:"fs-display fs-text-display",style:e},a.a.createElement(B.a,{error:!!this.state.error,errorMessage:"Sorry we could not load your data.",loading:this.state.loading},a.a.createElement("div",{className:"fs-text-container",tabIndex:0},a.a.createElement("pre",null,this.renderContent()))))}},{key:"renderContent",value:function(){return this.state.content?a.a.createElement("code",{className:"hljs",dangerouslySetInnerHTML:{__html:this.state.content}}):null}}])&&Yn(n.prototype,r),o&&Yn(n,o),t}(N);function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t){return!t||"object"!==rr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}nr.propTypes={flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number};var fr=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=ir(this,(e=ar(t)).call.apply(e,[this].concat(o)))).state.iframeLoaded=!1,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e={width:this.props.maxWidth,height:this.props.maxHeight};return a.a.createElement("div",{className:"fs-display fs-jupyter-display",style:e},a.a.createElement(B.a,{alwaysShowContent:!0,loading:!this.state.iframeLoaded},a.a.createElement("iframe",{ref:"iframe",sandbox:"",src:this.state.url,style:e,onLoad:this.handle("onLoad")})))}},{key:"onLoad",value:function(){this.refs.iframe&&this.setState({iframeLoaded:!0})}}])&&or(n.prototype,r),o&&or(n,o),t}(N);function lr(e){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(){return(cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return!t||"object"!==lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dr(e,t,n){return(dr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function hr(e){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gr(e,t){return(gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}fr.propTypes={flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number};var vr=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=pr(this,(e=hr(t)).call.apply(e,[this].concat(o)))).viewer=null,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gr(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){dr(hr(t.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"componentDidUpdate",value:function(e){if(this._initViewer(),this.viewer){var t=e.maxWidth,n=e.maxHeight;t===this.props.maxWidth&&n===this.props.maxHeight||this.viewer.resize(this.props.maxWidth,this.props.maxHeight)}}},{key:"componentWillUnmount",value:function(){dr(hr(t.prototype),"componentWillUnmount",this).call(this),this.viewer&&this.viewer.stop()}},{key:"render",value:function(){var e={width:this.props.maxWidth,height:this.props.maxHeight};return a.a.createElement("div",{className:"fs-display fs-graph-display",style:e},a.a.createElement(B.a,{error:!!this.state.error,errorMessage:"Sorry we could not load your data",loading:this.state.loading},a.a.createElement("canvas",cr({},e,{ref:"canvas"}))))}},{key:"_initViewer",value:function(){var e=this.refs.canvas,t=this.state,n=t.vertices,r=t.GraphViewer;!this.viewer&&e&&n&&r&&(this.viewer=new r(f.a.findDOMNode(e)),this.viewer.loadData(n),this.viewer.start(),this.viewer.resize(this.props.maxWidth,this.props.maxHeight))}}])&&ur(n.prototype,r),o&&ur(n,o),t}(N);function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function br(){return(br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xr(e,t,n){return(xr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Or(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Or(e){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kr(e,t){return(kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}vr.defaultProps={},vr.propTypes={flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number};var Er=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=Or(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==yr(o)&&"function"!=typeof o?wr(r):o,Sr(wr(n),"onResetFilters",(function(){return n.actions.setCommand({command:"filterReset"})})),Sr(wr(n),"onLighten",(function(){return n.actions.setCommand({command:"filterLighten"})})),Sr(wr(n),"onDarken",(function(){return n.actions.setCommand({command:"filterDarken"})})),Sr(wr(n),"onInvert",(function(){return n.actions.setCommand({command:"filterInvert"})})),Sr(wr(n),"onToggleHisto",(function(){return n.actions.setCommand({command:"toggleHisto"})})),Sr(wr(n),"onToggleMeta",(function(){return n.actions.setCommand({command:"toggleMeta"})})),Sr(wr(n),"onPrevLayer",(function(){return n.actions.setCommand({command:"prevLayer"})})),Sr(wr(n),"onNextLayer",(function(){return n.actions.setCommand({command:"nextLayer"})})),Sr(wr(n),"parseDate",(function(e){var t=e.substr(0,4),n=e.substr(4,2),r=e.substr(6,2);return"".concat(r,".").concat(n,".").concat(t)})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kr(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t={},n=e.maxWidth,r=e.maxHeight,o=this.props,i=o.maxWidth,a=o.maxHeight;n===i&&r===a||(t.newWidth=i,t.newHeight=a,this.actions.setCommand({command:"update",data:t}))}},{key:"componentDidMount",value:function(){xr(Or(t.prototype),"componentDidMount",this).call(this);var e={canvasContainerNode:this.canvasContainerNode,histoContainerNode:this.histoContainerNode,maxHeight:this.props.maxHeight,maxWidth:this.props.maxWidth};this.actions=this.props.flux.getActions("DisplayModel"),this.actions.setCommand({command:"load",data:e})}},{key:"componentWillUnmount",value:function(){xr(Or(t.prototype),"componentWillUnmount",this).call(this),this.actions.setCommand({command:"unload"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.maxWidth,r=t.maxHeight,o=t.mode,i=this.state,s=i.loading,f=i.error,l=i.hideHisto,c={height:r,width:n},u=["fs-display fs-fits-display",o];return a.a.createElement("div",{className:S()(u),style:c},a.a.createElement(B.a,{alwaysShowContent:!0,error:!!f,errorMessage:"Sorry we could not load your data",loading:s},a.a.createElement("div",br({ref:function(t){return e.canvasContainerNode=t},className:"fs-canvas-container"},c)),a.a.createElement("div",{className:S()("fs-histo-container",{disabled:l||!this.props.showControls})},a.a.createElement("div",{className:"fv-fits-histo-controls-container"},a.a.createElement("a",{className:"fv-controls-color fv-fits-histo-button",onClick:this.onResetFilters},"Default"),a.a.createElement("a",{className:"fv-controls-color fv-fits-histo-button",onClick:this.onLighten},"Lighten"),a.a.createElement("a",{className:"fv-controls-color fv-fits-histo-button",onClick:this.onDarken},"Darken"),a.a.createElement("a",{className:"fv-controls-color fv-fits-histo-button",onClick:this.onInvert},"Invert"),a.a.createElement("a",{className:"fv-fits-histo-button fv-fits-histo-close",onClick:this.onToggleHisto})),a.a.createElement("div",{ref:function(t){return e.histoContainerNode=t},className:"fs-histo-canvas-container"})),this.renderImageInfo()))}},{key:"renderImageInfo",value:function(){var e=this.state,t=e.meta,n=e.imageIndex;return t&&t[n]&&t[n].isImage?a.a.createElement("div",{className:"fv-fits-image-info"},this.renderLayerNavigation(),this.renderImageMetadata()):null}},{key:"renderImageMetadata",value:function(){var e=this.state,t=e.meta,n=e.imageIndex,r=e.metaVisible;if(!t||!t[n]||!r)return null;var o=t[n],i=o.extra,s=o.name,f=o.minimum,l=o.maximum,c=o.width,u=o.height,p=i&&i.studyDate&&""!==i.studyDate,d=Math.round(l-f,2),h=Math.round(f+d/2,2),g=s||"Untitled",v=p?a.a.createElement("p",null,this.parseDate(i.studyDate)):null;return a.a.createElement("div",{className:"fv-fits-image-meta"},a.a.createElement("p",null,g),v,this.renderManufacturer(),a.a.createElement("p",{className:"fv-fits-meta-separator"}),a.a.createElement("p",null,"WL: ",h," / WW: ",d),this.renderThicknessLocation(),a.a.createElement("p",null,"Image size: ",c," x ",u))}},{key:"renderThicknessLocation",value:function(){var e=this.state,t=e.meta,n=e.imageIndex;if(!t[n].extra)return null;var r=t[n].extra,o=r.sliceThickness,i=r.sliceLocation,s=o?"Thick: ".concat(o):"",f=i?"Loc: ".concat(i):"";return a.a.createElement("p",null,s," ",f)}},{key:"renderManufacturer",value:function(){var e=this.state,t=e.meta,n=e.imageIndex;if(!t[n].extra)return null;var r=t[n].extra,o=r.manufacturer,i=r.manufacturerModel,s=[];return o&&s.push(o),i&&s.push(i),0===s.length?null:a.a.createElement("p",{className:"fv-fits-meta-manufacturer"},"Device model: ",s.join(" - "))}},{key:"renderLayerNavigation",value:function(){var e=this.state,t=e.meta,n=e.prevDisabled,r=e.nextDisabled,o=e.imageIndex,i=e.layerIndex;if(!t)return null;var s=t[o].layerCount,f=["fv-fits-layer-nav-button","prev",{disabled:n}],l=["fv-fits-layer-nav-button","next",{disabled:r}],c=this.onPrevLayer,u=this.onNextLayer;return a.a.createElement("div",{className:"fv-fits-layer-navigation"},a.a.createElement(le.a,{className:S()(f),disabled:n,onClick:c}),a.a.createElement("span",{className:"fv-fits-layer-index"},i+1,"/",s),a.a.createElement(le.a,{className:S()(l),disabled:r,onClick:u}),this.renderMetadataButton())}},{key:"renderMetadataButton",value:function(){var e=this.state,t=e.meta,n=e.imageIndex,r=e.metaVisible;if(!t||!t[n])return null;var o=["fv-fits-layer-nav-button","meta",{close:r}];return a.a.createElement(le.a,{className:S()(o),onClick:this.onToggleMeta})}}])&&mr(n.prototype,r),o&&mr(n,o),t}(N);Sr(Er,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number,showControls:o.a.bool});var _r={archive:re,audio:Ot,dataset:kn,document:It,document_canvas:an,document_failsafe:an,dicom:Er,fits:Er,graph:vr,image:Q,jupyter:fr,kml:Xn,molecule:At,notPreviewable:H,presentation:It,txt:nr,video:Ke,viewer3d:nt};function jr(e){return _r[e]?_r[e]:_r.notPreviewable}function Pr(e){return"notPreviewable"!==e&&!!_r[e]}function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewerType,n=void 0===t?"notPreviewable":t,r=e.virusScanInfo,o=jr(n);return r&&r.virus_found&&(o=jr("notPreviewable")),o.getPreview||(o=jr()),o.getPreview?o.getPreview(e):N.getPreview(e)}var Ar=n(375);function Nr(e){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t){return!t||"object"!==Nr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fr(e,t){return(Fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ir=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Mr(this,(e=Rr(t)).call.apply(e,[this].concat(o)))).state=n.getFluxState(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fr(e,t)}(t,e),n=t,(r=[{key:"watchStores",value:function(){return["DisplayModel"]}},{key:"getStateFromFlux",value:function(e){return Tr(e,1)[0].getState()}}])&&Dr(n.prototype,r),o&&Dr(n,o),t}(l.a);function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ir,"propTypes",{flux:o.a.object});var Ur=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Hr(this,(e=Br(t)).call.apply(e,[this].concat(o)))).state=Object.assign(n.state,{menuOpened:!1}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.currentFrame,n=void 0===t?0:t,r=e.totalFrames,o=void 0===r?0:r;if(!this.state.loaded||!this.state.comments||!this.state.comments.length)return null;var i=["fs-molecule-controls-wrap","fs-mode-".concat(this.props.mode)],s=this.state.comments[n];return a.a.createElement("div",{className:S()(i)},a.a.createElement(c.a,{onBlur:this.onToggleMenu.bind(this,!1),onFocus:this.onToggleMenu.bind(this,!this.state.menuOpened)},a.a.createElement("div",{className:"fs-comment-list"},a.a.createElement("div",{className:"fs-trigger"},a.a.createElement("div",{className:"fs-current-comment",title:s},s)),a.a.createElement("div",{className:"fs-menu-wrapper"},this.renderCommentsMenu()))),a.a.createElement(Ar.a,{currentPage:n,totalPages:o,onGotoPage:this.handle("onFrameChange")}))}},{key:"renderCommentsMenu",value:function(){return this.state.menuOpened?a.a.createElement("div",{className:"fs-comments-menu"},a.a.createElement("div",{className:"fs-items-wrap"},this.state.comments.map(this.renderComment,this))):null}},{key:"renderComment",value:function(e,t){var n=["fs-drop-item",{"fs-active":this.state.currentFrame===t}];return a.a.createElement("div",{key:t,className:S()(n),title:e,onClick:this.onFrameChange.bind(this,t)},e)}},{key:"onToggleMenu",value:function(e){this.setState({menuOpened:e})}},{key:"onFrameChange",value:function(e){this.props.flux.getActions("DisplayModel").setCommand({command:"changeFrame",data:{currentFrame:e,fromAnimation:!1,isAnimating:!1}}),this.setState({menuOpened:!1})}}])&&Lr(n.prototype,r),o&&Lr(n,o),t}(Ir);function Vr(e){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gr(e,t){return!t||"object"!==Vr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qr(e,t){return(Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ur.defaultProps={mode:"desktop"},Ur.propTypes={flux:o.a.object.isRequired,mode:o.a.oneOf(["desktop","mobile"])};var Zr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gr(this,Kr(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qr(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=["fs-controls-group","fs-zoom",this.props.extraClass,this.props.className];return a.a.createElement("div",{className:S()(e)},this.renderZoomIn(),this.renderZoomOut(),this.renderZoomReset())}},{key:"renderZoomIn",value:function(){var e=this.props,t=e.zoomInDisabled,n=e.onZoomIn;return n?a.a.createElement(le.a,{className:"fv-controls-color fs-zoom-button fs-zoom-in",disabled:t,title:"zoom in",onClick:n}):null}},{key:"renderZoomOut",value:function(){var e=this.props,t=e.zoomOutDisabled,n=e.onZoomOut;return n?a.a.createElement(le.a,{className:"fv-controls-color fs-zoom-button fs-zoom-out",disabled:t,title:"zoom out",onClick:n}):null}},{key:"renderZoomReset",value:function(){var e=this.props,t=e.zoomResetDisabled,n=e.onZoomReset;return n?a.a.createElement(le.a,{className:"fv-controls-color fs-zoom-button fs-zoom-fit",disabled:t,title:"fit to page",onClick:n}):null}}])&&qr(n.prototype,r),o&&qr(n,o),t}(i.Component);function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function to(e,t){return(to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Xr(Zr,"propTypes",{className:o.a.string,extraClass:o.a.string,zoomInDisabled:o.a.bool,zoomOutDisabled:o.a.bool,zoomResetDisabled:o.a.bool,onZoomIn:o.a.func,onZoomOut:o.a.func,onZoomReset:o.a.func}),Xr(Zr,"defaultProps",{className:void 0,extraClass:void 0,zoomInDisabled:void 0,zoomOutDisabled:void 0,zoomResetDisabled:void 0,onZoomIn:void 0,onZoomOut:void 0,onZoomReset:void 0});var ro=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=$r(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==Yr(o)&&"function"!=typeof o?eo(r):o,no(eo(n),"onToggleMenu",(function(){return n.setState({layerMenuOpen:!n.state.layerMenuOpen})})),no(eo(n),"onPrevImage",(function(){return n.actions.setCommand({command:"prevImage"})})),no(eo(n),"onNextImage",(function(){return n.actions.setCommand({command:"nextImage"})})),no(eo(n),"onSelectImage",(function(e){return function(){var t=n.state.imageIndex;e!==t&&(n.actions.setCommand({command:"selectImage",data:{imageIndex:e}}),n.onToggleMenu())}})),no(eo(n),"onZoomIn",(function(){return n.actions.setCommand({command:"zoomIn"})})),no(eo(n),"onZoomOut",(function(){return n.actions.setCommand({command:"zoomOut"})})),no(eo(n),"onToggleHisto",(function(){return n.actions.setCommand({command:"toggleHisto"})})),n.actions=n.props.flux.getActions("DisplayModel"),n.state.layerMenuOpen=!1,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&to(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){if(!this.state.loaded)return null;var e=["fv-fits-controls",this.props.mode];return a.a.createElement("div",{className:S()(e)},this.renderLayersMenu(),this.renderImageNavigation(),a.a.createElement(Zr,{onZoomIn:this.onZoomIn,onZoomOut:this.onZoomOut}),this.renderHistoButton())}},{key:"renderLayersMenu",value:function(){var e=this.state,t=e.meta[e.imageIndex].name||"Untitled";return a.a.createElement("div",{className:"fv-fits-layers-menu"},a.a.createElement(le.a,{className:"fv-fits-button fv-fits-layer-name",onClick:this.onToggleMenu},a.a.createElement("span",null,t)),a.a.createElement("div",{className:"fv-menu-wrapper fv-fits-menu-wrapper"},this.renderMenu()))}},{key:"renderMenu",value:function(){var e=this.state,t=e.meta;if(!e.layerMenuOpen)return null;var n=Object.keys(t).map(this.renderName,this);return a.a.createElement("div",{className:"fv-comments-menu"},a.a.createElement("div",{className:"fv-items-wrap"},n))}},{key:"renderName",value:function(e,t){var n=this.state,r=n.imageIndex,o=n.meta,i=parseInt(e,10),s=["fv-drop-item",{"fv-active":r===i}],f=o[t].name,l=f||"Untitled",c=o[t].isImage&&o[t].layerCount?"(".concat(o[t].layerCount,")"):"";return a.a.createElement("div",{key:t,className:S()(s),title:f,onClick:this.onSelectImage(i)},a.a.createElement("span",{className:"layer-title"},l),a.a.createElement("span",{className:"layer-count"},c))}},{key:"renderImageNavigation",value:function(){var e=this.state,t=e.imageIndex,n=e.images,r=0===t,o=t===n-1,i=S()("fv-fits-button fv-prev-layer-button",{disabled:r}),s=S()("fv-fits-button fv-next-layer-button",{disabled:o});return a.a.createElement("span",{className:"fv-fits-image-navigation-control"},a.a.createElement("strong",{className:"fv-fits-layer-index"},t+1," / ",n),a.a.createElement(le.a,{className:i,disabled:r,onClick:this.onPrevImage}),a.a.createElement(le.a,{className:s,disabled:o,onClick:this.onNextImage}))}},{key:"renderHistoButton",value:function(){var e=S()("fv-controls-color fv-fits-button fv-histo-button",{disabled:this.state.hideHisto});return a.a.createElement(le.a,{className:e,onClick:this.onToggleHisto})}}])&&Jr(n.prototype,r),o&&Jr(n,o),t}(Ir);no(ro,"propTypes",{flux:o.a.object.isRequired});var oo={molecule:Ur,dicom:ro,fits:ro},io=n(362);function ao(e){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function so(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fo(e,t){return!t||"object"!==ao(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function co(e,t){return(co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uo=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=fo(this,lo(t).call(this)))._id=Object(fe.k)(),e._state={loaded:!1,loading:!1,error:null},e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&co(e,t)}(t,e),n=t,(r=[{key:"handleCommand",value:function(e,t){if(e&&"string"==typeof e){var n=e[0].toUpperCase()+e.slice(1),r="on".concat(n,"Handler");this[r]&&"function"==typeof this[r]?this[r](t):console.warn("No such command [".concat(n,"]"))}}},{key:"reset",value:function(){}},{key:"state",get:function(){return Object.assign({},this._state)}}])&&so(n.prototype,r),o&&so(n,o),t}(fe.a);function po(e){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function go(e,t){return!t||"object"!==po(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vo(e){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yo(e,t){return(yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bo=io.a.computeSize,mo=io.a.roundRatio,wo=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=go(this,vo(t).call(this))).file=e;var r=e.getPreviewKeyUrl(),o=e.previewMeta,i=o.width,a=o.height;return n.originalWidth=i,n.originalHeight=a,n.ratio=i/a,Object.assign(n._state,{width:i,height:a,url:r}),n._loader=null,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yo(e,t)}(t,e),n=t,(r=[{key:"_loadImage",value:function(e){var t=this;this._loader=new Image,this._loader.addEventListener("load",(function(){var e={},n=t._loader,r=n.width,o=n.height,i=r/o;if(mo(i)!==mo(t.ratio)){t.ratio=i,t.originalWidth=r,t.originalHeight=o;var a=t._state,s=a.width,f=a.height;e=bo({width:s,height:f,ratio:t.ratio})}Object.assign(t._state,{loaded:!0,loading:!1,error:null},e),t.emit("load")})),this._loader.addEventListener("error",(function(){Object.assign(t._state,{loaded:!0,loading:!1,error:new Error("Could not load image")}),t.emit("error")})),this._loader.src=e}},{key:"onChangeHandler",value:function(e){var t=e.maxWidth,n=e.maxHeight,r=e.lockAxis,o=bo({width:t,height:n,ratio:this.ratio,lockAxis:r});Object.assign(this._state,o),this.emitAsync("change")}},{key:"onLoadHandler",value:function(){this._state.loaded||this._state.loading||(this._loadImage(this._state.url),Object.assign(this._state,{loading:!0}),this.emitAsync("change"))}}])&&ho(n.prototype,r),o&&ho(n,o),t}(uo),xo=n(355);function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function So(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eo(e,t,n){return t&&So(e.prototype,t),n&&So(e,n),e}function _o(e,t){return!t||"object"!==Oo(t)&&"function"!=typeof t?jo(e):t}function jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e,t,n){return(Po="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Co(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Co(e){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ao(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&No(e,t)}function No(e,t){return(No=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var To=function(e){function t(){return ko(this,t),_o(this,Co(t).call(this,{tree:void 0,loaded:!1}))}return Ao(t,e),Eo(t,[{key:"update",value:function(e){Po(Co(t.prototype),"update",this).call(this,{loaded:!0,tree:e})}},{key:"reset",value:function(){this.loaded=!1,this.tree=void 0}}]),t}(xo.a),Do=function(e){function t(e){var n;return ko(this,t),n=_o(this,Co(t).call(this)),Object.assign(n._state,{archiveContent:[],expanded:{},tree:void 0}),n.file=e,n._metadataUrl=e.getPreviewKeyUrl(),n._loader=new fe.d(new To),n._loader.on("change",n._onChangeHandler.bind(jo(n))),n}return Ao(t,e),Eo(t,[{key:"onLoadHandler",value:function(){if(!this._loader.loaded&&!this._loader.loading){this._loader.loadData(this._metadataUrl);var e=this._loader,t=e.loaded,n=e.loading,r=e.error;Object.assign(this._state,{loading:n,loaded:t,error:r}),this.emitAsync("change")}}},{key:"_onChangeHandler",value:function(){var e=this._loader,t=e.loading,n=e.loaded,r=e.error,o=e.model,i={loading:t,loaded:n,error:r},a={};if(r)return Object.assign(this._state,i,{tree:a}),void this.emit("error");var s=o?o.tree:void 0;s&&(a=this._prepareDirs(s)),Object.assign(this._state,i,{tree:a}),this.emit("change")}},{key:"_prepareDirs",value:function(e){var t=this,n=e.dirs,r=void 0===n?[]:n,o=e.files,i=void 0===o?[]:o,a=e.path.split("/"),s=i.map((function(e){var t=e.path.split("/");return{name:t.pop(),depth:t.length}})),f=r.map((function(e){return t._prepareDirs(e)}));return{key:Object(fe.k)(),name:a.pop(),depth:a.length,files:s,dirs:f}}}]),t}(uo),Mo=n(361);function Ro(e){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fo(e,t){return!t||"object"!==Ro(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zo(e,t){return(zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lo=new Mo.a({credentials:!1,followLocation:!0}),Ho=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Fo(this,Io(t).call(this))).file=e;var r=e.getPreviewKeyUrl();Object.assign(n._state,{buffered:0,buffering:!1,crossOrigin:void 0,currentTime:0,duration:0,error:!1,fileId:e.id,hasEnded:!1,loading:!0,playCount:0,statsSent:!1,url:r}),n.emitAsync("change");var o=Lo.get({headers:{Range:"bytes=0-0"},url:n._state.url});return o.then((function(){Object.assign(n._state,{crossOrigin:"anonymous"}),n.emitAsync("change")})),o.catch((function(){Object.assign(n._state,{crossOrigin:"use-credentials"}),n.emitAsync("change")})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zo(e,t)}(t,e),t}(uo);function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t){return!t||"object"!==Bo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vo(e,t){return(Vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qo=new Mo.a({credentials:!1,followLocation:!0}),Go=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Wo(this,Uo(t).call(this))).file=e;var r=e.previewMeta,o=r.videoKey,i=r.previewKey,a=r.originalWidth,s=r.originalHeight,f=r.chaptersKey;Object.assign(n._state,{buffered:0,buffering:!1,chaptersUrl:f?e.getPreviewKeyUrl(f):void 0,crossOrigin:void 0,cues:[],currentTime:0,duration:0,error:!1,fileId:e.id,hasEnded:!1,isFullscreen:!1,loading:!0,originalHeight:s,originalWidth:a,playCount:0,previewUrl:e.getPreviewKeyUrl(i),statsSent:!1,url:e.getPreviewKeyUrl(o)}),n.emitAsync("change");var l=qo.get({headers:{Range:"bytes=0-0"},url:n._state.url});return l.then((function(){Object.assign(n._state,{crossOrigin:"anonymous"}),n.emitAsync("change")})),l.catch((function(){Object.assign(n._state,{crossOrigin:"use-credentials"}),n.emitAsync("change")})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vo(e,t)}(t,e),t}(uo),Ko=function(e){n.e(9).then(function(t){var r=n(1215).default;e&&setTimeout(e(r),0)}.bind(null,n)).catch(n.oe)},Qo=function(e){n.e(12).then(function(t){var r=n(1216).default;e&&setTimeout(e({Viewer3D:r}),0)}.bind(null,n)).catch(n.oe)},Xo=function(e){n.e(10).then(function(t){var r=n(1217).default;e&&setTimeout(e({GraphViewer:r}),0)}.bind(null,n)).catch(n.oe)},Zo=function(e){n.e(13).then(function(t){var r=n(1218).default;e&&setTimeout(e({MoleculeViewer:r}),0)}.bind(null,n)).catch(n.oe)},Yo=function(e,t,n){var r=new Mo.a({credentials:!1,bodyType:"arraybuffer",followLocation:!0});return new Promise((function(o,i){r.get({headers:{Range:"bytes=".concat(t,"-").concat(n)},url:e,binary:!0}).then((function(e){return o(new Float32Array(e.body))}),(function(e){return i(e.body)}))}))};function Jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $o(e){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ei(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ni(e,t,n){return t&&ti(e.prototype,t),n&&ti(e,n),e}function ri(e,t){return!t||"object"!==$o(t)&&"function"!=typeof t?oi(e):t}function oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ii(e,t,n){return(ii="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ai(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function si(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fi(e,t)}function fi(e,t){return(fi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var li=function(e){function t(){return ei(this,t),ri(this,ai(t).call(this,{meta:void 0,loaded:!1}))}return si(t,e),ni(t,[{key:"update",value:function(e){ii(ai(t.prototype),"update",this).call(this,{loaded:!0,meta:e})}},{key:"reset",value:function(){this.loaded=!1,this.meta=void 0}}]),t}(xo.a),ci=function(e){function t(){return ei(this,t),ri(this,ai(t).call(this,{bin:void 0,loaded:!1}))}return si(t,e),ni(t,[{key:"update",value:function(e){ii(ai(t.prototype),"update",this).call(this,{loaded:!0,bin:new Uint8Array(e)})}},{key:"reset",value:function(){this.loaded=!1,this.bin=void 0}}]),t}(xo.a),ui=function(e){function t(e){var n;return ei(this,t),Jo(oi(n=ri(this,ai(t).call(this))),"_onChangeMetaHandler",(function(){if(n._metaLoader.error||!n.Viewer3D)return Object.assign(n._state,n._getLoadingStatus()),void n.emit("error");Object.assign(n._state,n._getLoadingStatus(),{meta:n._metaLoader.model.meta,Viewer3D:n.Viewer3D}),n.emit("change")})),Jo(oi(n),"_onChangeBinHandler",(function(){if(n._binLoader.error||!n.Viewer3D)return Object.assign(n._state,n._getLoadingStatus()),void n.emit("error");Object.assign(n._state,n._getLoadingStatus(),{bin:n._binLoader.model.bin,Viewer3D:n.Viewer3D}),n.emit("change")})),Object.assign(n._state,{bin:void 0,meta:void 0}),n.file=e,n._metadataUrl=e.getPreviewKeyUrl(),n._binUrl=e.getPreviewKeyUrl(e.previewMeta.binaryKey),n._metaLoader=new fe.d(new li),n._metaLoader.on("change",n._onChangeMetaHandler),n._binLoader=new fe.d(new ci),n._binLoader.on("change",n._onChangeBinHandler),n.Viewer3D=null,n}return si(t,e),ni(t,[{key:"onLoadHandler",value:function(){var e=this;this._metaLoader.loaded||this._metaLoader.loading||this._binLoader.loaded||this._binLoader.loading||(Object.assign(this._state,{loading:!0}),this.emitAsync("change"),Qo((function(t){e.Viewer3D=e.Viewer3D||t.Viewer3D,e._metaLoader.loadData(e._metadataUrl),e._binLoader.loadData(e._binUrl,!0),Object.assign(e._state,e._getLoadingStatus()),e.emitAsync("change")})))}},{key:"_getLoadingStatus",value:function(){return{loading:this._metaLoader.loading||this._binLoader.loading,loaded:this._metaLoader.loaded&&this._binLoader.loaded,error:this._metaLoader.error||this._binLoader.error}}}]),t}(uo),pi=n(374);function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vi(e){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yi(e,t){return(yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bi=io.a.AXES,mi=1.4,wi=function(e){function t(e){var n,r=e.ratio,o=e.sizes,i=e.images,a=e.index;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=gi(this,vi(t).call(this))).index=a,n.sizes=o,n.ratio=r||mi,n.currentIndex=0,Object.assign(n._state,{width:o[n.currentIndex],height:o[n.currentIndex]/n.ratio,url:void 0}),n.images=i.map((function(e,t){var r=e.key,i=e.baseUrl,a=new pi.a({previewMeta:{width:o[t],height:o[t]/n.ratio,baseUrl:i,key:r}});return new wo(a)})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yi(e,t)}(t,e),n=t,(r=[{key:"_updateState",value:function(e,t){var n=e.state,r=n.width,o=n.height,i=n.url;this.ratio=e.ratio,this.currentIndex=t,Object.assign(this._state,{width:r,height:o,url:i})}},{key:"_imageLoad",value:function(e,t,n){var r=this,o=n.maxWidth;e.once("load",(function(){r._updateState(e,t),Object.assign(r._state,{loaded:r.images.some((function(e){return e.state.loaded})),loading:!1}),r._imageChange(e,t,{maxWidth:o}),r.emit("load")})),e.once("error",(function(){Object.assign(r._state,{loaded:r.images.some((function(e){return e.state.loaded})),error:r.images.every((function(e){return!!e.state.error}))}),r._state.error?r.emit("error"):r._findOtherSizes({maxWidth:o})})),Object.assign(this._state,{loading:!this.images.some((function(e){var t=e.state;return t.loaded&&!t.error}))}),e.handleCommand("load"),this.emitAsync("change")}},{key:"_imageChange",value:function(e,t,n){var r=this,o=n.maxWidth;e.once("change",(function(){r._updateState(e,t),r.emit("change")})),e.handleCommand("change",{maxWidth:o,lockAxis:bi.X})}},{key:"onLoadHandler",value:function(e){var t=e.maxWidth,n=e.maxHeight,r=t;r||n||(r=this._state.width),n&&!r&&(r=this.ratio*n);var o=this._getBestSizeIndex(r),i=this.images[o];i.state.loaded||i.state.loading?i.state.error?this._findOtherSizes({maxWidth:r}):this._imageChange(i,o,{maxWidth:r,maxHeight:n}):this._imageLoad(i,o,{maxWidth:r,maxHeight:n})}},{key:"onChangeHandler",value:function(){this.onLoadHandler.apply(this,arguments)}},{key:"_findOtherSizes",value:function(e){var t=e.maxWidth,n=[],r=[];if(this.images.forEach((function(e,t){var o=e.state;o.loaded&&!o.error&&n.push(t),o.loading||o.loaded||r.push(t)})),r.length){var o=Math.max.apply(Math,r),i=this.images[o];this._imageLoad(i,o,{maxWidth:t})}else if(n.length){var a=Math.max.apply(Math,n),s=this.images[a];this._imageChange(s,a,{maxWidth:t})}}},{key:"_getBestSizeIndex",value:function(e){for(var t=this.sizes,n=0,r=0,o=t.length;r<o-1&&(n=r,!(e<t[r]))&&!(e<(t[r]+t[r+1])/2.75);r+=1);return n}}])&&hi(n.prototype,r),o&&hi(n,o),t}(uo);function xi(e){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Si(e){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _i(e,t){return(_i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ji=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Si(t).call(this))||"object"!==xi(o)&&"function"!=typeof o?Ei(r):o)._handlers={load:n.emit.bind(Ei(n),"load"),change:n.emit.bind(Ei(n),"change"),error:n.emit.bind(Ei(n),"error")},n.file=e,n._state.pages=[],n._initializePages(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_i(e,t)}(t,e),n=t,(r=[{key:"_fillPageNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){var n=Object.assign({},e);return n.key=n.key.replace("{page_no}",t+1),n}))}},{key:"_attachHandlers",value:function(e){e.on("load",this._handlers.load),e.on("change",this._handlers.change),e.on("error",this._handlers.error)}},{key:"_removeHandlers",value:function(e){e.removeListener("load",this._handlers.load),e.removeListener("change",this._handlers.change),e.removeListener("error",this._handlers.error)}},{key:"_initializePages",value:function(){var e=this.file.previewMeta,t=e.pages,n=void 0===t?0:t,r=e.averageRatio,o=e.keyPattern,i=e.baseUrl,a=[];if(Array.isArray(e.sizes)&&(a=Oi(e.sizes)),!n||!a.length||!o)return this._state.error=new Error("Corrupted file's preview metatdata"),void this.emitAsync("error");a.sort((function(e,t){return e-t}));for(var s=a.map((function(e){return{key:o.replace("{width}",e),baseUrl:i}})),f=0;f<n;f+=1){var l=this._fillPageNumber(s,f),c=new wi({ratio:r,sizes:a,index:f,images:l});this._attachHandlers(c),this._state.pages.push(c)}}},{key:"handleCommand",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(n.index)||(n.index=[n.index]),n.index.forEach((function(r){var o=Object.assign({},n,{index:r});e._state.pages[r]&&e._state.pages[r].handleCommand(t,o)}))}},{key:"reset",value:function(){this._state.pages.forEach(this._removeHandlers,this)}}])&&ki(n.prototype,r),o&&ki(n,o),t}(uo),Pi=function(e){Promise.all([n.e(14),n.e(11)]).then(function(t){n(1220);var r=n(1219);r.PDFJS.workerSrc=Mn("/pdfjs/pdf_worker.js"),r.PDFJS.disableAutoFetch=!0,e&&setTimeout((function(){return e(r)}),0)}.bind(null,n)).catch(n.oe)};function Ci(e){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(n,!0).forEach((function(t){Fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ti(e,t,n,r,o,i,a){try{var s=e[i](a),f=s.value}catch(e){return void n(e)}s.done?t(f):Promise.resolve(f).then(r,o)}function Di(e){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ri(e,t){return(Ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Li(e,t,n){return t&&zi(e.prototype,t),n&&zi(e,n),e}var Hi=Cn.a.parse("https://figshare.com").hostname,Bi=null,Wi=function(){function e(t){Ii(this,e),this.page=t,this.setScale(1),this.drawing=!1}return Li(e,[{key:"scaleToFit",value:function(e){var t=e/this.page.getViewport(96/72).width;this.setScale(t)}},{key:"setScale",value:function(e){this.scale=e,this.viewport=this.page.getViewport(e*(96/72)),this.width=Math.floor(this.viewport.width),this.height=Math.floor(this.viewport.height),this.canvasWidth=Math.floor(this.viewport.width),this.canvasHeight=Math.floor(this.viewport.height)}},{key:"draw",value:function(e,t){var n=this;this.stop();var r=e.getContext("2d"),o=this.viewport.clone({scale:this.scale*(96/72)});return this.textNode=t,this.renderer=this.page.render({canvasContext:r,viewport:o}),this.canvasWidth=Math.floor(this.width),this.canvasHeight=Math.floor(this.height),Pi((function(e){n.page.getTextContent().then((function(t){n.textRender=e.renderTextLayer({textContent:t,container:n.textNode,viewport:n.viewport.clone({scale:n.scale*(96/72)}),textDivs:[]})}),(function(){}))})),this.renderer}},{key:"stop",value:function(){this.renderer&&this.renderer.cancel()}}]),e}(),Ui=function(e){function t(e){var n,r,o;return Ii(this,t),r=this,o=Di(t).call(this),n=!o||"object"!==Ci(o)&&"function"!=typeof o?Mi(r):o,Fi(Mi(n),"_loadPdfJS",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,o,i,a,s,f,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mi(n),o=r.file,i=o.getPreviewKeyUrl(),a=Cn.a.parse(i).hostname,e.prev=3,e.next=6,t.getDocument({url:i,withCredentials:a.endsWith(Hi)});case 6:return s=e.sent,e.next=9,s.getPage(1);case 9:f=e.sent,l=new Wi(f),(c=Array.from({length:s.numPages}))[0]=l,n._state.model=Ni({},n._state.model,{pages:c,pdf:s,length:s.numPages}),l.scaleToFit(n._state.maxWidth),n.calculateDefaultPageSize(),n._state.loading=!1,n.emitAsync("change"),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),n._state=Ni({},n._state,{loading:!1,error:!0}),n.emitAsync("change");case 24:case"end":return e.stop()}}),e,null,[[3,20]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ti(i,r,o,a,s,"next",e)}function s(e){Ti(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),n.file=e,n._state={model:{pdf:null,pages:[]},pageSizes:{},error:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ri(e,t)}(t,e),Li(t,[{key:"onLoadHandler",value:function(){var e=this;this._state=Ni({},this._state,{loading:!0,model:{pdf:null,pages:[]},pageSizes:{}}),this.emitAsync("change"),Pi((function(t){return e._loadPdfJS(t)}))}},{key:"onSetContainerHandler",value:function(e){var t=e.container;this._state.container=t,this.emitAsync("change")}},{key:"getScaleForWidth",value:function(e){var t=this._state.model;if(t&&t.pages&&t.pages.length)for(var n=0;n<t.pages.length;n+=1){var r=t.pages[n];if(r)return e/r.page.getViewport(96/72).width}return 1}},{key:"onLoadPagesHandler",value:function(e){var t=this,n=e.visibleNodes,r=this._state,o=r.model;if(!r.loadingPages){this._state.loadingPages=!0;var i=n.map((function(e){return e+1}));if((i=i.filter((function(e){return e>0&&e<=o.length&&!o[e]}))).length){var a=i.map((function(e){return o.pdf.getPage(e)}));Promise.all(a).then((function(e){e.map((function(e){var n=new Wi(e);n.scaleToFit(t._state.maxWidth);var r=e.pageIndex,i=n.width,a=n.height;return t._state.pageSizes[r]={height:a,width:i},o.pages[r]=n,!0})),t._state.loadingPages=!1,t.emitAsync("change")}),(function(){t._state=Ni({},t._state,{loadingPages:!1,error:!0}),t.emitAsync("change")}))}}}},{key:"calculateDefaultPageSize",value:function(){var e=this._state.model;if(e&&Array.isArray(e.pages)){var t=e.pages.find((function(e){return!!e}));if(t){var n=t.width,r=t.height,o=t.canvasWidth,i=t.canvasHeight;isNaN(n)||isNaN(r)||(this._state=Ni({},this._state,{defaultSize:{width:n,height:r,canvasWidth:o,canvasHeight:i,scale:0}}))}}}},{key:"getScrollPositionPercent",value:function(){var e=this._state.container;return e?e.scrollTop/e.scrollHeight:0}},{key:"onSetMaxWidthHandler",value:function(e){var t=this,n=e.maxWidth;this._state.resizing||(this._state.resizing=!0,this.emitAsync("change")),clearTimeout(Bi),Bi=setTimeout((function(){return t.setMaxWidth(n)}),100)}},{key:"setMaxWidth",value:function(e){var t=this;this._state.maxWidth=e,this._state.resizing=!1,this.updatePageSizes(),this.calculateDefaultPageSize();var n=this.getScrollPositionPercent();this.emitAsync("change"),setTimeout((function(){return t.updateScrollPositionAfterResize(n)}),100)}},{key:"updateScrollPositionAfterResize",value:function(e){var t=this._state.container;t&&(t.scrollTop=t.scrollHeight*e)}},{key:"updatePageSizes",value:function(){var e=this._state,t=e.model.pages,n=e.pageSizes,r=e.maxWidth;t.forEach((function(e){return e&&e.scaleToFit(r)})),Object.keys(n).forEach((function(e){var t=n[e];if(t){var o=r/t.width;t.width=Math.floor(o*t.width),t.height=Math.floor(o*t.height)}}))}}]),t}(uo);function Vi(e,t){return!t||"object"!==Qi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qi(e,t,n){return(qi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Gi(e){return(Gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ki(e,t){return(Ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yi(e,t,n){return t&&Zi(e.prototype,t),n&&Zi(e,n),e}var Ji=26,$i=36,ea=10;function ta(e){var t=Math.floor(e/Ji),n=e%Ji+ea;return n=(n=n.toString($i)).toUpperCase(),0===t?n:ta(t-1)+n}var na=function(){function e(t){if(Xi(this,e),"object"===Qi(t)){var n=t.value,r=t.rowSpan,o=void 0===r?1:r,i=t.colSpan,a=void 0===i?1:i;Object.assign(this,{value:n,rowSpan:o,colSpan:a})}else Object.assign(this,{value:t,rowSpan:1,colSpan:1})}return Yi(e,[{key:"isMerged",get:function(){return this.rowSpan+this.colSpan>2}}]),e}(),ra=function(e){function t(){var e;return Xi(this,t),(e=Vi(this,Gi(t).call(this))).rows=0,e.cols=0,e.rowsHead=[],e.colsHead=[],e.cells={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ki(e,t)}(t,e),Yi(t,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){for(var n=this._count(e.rows),r=this._count(e.cols),o=this._generateHeaders(e.rows,n,(function(e){return e+1})),i=this._generateHeaders(e.cols,r,(function(e){return ta(e)})),a={},s=0;s<r;s+=1)for(var f=0;f<n;f+=1){var l=e.data[f][s];null!==l&&(a["".concat(s,"_").concat(f)]=new na(l))}qi(Gi(t.prototype),"update",this).call(this,{rows:n,cols:r,rowsHead:o,colsHead:i,cells:a})}}},{key:"_count",value:function(e){return Array.isArray(e)?e.length:parseInt(e,10)}},{key:"_generateHeaders",value:function(e,t,n){for(var r=[],o=0;o<t;o+=1){var i=e[o];"object"!==Qi(i)&&(i={value:i}),i.value||(i.value=n(o)),r.push(new na(i))}return r}},{key:"cell",value:function(e,t){return this.cells["".concat(e,"_").concat(t)]}},{key:"row",value:function(e){for(var t=[],n=0;n<this.cols;n+=1)t.push(this.cell(n,e));return t}}]),t}(xo.a);function oa(e){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aa(e,t){return!t||"object"!==oa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sa(e){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var la=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=aa(this,sa(t).call(this))).file=e,n._state.sheets=[],n._state.currentSheet=0,n._initializeSheets(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(t,e),n=t,(r=[{key:"_initializeSheets",value:function(){var e=this,t=this.file.previewMeta.sheets;if(!t)return this._state.error=new Error("Corrupted file's preview metatdata"),void this.emitAsync("error");this._state.sheets=t.map((function(t,n){var r=t.key,o=t.sheetName,i=new ra,a=new fe.d(i);return a.on("change",(function(){return e._onSheetChange(n)})),Object.assign(a,{key:e.file.getPreviewKeyUrl(r),name:o,id:n}),a}))}},{key:"onLoadHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.index,n=void 0===t?0:t,r=this._state.sheets;if(!r[n].loaded&&!r[n].loading){var o=r[n];o.loadData(o.key)}this._state.currentSheet=n,this.emitAsync("change")}},{key:"_onSheetChange",value:function(){this.emit("change")}}])&&ia(n.prototype,r),o&&ia(n,o),t}(uo);function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function da(e,t,n){return t&&pa(e.prototype,t),n&&pa(e,n),e}function ha(e,t){return!t||"object"!==ca(t)&&"function"!=typeof t?ga(e):t}function ga(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function va(e,t,n){return(va="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ya(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ba(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ma(e,t)}function ma(e,t){return(ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wa=[.25,.5,1,2,4],xa=function(e){function t(){return ua(this,t),ha(this,ya(t).call(this,{molecule:void 0,loaded:!1}))}return ba(t,e),da(t,[{key:"update",value:function(e){va(ya(t.prototype),"update",this).call(this,{loaded:!0,molecule:e})}},{key:"reset",value:function(){this.loaded=!1,this.molecule=void 0}}]),t}(xo.a),Oa=function(e){function t(e){var n;return ua(this,t),n=ha(this,ya(t).call(this)),Object.assign(n._state,{molecule:void 0,comments:[]}),n.file=e,n._metadataUrl=e.getPreviewKeyUrl(),n._loader=new fe.d(new xa),n._loader.on("change",n._onChangeHandler.bind(ga(n))),n.Molecule=null,n}return ba(t,e),da(t,[{key:"onLoadHandler",value:function(){var e=this;this._loader.loaded||this._loader.loading||(Object.assign(this._state,{loading:!0}),this.emitAsync("change"),Zo((function(t){e.Molecule=e.Molecule||t.MoleculeViewer,e._loader.loadData(e._metadataUrl);var n=e._loader,r=n.loaded,o=n.loading,i=n.error;Object.assign(e._state,{loading:o,loaded:r,error:i}),e.emitAsync("change")})))}},{key:"_onChangeHandler",value:function(){var e=this._loader,t=e.loading,n=e.loaded,r=e.error,o=e.model,i={loading:t,loaded:n,error:r};if(r||!this.Molecule)return Object.assign(this._state,i),void this.emit("error");var a=o.molecule,s=a.map((function(e,t){return e.comment||"Model ".concat(t+1)}));Object.assign(this._state,i,{molecule:a,totalFrames:a.length,comments:s,currentFrame:0,currentFPS:wa[2],canIncreaseFPS:3<wa.length,canDecreaseFPS:!0,isDefaultFPS:!0,MoleculeViewer:this.Molecule}),this.emit("change")}},{key:"onIncreaseFPSHandler",value:function(){this._changeFPS(1),this.emitAsync("change")}},{key:"onDecreaseFPSHandler",value:function(){this._changeFPS(-1),this.emitAsync("change")}},{key:"_changeFPS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=wa.indexOf(this._state.currentFPS);-1===t&&(t=2);var n=t+e;wa[n]||(n=t),Object.assign(this._state,{currentFPS:wa[n],isDefaultFPS:2===n,canIncreaseFPS:n+1<wa.length,canDecreaseFPS:n-1>=0})}},{key:"onAnimationChangeHandler",value:function(e){var t=e.isAnimating;Object.assign(this._state,{isAnimating:t}),this.emitAsync("change")}},{key:"onChangeFrameHandler",value:function(e){var t=e.currentFrame,n=e.fromAnimation,r=e.isAnimating;Object.assign(this._state,{currentFrame:t,fromAnimation:n,isAnimating:r}),this.emitAsync("change")}}]),t}(uo);function ka(e){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(e,t,n){return t&&Ea(e.prototype,t),n&&Ea(e,n),e}function ja(e,t){return!t||"object"!==ka(t)&&"function"!=typeof t?Pa(e):t}function Pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ca(e,t,n){return(Ca="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Aa(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Aa(e){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ta(e,t)}function Ta(e,t){return(Ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Da=function(e){function t(){var e;return Sa(this,t),e=ja(this,Aa(t).call(this)),Object.assign(Pa(e),{loaded:!1,kmlData:void 0}),e}return Na(t,e),_a(t,[{key:"update",value:function(e){if(e){var n=zn.loadKML(e);Ca(Aa(t.prototype),"update",this).call(this,{loaded:!0,kmlLayer:n})}}}]),t}(xo.a),Ma=function(e){function t(e){var n;return Sa(this,t),(n=ja(this,Aa(t).call(this))).file=e,n._metadataUrl=e.getPreviewKeyUrl(),n._loader=new fe.d(new Da),n._loader.on("change",n._onChangeHandler.bind(Pa(n))),n}return Na(t,e),_a(t,[{key:"onLoadHandler",value:function(){if(!this._loader.loaded&&!this._loader.loading){this._loader.loadData(this._metadataUrl);var e=this._loader,t=e.loaded,n=e.loading,r=e.error;Object.assign(this._state,{loading:n,loaded:t,error:r}),this.emitAsync("change")}}},{key:"_onChangeHandler",value:function(){var e=this._loader,t=e.loading,n=e.loaded,r=e.error,o=e.model,i={loading:t,loaded:n,error:r};if(r)return Object.assign(this._state,i),void this.emit("error");var a=o.kmlLayer;Object.assign(this._state,i,{kmlLayer:a}),this.emit("change")}}]),t}(uo),Ra=n(407),Fa=n.n(Ra);function Ia(e){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function La(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t,n){return t&&La(e.prototype,t),n&&La(e,n),e}function Ba(e,t){return!t||"object"!==Ia(t)&&"function"!=typeof t?Wa(e):t}function Wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ua(e,t,n){return(Ua="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Va(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ga(e,t)}function Ga(e,t){return(Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ka=function(e){function t(){return za(this,t),Ba(this,Va(t).call(this,{content:void 0,loaded:!1}))}return qa(t,e),Ha(t,[{key:"update",value:function(e){var n=void 0;Array.isArray(e)&&(n=e.join("\n"),n=Fa.a.highlightAuto(n).value);Ua(Va(t.prototype),"update",this).call(this,{content:n,loaded:!0})}},{key:"reset",value:function(){this.loaded=!1,this.content=void 0}}]),t}(xo.a),Qa=function(e){function t(e){var n;za(this,t),(n=Ba(this,Va(t).call(this))).file=e;var r=n.file.previewMeta,o=new fe.b(r.bytes);return Object.assign(n._state,{downloadLink:e.downloadLink,name:e.name,previewSize:o.size,hasStrippedBytes:r.bytes<n.file.size,content:void 0,minZoom:1,zoomSteps:2,maxZoom:3,currentZoom:1}),n._metadataUrl=e.getPreviewKeyUrl(),n._loader=new fe.d(new Ka),n._loader.on("change",n._onChangeHandler.bind(Wa(n))),n}return qa(t,e),Ha(t,[{key:"onLoadHandler",value:function(){var e=this._loader;e.loaded||e.loading||(e.loadData(this._metadataUrl),Object.assign(this._state,{loading:e.loading,loaded:e.loaded,error:e.error}),this.emitAsync("change"))}},{key:"onZoomHandler",value:function(e){var t=e.currentZoom;Object.assign(this._state,{currentZoom:t}),this.emitAsync("change")}},{key:"_onChangeHandler",value:function(){var e=this._loader,t={loading:e.loading,loaded:e.loaded,error:e.error,content:void 0};e.model&&e.model.content&&(t.content=e.model.content),Object.assign(this._state,t),this.emitAsync("change")}}]),t}(uo);function Xa(e){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Za(e,t){return!t||"object"!==Xa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ya(e){return(Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ja(e,t){return(Ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $a=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Za(this,Ya(t).call(this))).file=e;var r=n.file.previewMeta.key;return n._state.url=e.getPreviewKeyUrl(r),n.emit("change"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ja(e,t)}(t,e),t}(uo);function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ts(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rs(e,t,n){return t&&ns(e.prototype,t),n&&ns(e,n),e}function os(e,t){return!t||"object"!==es(t)&&"function"!=typeof t?is(e):t}function is(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function as(e,t,n){return(as="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ss(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ls(e,t)}function ls(e,t){return(ls=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cs=function(e){function t(){return ts(this,t),os(this,ss(t).call(this,{vertices:void 0,loaded:!1}))}return fs(t,e),rs(t,[{key:"update",value:function(e){as(ss(t.prototype),"update",this).call(this,{loaded:!0,vertices:e})}},{key:"reset",value:function(){this.loaded=!1,this.vertices=void 0}}]),t}(xo.a),us=function(e){function t(e){var n;return ts(this,t),n=os(this,ss(t).call(this)),Object.assign(n._state,{vertices:void 0}),n.file=e,n._metadataUrl=e.getPreviewKeyUrl(),n._loader=new fe.d(new cs),n._loader.on("change",n._onChangeHandler.bind(is(n))),n.GraphViewer=null,n}return fs(t,e),rs(t,[{key:"onLoadHandler",value:function(){var e=this;this._loader.loaded||this._loader.loading||(Object.assign(this._state,{loading:!0}),this.emitAsync("change"),Xo((function(t){e.GraphViewer=e.GraphViewer||t.GraphViewer,e._loader.loadData(e._metadataUrl),Object.assign(e._state,{loading:e._loader.loading,loaded:e._loader.loaded,error:e._loader.error}),e.emitAsync("change")})))}},{key:"_onChangeHandler",value:function(){var e={loading:this._loader.loading,loaded:this._loader.loaded,error:this._loader.error};if(this._loader.error||!this.GraphViewer)return Object.assign(this._state,e),void this.emit("error");Object.assign(this._state,e,{vertices:this._loader.model.vertices,GraphViewer:this.GraphViewer}),this.emit("change")}}]),t}(uo);function ps(e){return(ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hs(e){return(hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vs(e,t){return(vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ws(e,t,n){return t&&ms(e.prototype,t),n&&ms(e,n),e}var xs=function(){function e(){bs(this,e)}return ws(e,[{key:"update",value:function(e){this.loaded=!0,this.meta=e}},{key:"reset",value:function(){this.loaded=!1,this.meta=void 0}}]),e}(),Os={luminosity:0,invert:!1},ks={meta:void 0,hideHisto:!0,layerIndex:0,imageIndex:0,metaVisible:!1,filters:Object.assign({},Os),prevDisabled:!0,nextDisabled:!1},Ss=15,Es=254,_s=320,js=320,Ps=25,Cs=function(e){function t(e){var n,r,o;return bs(this,t),r=this,o=hs(t).call(this),n=!o||"object"!==ps(o)&&"function"!=typeof o?gs(r):o,ys(gs(n),"_onChangeMetaHandler",(function(){if(n._metaLoader.error)return Object.assign(n._state,n._getLoadingStatus()),void n.emit("error");var e=n._metaLoader.model.meta;Object.assign(n._state,n._getLoadingStatus(),{meta:e,images:e.length}),n.emit("change"),n.tryStart()})),ys(gs(n),"onZoomInHandler",(function(){n.viewer&&n.viewer.zoomIn()})),ys(gs(n),"onZoomOutHandler",(function(){n.viewer&&n.viewer.zoomOut()})),ys(gs(n),"onToggleHistoHandler",(function(){var e=!n._state.hideHisto;Object.assign(n._state,{hideHisto:e}),n.emitAsync("change")})),ys(gs(n),"onPrevLayerHandler",(function(){n.viewer&&(n.viewer.previousLayer(),n.updateLayer())})),ys(gs(n),"onNextLayerHandler",(function(){n.viewer&&(n.viewer.nextLayer(),n.updateLayer())})),ys(gs(n),"onNextImageHandler",(function(){n.viewer&&(n.viewer.nextImage(),n.updateImage())})),ys(gs(n),"onPrevImageHandler",(function(){n.viewer&&(n.viewer.previousImage(),n.updateImage())})),ys(gs(n),"onSelectLayerHandler",(function(e){var t=e.layerIndex;n.viewer&&(n.viewer.selectLayer(t),n.updateLayer())})),ys(gs(n),"onSelectImageHandler",(function(e){var t=e.imageIndex;n.viewer&&(n.viewer.selectImage(t),n.updateImage())})),ys(gs(n),"onToggleMetaHandler",(function(){var e=n._state.metaVisible;Object.assign(n._state,{metaVisible:!e}),n.emitAsync("change")})),ys(gs(n),"onFilterResetHandler",(function(){return n.updateFilter(Os)})),ys(gs(n),"onFilterInvertHandler",(function(){return n.updateFilter({invert:!n.state.filters.invert})})),ys(gs(n),"onFilterLightenHandler",(function(){n.updateFilter({luminosity:Math.min(n.state.filters.luminosity+Ss,Es)})})),ys(gs(n),"onFilterDarkenHandler",(function(){n.updateFilter({luminosity:Math.max(n.state.filters.luminosity-Ss,-Es)})})),ys(gs(n),"onUnloadHandler",(function(){n.viewer&&n.viewer.stop()})),ys(gs(n),"onUpdateHandler",(function(e){var t=e.newWidth,r=e.newHeight;t>0&&r>0&&(Object.assign(n._state,{maxWidth:t,maxHeight:r}),n.updateViewersSize())})),ys(gs(n),"updateFilter",(function(e){var t=n._state.filters;Object.assign(t,e),n.store.dispatch({type:"UPDATE_FILTERS",filters:t}),Object.assign(n._state.filters,t),n.emitAsync("change")})),ys(gs(n),"updateLayer",(function(){var e=n.viewer.currentImageMeta.layerCount,t=n.viewer.currentLayerIndex,r=0===t,o=t===e-1;Object.assign(n._state,{layerIndex:n.viewer.currentLayerIndex,prevDisabled:r,nextDisabled:o}),n.emitAsync("change")})),ys(gs(n),"updateImage",(function(){Object.assign(n._state,{imageIndex:n.viewer.currentImageIndex}),n.emitAsync("change")})),ys(gs(n),"updateViewersSize",(function(){var e=n._state,t=e.maxWidth,r=e.maxHeight;if(n.viewer&&n.histo){n.viewer.resize(t,r);var o=Math.min(t,r,_s)-Ps;n.histo.resize(o,o)}})),ys(gs(n),"tryStart",(function(){var e=n._state,t=e.meta,r=e.maxWidth,o=e.maxHeight,i=e.canvasContainerNode,a=e.histoContainerNode;if(!n.viewer&&i&&a&&t){n.viewer=new n.FITSViewer({byteRangeLoader:Yo,container:i,fileName:n._binUrl,height:o,width:r,store:n.store}),n.histo=new n.FITSHistogram({container:a,width:Math.min(r,_s),height:Math.min(o,js),store:n.store}),n.viewer.start(),n.histo.start(),n.updateViewersSize(),n.updateFilter(Os),n.store.init(),n.store.addView(n.viewer),n.store.addView(n.histo),n.store.dispatch({type:"LOAD_IMAGE_META",metadata:t}),n.viewerLoaded=!0;var s=n.viewer,f=s.zoom,l=s.minZoom,c=s.maxZoom;Object.assign(n._state,n._getLoadingStatus(),{zoom:f,minZoom:l,maxZoom:c}),n.emit("change")}})),Object.assign(n._state,ks),n.file=e,n._metadataUrl=e.getPreviewKeyUrl(),n._binUrl=e.getPreviewBinUrl(),n._metaLoader=new fe.d(new xs),n._metaLoader.on("change",n._onChangeMetaHandler),n.FITSViewer=null,n.viewerLoaded=!0,Ko((function(e){var t=e.FITSViewer,r=e.FITSHistogram,o=e.Store;t&&r&&o?(n.FITSViewer=t,n.FITSHistogram=r,n.store=new o,n._metaLoader.loadData(n._metadataUrl)):n.emit("error")})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vs(e,t)}(t,e),ws(t,[{key:"onLoadHandler",value:function(e){this._metaLoader.loaded||(Object.assign(this._state,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ds(n,!0).forEach((function(t){ys(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ds(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({loading:!0},e)),this.emitAsync("change"))}},{key:"_getLoadingStatus",value:function(){return{loading:this._metaLoader.loading||!this.viewerLoaded,loaded:this._metaLoader.loaded,error:this._metaLoader.error}}}]),t}(uo),As={archive:Do,audio:Ho,dataset:la,document:ji,document_canvas:Ui,document_failsafe:Ui,dicom:Cs,fits:Cs,graph:us,image:wo,jupyter:$a,kml:Ma,molecule:Oa,presentation:ji,txt:Qa,video:Go,viewer3d:ui};function Ns(){return(Ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ts(e){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rs(e,t,n){return t&&Ms(e.prototype,t),n&&Ms(e,n),e}function Fs(e,t){return!t||"object"!==Ts(t)&&"function"!=typeof t?Is(e):t}function Is(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zs(e,t,n){return(zs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ls(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ls(e){return(Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bs(e,t)}function Bs(e,t){return(Bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return Vs})),n.d(t,"c",(function(){return Pr})),n.d(t,"b",(function(){return Cr}));var Us=function(e){function t(e,n){var r;return Ds(this,t),Ws(Is(r=Fs(this,Ls(t).call(this,e,n))),"controlsRef",(function(e){if(e){var t=Object(s.findDOMNode)(e);t&&(r.controlsNode=t,r._updateViewerHeight())}})),Ws(Is(r),"onToggleFocus",(function(e){return function(){e!==r.state.focused&&r.setState({focused:e})}})),r.state={focused:!1,model:r._updateModel(r.props.file)},r}return Hs(t,e),Rs(t,[{key:"componentWillReceiveProps",value:function(e){(this.props.file!==e.file&&(this._resetModel(),this.setState({model:this._updateModel(e.file)})),e.trackFileViews)&&this.props.flux.getActions("DisplayModel").registerFileView(this.props.file);this._updateViewerHeight()}},{key:"componentWillUnmount",value:function(){zs(Ls(t.prototype),"componentWillUnmount",this).call(this),this._resetModel()}},{key:"render",value:function(){var e=this._getViewerType(this.props.file);return a.a.createElement(c.a,{onBlur:this.onToggleFocus(!1),onFocus:this.onToggleFocus(!0)},a.a.createElement("div",{key:this.props.file.id,className:"fs-figshare-viewer"},this.renderControls(e),this.renderDisplay(e)))}},{key:"renderDisplay",value:function(e){var t=jr(e),n=this.props,r=n.flux,o=n.width,i=n.height,s=n.showControls,f=n.mode,l=this.state.model&&this.state.model._id,c=i;return oo[e]&&(c-=this.state.ctrlHeight?this.state.ctrlHeight:38),a.a.createElement(t,{key:l,flux:r,focused:this.state.focused,maxHeight:c,maxWidth:o,mode:f,showControls:s})}},{key:"renderControls",value:function(e){var t=oo[e]||null;return t&&this.props.showControls?a.a.createElement("div",{ref:this.controlsRef,className:"fs-controls-wrapper"},a.a.createElement(t,{flux:this.props.flux,mode:this.props.mode})):null}},{key:"_updateViewerHeight",value:function(){if(this.controlsNode){var e=this.controlsNode.offsetHeight;this.state.ctrlHeight!==e&&this.setState({ctrlHeight:e})}}},{key:"_getViewerType",value:function(e){return(e.virusScanInfo||{}).virus_found?"":e.viewerType}},{key:"_updateModel",value:function(e){var t=function(e,t){return As[e]?new(0,As[e])(t):null}(this._getViewerType(e),e);return t&&(t.on("load",this.handle("onModelChange")),t.on("change",this.handle("onModelChange")),t.on("error",this.handle("onModelChange"))),this.props.flux.getActions("DisplayModel").setModel(t),t}},{key:"_resetModel",value:function(){var e=this.state.model;e&&(e.removeListener("load",this.handle("onModelChange")),e.removeListener("change",this.handle("onModelChange")),e.removeListener("error",this.handle("onModelChange")),e.reset())}},{key:"onModelChange",value:function(){var e=this.props.flux.getActions("DisplayModel");e.updateModel(),this.props.trackFileViews&&e.registerFileView(this.props.file)}}]),t}(l.a);Ws(Us,"propTypes",{file:o.a.object.isRequired,height:o.a.number,mode:o.a.oneOf(["desktop","mobile"]),showControls:o.a.bool,trackFileViews:o.a.bool,width:o.a.number}),Ws(Us,"defaultProps",{height:void 0,mode:void 0,showControls:!1,trackFileViews:!1,width:void 0}),Us.defaultProps={showControls:!0,mode:"desktop"};var Vs=function(e){function t(){var e,n;Ds(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Fs(this,(e=Ls(t)).call.apply(e,[this].concat(o)))).state={flux:new O},n}return Hs(t,e),Rs(t,[{key:"render",value:function(){return a.a.createElement(Us,Ns({},this.props,{flux:this.state.flux}))}}]),t}(a.a.Component)},367:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=4,o=1e4,i={id:"figshare-datacite",title:"DataCite",style:"figshare-datacite"},a="https://doi.org/",s="https://hdl.handle.net/"},368:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o="".concat("https://widgets.figshare.com","/stats.gif"),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._registry=[]}var t,n,i;return t=e,(n=[{key:"trackOnce",value:function(){var e=this._encode.apply(this,arguments);this._isEventRegistered(e)||this._register(e)}},{key:"track",value:function(){var e=this._encode.apply(this,arguments);this._register(e)}},{key:"_encode",value:function(e,t,n){return window.btoa(JSON.stringify({eventType:e,itemType:t,itemId:n}))}},{key:"_isEventRegistered",value:function(e){return this._registry.includes(e)}},{key:"_register",value:function(e){var t=this,n=new Image;n.addEventListener("load",(function(){t._registry.push(e)})),n.src="".concat(o,"?data=").concat(e)}}])&&r(t.prototype,n),i&&r(t,i),e}();t.a=new i},369:function(e,t,n){"use strict";function r(e){var t=null,n=null;document.body.createTextRange?((t=document.body.createTextRange()).moveToElementText(e),t.select()):window.getSelection&&(n=window.getSelection(),(t=document.createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(t))}function o(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},370:function(e,t,n){"use strict";var r=n(364);t.a=r.a},371:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return i}));var o=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],i=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._size=Number(n)||0,o.forEach((function(e,n){Object.defineProperty(t,"sizeIn".concat(e.toUpperCase()),{get:function(){return t.format(n)}})}))}var t,n,i;return t=e,(n=[{key:"value",value:function(e){return this._compute(e).size}},{key:"unit",value:function(e){return this._compute(e).suffix}},{key:"format",value:function(e){var t=this._compute(e),n=t.size,r=t.suffix;return"".concat(n," ").concat(r)}},{key:"_compute",value:function(e){var t=e||this._autoExponent(),n=o[t],r=this._toExponent(t),i=Math.pow(10,t?2:0);return{size:r=Math.floor(r*i)/i,suffix:n}}},{key:"_toExponent",value:function(e){return this._size/Math.pow(1024,e)}},{key:"_autoExponent",value:function(){return this._size?Math.floor(Math.log(this._size)/Math.log(1024)):0}},{key:"size",get:function(){return this.format()}}])&&r(t.prototype,n),i&&r(t,i),e}();t.b=i},372:function(e,t,n){"use strict";var r=n(377);t.a=r.a},373:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(361);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){return"/public/collections/".concat(e)},c=function(e,t){return"/public/collections/".concat(e,"/versions/").concat(t)},u=function(e){return"/public/collections/".concat(e,"/stats")},p=function(e){return"/public/collections/by-resource/".concat(e)},d=function(e){return"/public/collections/by-resource-doi/".concat(e)},h=function(e){return"/public/collections/by-doi/".concat(e)},g=function(e){return"/public/collections/".concat(e,"/articles")},v=function(e,t){return"/public/collections/".concat(e,"/versions/").concat(t,"/articles")},y=function(e){return"/public/collections/".concat(e,"/files")},b=function(e){return"/public/articles/".concat(e)},m=function(e,t){return"/public/articles/".concat(e,"/versions/").concat(t)},w=function(e){return"/public/articles/".concat(e,"/stats")},x=function(e){return"/public/articles/by-doi/".concat(e)},O=function(e){return"/public/articles/by-resource-doi/".concat(e)},k=function(e){return"/public/articles/".concat(e,"/files")},S="public/articles/files/count",E=function(e,t){return"/public/articles/".concat(e,"/versions/").concat(t,"/files")},_=function(e){return"/public/related-content/".concat(e)},j="/citation_styles",P=function(e,t){return"/public/articles/".concat(e,"/citation/").concat(t)},C=function(e,t){return"/public/collections/".concat(e,"/citation/").concat(t)},A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,s(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"getCollection",value:function(e){var t=e.id,n=e.doi,r=e.resource,o=e.resourceDOI,i=e.version,a=void 0;return t?a=i?c(t,i):l(t):n?a=h(n):r?a=p(r):o&&(a=d(o)),this.get({url:a}).then(this._successHandler,this._errorHandler)}},{key:"getCollectionStats",value:function(e){var t=u(e);return this.get({url:t}).then(this._successHandler,this._errorHandler)}},{key:"getCollectionArticles",value:function(e,t){var n=e.id,r=e.version,o=r?v(n,r):g(n);return this.get({url:o,query:t}).then(this._successHandler,this._errorHandler)}},{key:"getArticle",value:function(e,t){var n=e.id,r=e.doi,o=e.resourceDOI,i=e.version,a=void 0;return n?a=i?m(n):b(n):r?a=x(r):o&&(a=O(o)),this.get({url:a,query:t}).then(this._successHandler,this._errorHandler)}},{key:"getArticleStats",value:function(e){var t=w(e);return this.get({url:t}).then(this._successHandler,this._errorHandler)}},{key:"getArticleFiles",value:function(e,t){var n=e.id,r=e.version,o=r?E(n,r):k(n);return this.get({url:o,query:t}).then(this._successHandler,this._errorHandler)}},{key:"getCollectionFiles",value:function(e){var t=e.id,n=y(t);return this.get({url:n}).then(this._successHandler,this._errorHandler)}},{key:"getRelatedArticles",value:function(e,t){var n=e.doi,r=_(n);return this.get({url:r,query:t}).then(this._successHandler,this._errorHandler)}},{key:"getCitations",value:function(e){var t=e.search,n=e.limit,r=e.offset,o=e.only,i=e.ignore,a=j,s={search:t,limit:n,offset:r,only:o,ignore:i};return this.get({url:a,query:s}).then(this._successHandler,this._errorHandler)}},{key:"getArticlePublicCitation",value:function(e){var t=e.id,n=e.styleId,r=P(t,n);return this.get({url:r}).then(this._successHandler,this._errorHandler)}},{key:"getCollectionPublicCitation",value:function(e){var t=e.id,n=e.styleId,r=C(t,n);return this.get({url:r}).then(this._successHandler,this._errorHandler)}},{key:"getFilesCount",value:function(e){var t=e.article,n=e.collection,r=S,o={};if(t){var i=t.id,a=t.doi,s=t.resourceDOI;i?o.articleId=i:a?o.articleDOI=a:s&&(o.articleResourceDOI=s)}if(n){var f=n.id,l=n.doi,c=n.resourceDOI;f?o.collectionId=f:l?o.collectionDOI=l:c&&(o.collectionResourceDOI=c)}return this.get({url:r,query:o}).then(this._successHandler,this._errorHandler)}}])&&i(n.prototype,r),o&&i(n,o),t}(r.a)},374:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(355);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l={enumerable:!1,writable:!0};function c(e,t){return t?"".concat(e,"?private_link=").concat(t):e}var u=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(i=a(t).call(this,e))||"object"!==o(i)&&"function"!=typeof i?s(r):i,Object.defineProperties(s(n),{isError:l,isComputingMd5:l,isUploading:l,upload:l,browserFile:l,article:l,replacingFile:l}),n}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"getPreviewKeyUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.previewMeta.key;return[this.previewMeta.baseUrl,e].join("/")}},{key:"getPreviewBinUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.previewMeta.binaryKey,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.token,n=[this.previewMeta.baseUrl,e].join("/");return c(n,t)}},{key:"isComplete",get:function(){return this.id&&"created"!==this.status}},{key:"isCreated",get:function(){return!!this.id}},{key:"progress",get:function(){return this.upload?this.upload.progress:null}}])&&i(n.prototype,r),u&&i(n,u),t}(r.a)},375:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return E}));var r=n(347),o=n.n(r),i=n(346),a=n.n(i),s=n(345),f=n.n(s),l=n(348);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?g(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={VERTICAL:"vertical",HORIZONTAL:"horizontal"},w=39,x=37,O=34,k=33,S=function(e){function t(){var e,n;u(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return b(g(n=d(this,(e=h(t)).call.apply(e,[this].concat(o)))),"onPrevPage",(function(){var e=n.props.currentPage;e-1>=0&&n.gotoPage(e-1)})),b(g(n),"onNextPage",(function(){var e=n.props,t=e.currentPage;t+1<e.totalPages&&n.gotoPage(t+1)})),b(g(n),"gotoPage",(function(e){return n.props.onGotoPage(e)})),b(g(n),"onKeyDown",(function(e){var t=e.which;t!==O&&t!==w||(e.preventDefault(),n.onNextPage()),t!==k&&t!==x||(e.preventDefault(),n.onPrevPage())})),n._type=n.props.type,n}var n,r,i;return v(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.props.keysEnabled&&document.addEventListener("keydown",this.onKeyDown,!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props.keysEnabled;t!==e.keysEnabled&&(t?document.addEventListener("keydown",this.onKeyDown,!0):document.removeEventListener("keydown",this.onKeyDown,!0))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!0)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.currentPage,r=e.totalPages,i=b({},"fs-".concat(this._type),!!this._type),a=0===n,s=n===r-1;return f.a.createElement("nav",{className:o()("fs-controls-group","fs-pagination",i,t)},f.a.createElement("strong",{className:"fs-pagination-info"},n+1," / ",r),f.a.createElement(l.a,{"aria-label":"Previous",className:"fs-prev-page",disabled:a,tabIndex:0,onClick:this.onPrevPage}),f.a.createElement(l.a,{"aria-label":"Next",className:"fs-next-page",disabled:s,tabIndex:0,onClick:this.onNextPage}))}}])&&p(n.prototype,r),i&&p(n,i),t}(s.Component);b(S,"propTypes",{className:a.a.string,currentPage:a.a.number,keysEnabled:a.a.bool,totalPages:a.a.number,type:a.a.string,onGotoPage:a.a.func}),b(S,"defaultProps",{className:void 0,currentPage:void 0,keysEnabled:!1,totalPages:void 0,type:void 0,onGotoPage:function(){}});var E=function(e){function t(){var e,n;u(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=d(this,(e=h(t)).call.apply(e,[this].concat(o))))._type=m.HORIZONTAL,n}return v(t,e),t}(S)},377:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(345);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=a(this,(e=s(t)).call.apply(e,[this].concat(o)))).state||(n.state={}),n._handlers={},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"handle",value:function(e){return this._handlers[e]?this._handlers[e]:(this._handlers[e]=this[e].bind(this),this._handlers[e])}},{key:"callback",value:function(e){if(this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.props)[e].apply(t,r)}}}])&&i(n.prototype,r),o&&i(n,o),t}(n.n(r).a.Component)},378:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(346),o=n.n(r),i=n(345),a=n.n(i),s=n(432),f=n(364);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=d(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==l(o)&&"function"!=typeof o?h(r):o,v(h(n),"onKeyPress",(function(e){"Escape"===e.key&&n.props.onClose()})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onClose,r=u(e,["children","onClose"]);return a.a.createElement(f.a,{onClickOutside:n},a.a.createElement(s.a,c({},r,{returnFocus:!0}),t))}}])&&p(n.prototype,r),o&&p(n,o),t}(i.Component);v(y,"propTypes",{children:o.a.oneOfType([o.a.string,o.a.node,o.a.array]),onClose:o.a.func}),v(y,"defaultProps",{children:null,onClose:function(){}})},379:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(346),o=n.n(r),i=n(345),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),f=0;f<i;f++)a[f]=arguments[f];return r=this,o=(e=u(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==s(o)&&"function"!=typeof o?p(r):o,h(p(n),"node",null),h(p(n),"onSetNode",(function(e){n.node=e,n.props.wrapperRef(e)})),h(p(n),"onScroll",(function(e){e&&n.props.onScroll();var t=n.props,r=t.useWindow,o=t.threshold,i=t.onBottomReached,a=t.onTopReached;r&&(n.node=document.documentElement||document.body.parentNode||document.body);var s=n.node.scrollTop,f=n.node.scrollHeight-s-n.node.clientHeight;f<=o&&i(f),s<=o&&a(n.node.scrollTop)})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.attachScrollListener(this.props.useWindow),this.onScroll()}},{key:"componentDidUpdate",value:function(e){var t=e.useWindow;this.props.useWindow!==t&&(this.detachScrollListener(t),this.attachScrollListener(this.props.useWindow))}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(this.props.useWindow)}},{key:"render",value:function(){var e=this.props,t=(e.useWindow,e.threshold,e.wrapperRef,e.onBottomReached,e.onScroll,e.onTopReached,e.as),n=l(e,["useWindow","threshold","wrapperRef","onBottomReached","onScroll","onTopReached","as"]),r=t;return a.a.createElement(r,f({ref:this.onSetNode},n))}},{key:"attachScrollListener",value:function(e){e&&(this.node=window),this.node.addEventListener("scroll",this.onScroll)}},{key:"detachScrollListener",value:function(e){e&&(this.node=window),this.node.removeEventListener("scroll",this.onScroll)}}])&&c(n.prototype,r),o&&c(n,o),t}(i.Component);h(g,"propTypes",{as:o.a.any,threshold:o.a.number,useWindow:o.a.bool,wrapperRef:o.a.func,onBottomReached:o.a.func,onScroll:o.a.func,onTopReached:o.a.func}),h(g,"defaultProps",{as:"div",useWindow:!1,threshold:0,wrapperRef:function(){},onBottomReached:function(){},onScroll:function(){},onTopReached:function(){}})},388:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(346),o=n.n(r),i=n(345),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=["#566471","#A2CD3C","#C54C59","#5BC4BD"],h=["#58585a","#d1d2d4","#818286","#a8a9ad"],g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.grayscale?h:d,t="\n        .style0 {fill: ".concat(e[0],";}\n        .style1 {fill: ").concat(e[1],";}\n        .style2 {fill: ").concat(e[2],";}\n        .style3 {fill: ").concat(e[3],";}\n    ");return a.a.createElement("div",{"aria-hidden":!0,className:"fs-logo"},a.a.createElement("svg",{"aria-hidden":!0,className:"figshare-logo",focusable:!1,height:"36px",role:"img",viewBox:"0 0 14 14",width:"36px"},a.a.createElement("style",{dangerouslySetInnerHTML:{__html:t},type:"text/css"}),a.a.createElement("g",{className:"group-1"},a.a.createElement("path",{className:"style3",d:"M5.578 0.72C5.679 1 5.5 1.4 5.2 1.461C4.892 1.6 4.6 1.4 4.5 1.1 c-0.102-0.309 0.068-0.641 0.377-0.74C5.146 0.2 5.5 0.4 5.6 0.7"}),a.a.createElement("path",{className:"style3",d:"M4.987 1.953C5.11 2.2 5 2.5 4.8 2.621C4.525 2.7 4.2 2.6 4.1 2.4 C3.978 2.2 4.1 1.9 4.3 1.737C4.562 1.6 4.9 1.7 5 2"}),a.a.createElement("path",{className:"style3",d:"M4.686 3.109c0.134 0.2 0.1 0.443-0.092 0.577C4.408 3.8 4.2 3.8 4 3.6 C3.882 3.4 3.9 3.2 4.1 3.018C4.292 2.9 4.6 2.9 4.7 3.1"}),a.a.createElement("path",{className:"style3",d:"M4.588 4.099c0.135 0.1 0.1 0.4 0 0.487c-0.135 0.136-0.354 0.136-0.488 0 C3.966 4.5 4 4.2 4.1 4.1S4.453 4 4.6 4.1"}),a.a.createElement("path",{className:"style3",d:"M4.655 4.943c0.127 0.1 0.2 0.3 0.1 0.398C4.625 5.5 4.4 5.5 4.3 5.4 S4.165 5.1 4.3 5.007C4.35 4.9 4.5 4.9 4.7 4.9"}),a.a.createElement("path",{className:"style3",d:"M4.83 5.631C4.945 5.7 5 5.8 4.9 5.946C4.874 6.1 4.7 6.1 4.6 6 c-0.115-0.059-0.161-0.2-0.103-0.315C4.574 5.6 4.7 5.6 4.8 5.6"})),a.a.createElement("g",{className:"group-2"},a.a.createElement("path",{className:"style0",d:"M3.708 1.467c0.19 0.3 0.1 0.631-0.131 0.821c-0.263 0.191-0.631 0.133-0.822-0.13 c-0.19-0.264-0.132-0.631 0.131-0.822C3.148 1.1 3.5 1.2 3.7 1.5"}),a.a.createElement("path",{className:"style0",d:"M3.526 2.823c0.193 0.2 0.2 0.5 0 0.702c-0.195 0.193-0.509 0.193-0.703 0 C2.63 3.3 2.6 3 2.8 2.823C3.018 2.6 3.3 2.6 3.5 2.8"}),a.a.createElement("path",{className:"style0",d:"M3.596 4.015c0.186 0.1 0.2 0.4 0.1 0.578S3.295 4.8 3.1 4.7 C2.926 4.5 2.9 4.3 3 4.107C3.152 3.9 3.4 3.9 3.6 4"}),a.a.createElement("path",{className:"style0",d:"M3.81 4.986C3.979 5.1 4 5.3 4 5.451C3.873 5.6 3.7 5.7 3.5 5.6 C3.327 5.5 3.3 5.3 3.3 5.138C3.432 5 3.6 4.9 3.8 5"}),a.a.createElement("path",{className:"style0",d:"M4.135 5.769c0.149 0 0.2 0.2 0.2 0.359C4.27 6.3 4.1 6.4 4 6.3 c-0.15-0.049-0.231-0.21-0.184-0.359C3.824 5.8 4 5.7 4.1 5.8"}),a.a.createElement("path",{className:"style0",d:"M4.513 6.367c0.13 0 0.2 0.1 0.2 0.271c-0.021 0.126-0.14 0.213-0.267 0.2 c-0.129-0.021-0.217-0.14-0.196-0.269C4.267 6.4 4.4 6.3 4.5 6.4"})),a.a.createElement("g",{className:"group-3"},a.a.createElement("path",{className:"style2",d:"M2.158 2.755c0.264 0.2 0.3 0.6 0.1 0.821C2.098 3.8 1.7 3.9 1.5 3.7 c-0.262-0.19-0.321-0.559-0.131-0.82C1.527 2.6 1.9 2.6 2.2 2.8"}),a.a.createElement("path",{className:"style2",d:"M2.405 4.101c0.244 0.1 0.3 0.4 0.2 0.668C2.498 5 2.2 5.1 2 5 C1.71 4.9 1.6 4.6 1.7 4.318C1.862 4.1 2.2 4 2.4 4.1"}),a.a.createElement("path",{className:"style2",d:"M2.84 5.214c0.219 0.1 0.3 0.3 0.3 0.521S2.802 6.1 2.6 6 c-0.217-0.07-0.336-0.304-0.265-0.521C2.39 5.3 2.6 5.1 2.8 5.2"}),a.a.createElement("path",{className:"style2",d:"M3.343 6.071C3.531 6.1 3.7 6.3 3.6 6.466S3.424 6.8 3.2 6.8 C3.048 6.7 2.9 6.5 2.9 6.357C2.979 6.2 3.2 6 3.3 6.1"}),a.a.createElement("path",{className:"style2",d:"M3.895 6.714c0.157 0 0.3 0.1 0.3 0.285c0 0.157-0.128 0.285-0.285 0.3 C3.737 7.3 3.6 7.2 3.6 6.999C3.609 6.8 3.7 6.7 3.9 6.7"}),a.a.createElement("path",{className:"style2",d:"M4.44 7.168c0.128-0.021 0.2 0.1 0.3 0.194C4.729 7.5 4.6 7.6 4.5 7.6 C4.386 7.7 4.3 7.6 4.2 7.436S4.312 7.2 4.4 7.2"})),a.a.createElement("g",{className:"group-4"},a.a.createElement("path",{className:"style1",d:"M1.084 4.458C1.393 4.6 1.6 4.9 1.5 5.2C1.361 5.5 1 5.7 0.7 5.6 c-0.31-0.1-0.479-0.432-0.378-0.741C0.443 4.5 0.8 4.4 1.1 4.5"}),a.a.createElement("path",{className:"style1",d:"M1.735 5.662C2.006 5.7 2.2 6 2.1 6.231C2.104 6.5 1.9 6.7 1.6 6.6 S1.124 6.3 1.2 6.075C1.21 5.8 1.5 5.6 1.7 5.7"}),a.a.createElement("path",{className:"style1",d:"M2.492 6.586c0.229 0 0.4 0.2 0.4 0.413c0 0.229-0.186 0.414-0.414 0.414S2.079 7.2 2.1 7 C2.078 6.8 2.3 6.6 2.5 6.6"}),a.a.createElement("path",{className:"style1",d:"M3.234 7.247c0.189-0.03 0.4 0.1 0.4 0.286c0.03 0.188-0.099 0.364-0.287 0.4 C3.155 8 3 7.8 2.9 7.641C2.92 7.5 3 7.3 3.2 7.2"}),a.a.createElement("path",{className:"style1",d:"M3.959 7.688C4.108 7.6 4.3 7.7 4.3 7.871C4.366 8 4.3 8.2 4.1 8.2 c-0.15 0.049-0.311-0.032-0.359-0.182C3.728 7.9 3.8 7.7 4 7.7"}),a.a.createElement("path",{className:"style1",d:"M4.619 7.95c0.114-0.059 0.255-0.013 0.3 0.103S4.945 8.3 4.8 8.4 C4.715 8.4 4.6 8.4 4.5 8.266C4.456 8.1 4.5 8 4.6 8"})),a.a.createElement("g",{className:"group-5"},a.a.createElement("path",{className:"style3",d:"M0.588 6.411c0.325 0 0.6 0.3 0.6 0.588c0 0.325-0.264 0.589-0.589 0.589S0 7.3 0 7 C0 6.7 0.3 6.4 0.6 6.4"}),a.a.createElement("path",{className:"style3",d:"M1.579 7.355C1.85 7.3 2.1 7.5 2.1 7.768C2.19 8 2 8.3 1.7 8.3 C1.464 8.4 1.2 8.2 1.2 7.924C1.124 7.7 1.3 7.4 1.6 7.4"}),a.a.createElement("path",{className:"style3",d:"M2.584 7.999c0.218-0.071 0.5 0 0.5 0.266C3.176 8.5 3.1 8.7 2.8 8.8 C2.623 8.9 2.4 8.7 2.3 8.521C2.248 8.3 2.4 8.1 2.6 8"}),a.a.createElement("path",{className:"style3",d:"M3.496 8.397c0.17-0.087 0.378-0.019 0.5 0.151c0.087 0.2 0 0.377-0.151 0.5 C3.64 9.1 3.4 9 3.3 8.861C3.259 8.7 3.3 8.5 3.5 8.4"}),a.a.createElement("path",{className:"style3",d:"M4.32 8.594C4.447 8.5 4.6 8.5 4.7 8.657c0.092 0.1 0.1 0.306-0.063 0.4 C4.527 9.1 4.3 9.1 4.3 8.992C4.165 8.9 4.2 8.7 4.3 8.6"}),a.a.createElement("path",{className:"style3",d:"M5.028 8.64c0.091-0.092 0.239-0.091 0.3 0c0.092 0.1 0.1 0.2 0 0.3 c-0.092 0.091-0.239 0.092-0.331 0S4.937 8.7 5 8.6"})),a.a.createElement("g",{className:"group-6"},a.a.createElement("path",{className:"style0",d:"M0.721 8.422C1.029 8.3 1.4 8.5 1.5 8.799c0.1 0.31-0.069 0.641-0.378 0.741S0.443 9.5 0.3 9.2 C0.242 8.9 0.4 8.5 0.7 8.4"}),a.a.createElement("path",{className:"style0",d:"M1.954 9.013C2.198 8.9 2.5 9 2.6 9.23c0.124 0.2 0 0.543-0.218 0.7 c-0.244 0.125-0.544 0.027-0.668-0.217S1.71 9.1 2 9"}),a.a.createElement("path",{className:"style0",d:"M3.109 9.313C3.295 9.2 3.6 9.2 3.7 9.406C3.822 9.6 3.8 9.8 3.6 10 c-0.184 0.135-0.443 0.095-0.577-0.091C2.884 9.7 2.9 9.4 3.1 9.3"}),a.a.createElement("path",{className:"style0",d:"M4.1 9.412c0.135-0.135 0.354-0.135 0.5 0s0.135 0.4 0 0.487s-0.354 0.135-0.488 0 C3.966 9.8 4 9.5 4.1 9.4"}),a.a.createElement("path",{className:"style0",d:"M5.405 9.679C5.313 9.8 5.1 9.8 5 9.742C4.88 9.7 4.9 9.5 4.9 9.3 c0.093-0.128 0.271-0.156 0.398-0.063C5.469 9.4 5.5 9.6 5.4 9.7"}),a.a.createElement("path",{className:"style0",d:"M6.05 9.382c-0.059 0.115-0.2 0.161-0.315 0.103C5.618 9.4 5.6 9.3 5.6 9.2 C5.69 9.1 5.8 9 5.9 9.066C6.062 9.1 6.1 9.3 6 9.4"})),a.a.createElement("g",{className:"group-7"},a.a.createElement("path",{className:"style2",d:"M1.467 10.292c0.264-0.19 0.631-0.133 0.8 0.13s0.133 0.631-0.131 0.8 c-0.263 0.191-0.63 0.132-0.82-0.13C1.146 10.9 1.2 10.5 1.5 10.3"}),a.a.createElement("path",{className:"style2",d:"M2.824 10.474c0.193-0.194 0.507-0.194 0.7 0c0.193 0.2 0.2 0.5 0 0.7 c-0.195 0.193-0.509 0.193-0.702 0C2.63 11 2.6 10.7 2.8 10.5"}),a.a.createElement("path",{className:"style2",d:"M4.686 10.89c-0.135 0.185-0.394 0.226-0.579 0.092c-0.184-0.135-0.225-0.394-0.091-0.578 c0.135-0.185 0.393-0.227 0.578-0.092C4.778 10.4 4.8 10.7 4.7 10.9"}),a.a.createElement("path",{className:"style2",d:"M5.603 10.502c-0.088 0.171-0.295 0.238-0.465 0.151c-0.169-0.087-0.236-0.293-0.15-0.464 c0.086-0.169 0.294-0.236 0.464-0.15C5.62 10.1 5.7 10.3 5.6 10.5"}),a.a.createElement("path",{className:"style2",d:"M6.312 10.041c-0.049 0.149-0.209 0.231-0.359 0.184c-0.15-0.049-0.231-0.21-0.183-0.36 c0.049-0.149 0.21-0.23 0.358-0.183C6.278 9.7 6.4 9.9 6.3 10"}),a.a.createElement("path",{className:"style2",d:"M6.833 9.559C6.812 9.7 6.7 9.8 6.6 9.754C6.436 9.7 6.3 9.6 6.4 9.5 c0.021-0.129 0.141-0.216 0.27-0.195C6.765 9.3 6.9 9.4 6.8 9.6"})),a.a.createElement("g",{className:"group-8"},a.a.createElement("path",{className:"style1",d:"M3.708 12.532c-0.192 0.263-0.56 0.32-0.822 0.13s-0.321-0.559-0.131-0.821 c0.191-0.264 0.56-0.321 0.822-0.131C3.84 11.9 3.9 12.3 3.7 12.5"}),a.a.createElement("path",{className:"style1",d:"M4.102 11.594c0.125-0.243 0.424-0.341 0.668-0.217c0.245 0.1 0.3 0.4 0.2 0.7 s-0.423 0.341-0.668 0.217C4.074 12.1 4 11.8 4.1 11.6"}),a.a.createElement("path",{className:"style1",d:"M6.001 11.415c-0.071 0.217-0.304 0.336-0.521 0.266c-0.218-0.071-0.336-0.305-0.266-0.522 c0.07-0.217 0.304-0.335 0.521-0.265S6.071 11.2 6 11.4"}),a.a.createElement("path",{className:"style1",d:"M6.753 10.764c-0.03 0.188-0.207 0.316-0.395 0.286c-0.188-0.029-0.316-0.206-0.286-0.394 c0.029-0.188 0.206-0.316 0.395-0.287C6.654 10.4 6.8 10.6 6.8 10.8"}),a.a.createElement("path",{className:"style1",d:"M7.285 10.105c0 0.157-0.127 0.284-0.285 0.284c-0.157 0-0.285-0.127-0.285-0.284 C6.715 9.9 6.8 9.8 7 9.82C7.158 9.8 7.3 9.9 7.3 10.1"}),a.a.createElement("path",{className:"style1",d:"M7.631 9.486c0.021 0.127-0.065 0.247-0.194 0.268C7.309 9.8 7.2 9.7 7.2 9.6 c-0.02-0.128 0.066-0.248 0.194-0.269C7.491 9.3 7.6 9.4 7.6 9.5"})),a.a.createElement("g",{className:"group-9"},a.a.createElement("path",{className:"style3",d:"M5.578 13.278c-0.1 0.31-0.433 0.479-0.741 0.378c-0.31-0.101-0.479-0.432-0.377-0.741 c0.1-0.309 0.432-0.478 0.74-0.377C5.51 12.6 5.7 13 5.6 13.3"}),a.a.createElement("path",{className:"style3",d:"M5.664 12.266c0.043-0.271 0.298-0.457 0.568-0.414c0.27 0 0.5 0.3 0.4 0.6 c-0.042 0.271-0.297 0.456-0.567 0.412C5.806 12.8 5.6 12.5 5.7 12.3"}),a.a.createElement("path",{className:"style3",d:"M7.413 11.508c0 0.228-0.185 0.414-0.413 0.414s-0.413-0.187-0.413-0.414c0-0.229 0.185-0.414 0.413-0.414 S7.413 11.3 7.4 11.5"}),a.a.createElement("path",{className:"style3",d:"M7.928 10.656c0.03 0.188-0.099 0.364-0.286 0.395c-0.188 0.03-0.364-0.1-0.394-0.287 c-0.03-0.188 0.099-0.364 0.285-0.394C7.722 10.3 7.9 10.5 7.9 10.7"}),a.a.createElement("path",{className:"style3",d:"M8.231 9.864c0.048 0.15-0.034 0.312-0.184 0.36c-0.149 0.048-0.311-0.034-0.358-0.184 C7.64 9.9 7.7 9.7 7.9 9.682C8.021 9.6 8.2 9.7 8.2 9.9"}),a.a.createElement("path",{className:"style3",d:"M8.369 9.169c0.059 0.1 0 0.257-0.104 0.315C8.151 9.5 8 9.5 8 9.4 S7.938 9.1 8.1 9.066C8.169 9 8.3 9.1 8.4 9.2"})),a.a.createElement("g",{className:"group-10"},a.a.createElement("path",{className:"style0",d:"M7.589 13.411C7.589 13.7 7.3 14 7 14s-0.588-0.264-0.588-0.589c0-0.324 0.263-0.589 0.588-0.589 S7.589 13.1 7.6 13.4"}),a.a.createElement("path",{className:"style0",d:"M7.356 12.42c-0.043-0.271 0.142-0.524 0.413-0.568c0.27-0.043 0.5 0.1 0.6 0.4 c0.043 0.271-0.141 0.524-0.412 0.566C7.653 12.9 7.4 12.7 7.4 12.4"}),a.a.createElement("path",{className:"style0",d:"M8.787 11.158c0.07 0.218-0.049 0.451-0.267 0.522C8.304 11.8 8.1 11.6 8 11.4 c-0.07-0.218 0.048-0.451 0.265-0.521C8.482 10.8 8.7 10.9 8.8 11.2"}),a.a.createElement("path",{className:"style0",d:"M9.012 10.189c0.088 0.2 0 0.377-0.149 0.464c-0.17 0.087-0.377 0.02-0.465-0.15 c-0.085-0.17-0.019-0.377 0.151-0.463C8.719 10 8.9 10 9 10.2"}),a.a.createElement("path",{className:"style0",d:"M9.056 9.345C9.149 9.5 9.1 9.7 9 9.742C8.866 9.8 8.7 9.8 8.6 9.7 C8.503 9.6 8.5 9.4 8.7 9.281C8.785 9.2 9 9.2 9.1 9.3"}),a.a.createElement("path",{className:"style0",d:"M8.972 8.64c0.092 0.1 0.1 0.2 0 0.332c-0.091 0.092-0.239 0.092-0.331 0 c-0.092-0.091-0.092-0.24 0-0.332S8.88 8.5 9 8.6"})),a.a.createElement("g",{className:"group-11"},a.a.createElement("path",{className:"style2",d:"M9.542 12.915c0.1 0.31-0.07 0.641-0.379 0.741s-0.642-0.068-0.741-0.378 c-0.101-0.309 0.069-0.64 0.378-0.74C9.109 12.4 9.4 12.6 9.5 12.9"}),a.a.createElement("path",{className:"style2",d:"M9.897 11.594c0.125 0.2 0 0.544-0.216 0.668c-0.244 0.124-0.544 0.027-0.668-0.217 C8.889 11.8 9 11.5 9.2 11.377C9.475 11.3 9.8 11.4 9.9 11.6"}),a.a.createElement("path",{className:"style2",d:"M9.984 10.403c0.135 0.2 0.1 0.443-0.091 0.578c-0.186 0.134-0.444 0.093-0.578-0.092 c-0.135-0.185-0.093-0.444 0.091-0.578C9.591 10.2 9.9 10.2 10 10.4"}),a.a.createElement("path",{className:"style2",d:"M9.9 9.412c0.134 0.1 0.1 0.4 0 0.487c-0.135 0.135-0.354 0.135-0.487 0 c-0.136-0.135-0.136-0.353 0-0.487C9.547 9.3 9.8 9.3 9.9 9.4"}),a.a.createElement("path",{className:"style2",d:"M9.68 8.594c0.128 0.1 0.2 0.3 0.1 0.398C9.651 9.1 9.5 9.1 9.3 9.1 C9.218 9 9.2 8.8 9.3 8.657S9.553 8.5 9.7 8.6"}),a.a.createElement("path",{className:"style2",d:"M9.383 7.95c0.115 0.1 0.2 0.2 0.1 0.314c-0.059 0.116-0.2 0.162-0.315 0.1 c-0.115-0.06-0.161-0.201-0.103-0.315C9.126 7.9 9.3 7.9 9.4 8"})),a.a.createElement("g",{className:"group-12"},a.a.createElement("path",{className:"style1",d:"M11.245 11.841c0.19 0.3 0.1 0.631-0.13 0.821c-0.264 0.191-0.631 0.133-0.822-0.13 s-0.134-0.631 0.13-0.822C10.686 11.5 11.1 11.6 11.2 11.8"}),a.a.createElement("path",{className:"style1",d:"M11.177 10.474c0.194 0.2 0.2 0.5 0 0.702c-0.195 0.193-0.508 0.193-0.702 0 c-0.194-0.194-0.194-0.508 0-0.702C10.669 10.3 11 10.3 11.2 10.5"}),a.a.createElement("path",{className:"style1",d:"M10.89 9.313c0.186 0.1 0.2 0.4 0.1 0.579c-0.134 0.186-0.392 0.226-0.577 0.1 c-0.186-0.134-0.227-0.393-0.092-0.577S10.706 9.2 10.9 9.3"}),a.a.createElement("path",{className:"style1",d:"M10.504 8.397c0.17 0.1 0.2 0.3 0.1 0.464c-0.086 0.17-0.294 0.237-0.463 0.2 c-0.17-0.087-0.238-0.295-0.151-0.465C10.127 8.4 10.3 8.3 10.5 8.4"}),a.a.createElement("path",{className:"style1",d:"M10.042 7.688c0.149 0 0.2 0.2 0.2 0.359c-0.047 0.149-0.208 0.23-0.358 0.2 C9.717 8.2 9.6 8 9.7 7.871C9.731 7.7 9.9 7.6 10 7.7"}),a.a.createElement("path",{className:"style1",d:"M9.56 7.168c0.129 0 0.2 0.1 0.2 0.268C9.733 7.6 9.6 7.7 9.5 7.6 C9.358 7.6 9.3 7.5 9.3 7.362S9.433 7.1 9.6 7.2"})),a.a.createElement("g",{className:"group-13"},a.a.createElement("path",{className:"style3",d:"M12.533 10.292c0.263 0.2 0.3 0.6 0.1 0.822c-0.19 0.262-0.558 0.321-0.821 0.1 c-0.264-0.19-0.322-0.56-0.131-0.822C11.902 10.2 12.3 10.1 12.5 10.3"}),a.a.createElement("path",{className:"style3",d:"M12.046 9.013c0.244 0.1 0.3 0.4 0.2 0.668c-0.125 0.244-0.424 0.342-0.668 0.2 c-0.244-0.124-0.342-0.423-0.217-0.667S11.802 8.9 12 9"}),a.a.createElement("path",{className:"style3",d:"M11.416 7.999c0.216 0.1 0.3 0.3 0.3 0.521c-0.07 0.217-0.304 0.336-0.521 0.3 c-0.218-0.069-0.336-0.304-0.267-0.521C10.965 8 11.2 7.9 11.4 8"}),a.a.createElement("path",{className:"style3",d:"M10.765 7.247c0.188 0 0.3 0.2 0.3 0.394c-0.029 0.188-0.206 0.316-0.395 0.3 c-0.188-0.03-0.315-0.206-0.286-0.394C10.399 7.3 10.6 7.2 10.8 7.2"}),a.a.createElement("path",{className:"style3",d:"M10.105 6.714c0.158 0 0.3 0.1 0.3 0.285c0 0.157-0.127 0.285-0.285 0.3 C9.948 7.3 9.8 7.2 9.8 6.999C9.821 6.8 9.9 6.7 10.1 6.7"}),a.a.createElement("path",{className:"style3",d:"M9.486 6.368c0.128-0.02 0.2 0.1 0.3 0.195c0.02 0.128-0.067 0.247-0.195 0.3 c-0.127 0.02-0.248-0.066-0.268-0.194C9.271 6.5 9.4 6.4 9.5 6.4"})),a.a.createElement("g",{className:"group-14"},a.a.createElement("path",{className:"style0",d:"M13.279 8.422c0.31 0.1 0.5 0.4 0.4 0.741c-0.101 0.309-0.432 0.478-0.741 0.4 c-0.309-0.101-0.478-0.432-0.378-0.741C12.64 8.5 13 8.3 13.3 8.4"}),a.a.createElement("path",{className:"style0",d:"M12.422 7.355c0.271 0 0.5 0.3 0.4 0.568c-0.043 0.271-0.297 0.455-0.567 0.4 c-0.271-0.043-0.456-0.298-0.414-0.568C11.896 7.5 12.2 7.3 12.4 7.4"}),a.a.createElement("path",{className:"style0",d:"M11.508 6.586c0.229 0 0.4 0.2 0.4 0.413c0 0.229-0.185 0.414-0.414 0.4 c-0.228 0-0.413-0.185-0.413-0.414C11.095 6.8 11.3 6.6 11.5 6.6"}),a.a.createElement("path",{className:"style0",d:"M10.657 6.071c0.188-0.03 0.4 0.1 0.4 0.286c0.03 0.188-0.099 0.365-0.286 0.4 c-0.188 0.03-0.365-0.099-0.395-0.286S10.469 6.1 10.7 6.1"}),a.a.createElement("path",{className:"style0",d:"M9.865 5.769c0.15-0.049 0.3 0 0.4 0.183c0.049 0.149-0.032 0.311-0.182 0.4 S9.731 6.3 9.7 6.128S9.717 5.8 9.9 5.8"}),a.a.createElement("path",{className:"style0",d:"M9.17 5.631c0.115-0.059 0.256-0.013 0.3 0.102C9.545 5.8 9.5 6 9.4 6 C9.269 6.1 9.1 6.1 9.1 5.946C9.009 5.8 9.1 5.7 9.2 5.6"})),a.a.createElement("g",{className:"group-15"},a.a.createElement("path",{className:"style2",d:"M13.412 6.411C13.736 6.4 14 6.7 14 6.999c0 0.325-0.264 0.589-0.588 0.6 c-0.325 0-0.589-0.264-0.589-0.588C12.823 6.7 13.1 6.4 13.4 6.4"}),a.a.createElement("path",{className:"style2",d:"M12.267 5.662c0.271-0.042 0.5 0.1 0.6 0.413c0.043 0.271-0.142 0.525-0.413 0.6 c-0.271 0.043-0.524-0.142-0.567-0.412C11.811 6 12 5.7 12.3 5.7"}),a.a.createElement("path",{className:"style2",d:"M11.16 5.214c0.217-0.071 0.5 0 0.5 0.265c0.07 0.217-0.05 0.45-0.266 0.5 c-0.218 0.071-0.451-0.048-0.521-0.265S10.942 5.3 11.2 5.2"}),a.a.createElement("path",{className:"style2",d:"M10.191 4.986c0.169-0.086 0.377-0.019 0.5 0.151c0.087 0.2 0 0.377-0.15 0.5 c-0.17 0.086-0.377 0.019-0.463-0.15C9.955 5.3 10 5.1 10.2 5"}),a.a.createElement("path",{className:"style2",d:"M9.346 4.943c0.127-0.092 0.306-0.064 0.4 0.063C9.836 5.1 9.8 5.3 9.7 5.4 C9.553 5.5 9.4 5.5 9.3 5.342C9.189 5.2 9.2 5 9.3 4.9"}),a.a.createElement("path",{className:"style2",d:"M8.641 5.027c0.092-0.092 0.24-0.092 0.3 0c0.092 0.1 0.1 0.239-0.001 0.3 c-0.091 0.092-0.239 0.091-0.33 0C8.549 5.3 8.5 5.1 8.6 5"})),a.a.createElement("g",{className:"group-16"},a.a.createElement("path",{className:"style1",d:"M12.916 4.458c0.309-0.1 0.6 0.1 0.7 0.378c0.101 0.31-0.068 0.642-0.378 0.7 c-0.309 0.102-0.64-0.068-0.741-0.377C12.438 4.9 12.6 4.6 12.9 4.5"}),a.a.createElement("path",{className:"style1",d:"M11.595 4.101c0.244-0.124 0.543-0.026 0.7 0.218c0.124 0.2 0 0.542-0.218 0.7 c-0.243 0.125-0.543 0.027-0.667-0.217S11.351 4.2 11.6 4.1"}),a.a.createElement("path",{className:"style1",d:"M10.404 4.015c0.186-0.134 0.443-0.094 0.6 0.093c0.135 0.2 0.1 0.442-0.092 0.6 c-0.184 0.134-0.442 0.093-0.577-0.092S10.219 4.1 10.4 4"}),a.a.createElement("path",{className:"style1",d:"M9.413 4.1c0.134-0.135 0.353-0.136 0.5 0c0.134 0.1 0.1 0.4 0 0.5 c-0.135 0.135-0.353 0.135-0.487 0C9.277 4.5 9.3 4.2 9.4 4.1"}),a.a.createElement("path",{className:"style1",d:"M9.056 4.654C8.964 4.8 8.8 4.8 8.7 4.718C8.53 4.6 8.5 4.4 8.6 4.3 c0.091-0.128 0.271-0.155 0.397-0.063C9.12 4.3 9.1 4.5 9.1 4.7"}),a.a.createElement("path",{className:"style1",d:"M8.369 4.829c-0.06 0.115-0.2 0.162-0.315 0.103C7.938 4.9 7.9 4.7 8 4.6 c0.059-0.115 0.2-0.161 0.314-0.103C8.382 4.6 8.4 4.7 8.4 4.8"})),a.a.createElement("g",{className:"group-17"},a.a.createElement("path",{className:"style3",d:"M11.842 2.755c0.263-0.191 0.631-0.133 0.8 0.13c0.191 0.3 0.1 0.631-0.13 0.8 c-0.263 0.19-0.631 0.133-0.822-0.131C11.521 3.3 11.6 2.9 11.8 2.8"}),a.a.createElement("path",{className:"style3",d:"M10.475 2.823c0.194-0.194 0.508-0.194 0.7 0s0.194 0.5 0 0.702c-0.194 0.193-0.508 0.193-0.702 0 C10.28 3.3 10.3 3 10.5 2.8"}),a.a.createElement("path",{className:"style3",d:"M9.984 3.596C9.851 3.8 9.6 3.8 9.4 3.687C9.223 3.6 9.2 3.3 9.3 3.1 c0.134-0.186 0.393-0.227 0.578-0.092C10.078 3.2 10.1 3.4 10 3.6"}),a.a.createElement("path",{className:"style3",d:"M9.013 3.809c-0.086 0.17-0.294 0.237-0.464 0.15C8.38 3.9 8.3 3.7 8.4 3.5 c0.086-0.17 0.293-0.236 0.462-0.15C9.031 3.4 9.1 3.6 9 3.8"}),a.a.createElement("path",{className:"style3",d:"M8.231 4.134c-0.049 0.149-0.21 0.231-0.36 0.183C7.723 4.3 7.6 4.1 7.7 4 c0.048-0.149 0.209-0.231 0.358-0.182C8.197 3.8 8.3 4 8.2 4.1"}),a.a.createElement("path",{className:"style3",d:"M7.632 4.512c-0.021 0.13-0.141 0.216-0.27 0.196C7.235 4.7 7.1 4.6 7.2 4.4 c0.021-0.129 0.141-0.217 0.269-0.196C7.563 4.3 7.7 4.4 7.6 4.5"})),a.a.createElement("g",{className:"group-18"},a.a.createElement("path",{className:"style0",d:"M11.245 2.158c-0.191 0.263-0.56 0.32-0.822 0.13c-0.264-0.19-0.321-0.559-0.13-0.821 c0.19-0.264 0.559-0.321 0.822-0.131C11.377 1.5 11.4 1.9 11.2 2.2"}),a.a.createElement("path",{className:"style0",d:"M9.014 1.953c0.124-0.244 0.424-0.341 0.668-0.216c0.244 0.1 0.3 0.4 0.2 0.7 C9.774 2.6 9.5 2.7 9.2 2.621C8.986 2.5 8.9 2.2 9 2"}),a.a.createElement("path",{className:"style0",d:"M8.787 2.84c-0.07 0.217-0.305 0.336-0.522 0.266C8.048 3 7.9 2.8 8 2.584s0.304-0.336 0.521-0.266 C8.738 2.4 8.9 2.6 8.8 2.8"}),a.a.createElement("path",{className:"style0",d:"M7.928 3.343C7.898 3.5 7.7 3.7 7.5 3.629C7.347 3.6 7.2 3.4 7.2 3.2 c0.029-0.188 0.205-0.317 0.394-0.287C7.829 3 8 3.2 7.9 3.3"}),a.a.createElement("path",{className:"style0",d:"M7.285 3.894c0 0.157-0.127 0.285-0.285 0.285c-0.157 0-0.285-0.128-0.285-0.285S6.843 3.6 7 3.6 C7.158 3.6 7.3 3.7 7.3 3.9"}),a.a.createElement("path",{className:"style0",d:"M6.832 4.439c0.02 0.128-0.066 0.248-0.195 0.269c-0.129 0.02-0.248-0.066-0.268-0.194 C6.349 4.4 6.4 4.3 6.6 4.245C6.692 4.2 6.8 4.3 6.8 4.4"})),a.a.createElement("g",{className:"group-19"},a.a.createElement("path",{className:"style2",d:"M9.542 1.083C9.44 1.4 9.1 1.6 8.8 1.461S8.321 1 8.4 0.72c0.1-0.31 0.432-0.479 0.741-0.378 C9.472 0.4 9.6 0.8 9.5 1.1"}),a.a.createElement("path",{className:"style2",d:"M7.356 1.578c0.043-0.271 0.297-0.455 0.567-0.412c0.271 0 0.5 0.3 0.4 0.6 C8.293 2 8 2.2 7.8 2.146S7.312 1.9 7.4 1.6"}),a.a.createElement("path",{className:"style2",d:"M7.413 2.491C7.413 2.7 7.2 2.9 7 2.905S6.587 2.7 6.6 2.491S6.771 2.1 7 2.1 S7.413 2.3 7.4 2.5"}),a.a.createElement("path",{className:"style2",d:"M6.753 3.235C6.782 3.4 6.7 3.6 6.5 3.629C6.278 3.7 6.1 3.5 6.1 3.3 c-0.03-0.188 0.099-0.364 0.286-0.395S6.723 3 6.8 3.2"}),a.a.createElement("path",{className:"style2",d:"M6.312 3.957c0.049 0.15-0.033 0.312-0.184 0.359C5.979 4.4 5.8 4.3 5.8 4.1 s0.033-0.311 0.183-0.359C6.103 3.7 6.3 3.8 6.3 4"}),a.a.createElement("path",{className:"style2",d:"M6.05 4.617c0.059 0.1 0 0.256-0.104 0.314C5.831 5 5.7 4.9 5.6 4.8 C5.572 4.7 5.6 4.6 5.7 4.515C5.85 4.5 6 4.5 6 4.6"})),a.a.createElement("g",{className:"group-20"},a.a.createElement("path",{className:"style1",d:"M7.589 0.588c0 0.325-0.264 0.588-0.589 0.588S6.412 0.9 6.4 0.588S6.675 0 7 0 S7.589 0.3 7.6 0.6"}),a.a.createElement("path",{className:"style1",d:"M5.664 1.733C5.62 1.5 5.8 1.2 6.1 1.166s0.524 0.1 0.6 0.4 c0.042 0.271-0.143 0.525-0.413 0.568C5.96 2.2 5.7 2 5.7 1.7"}),a.a.createElement("path",{className:"style1",d:"M6.001 2.584c0.07 0.217-0.05 0.45-0.267 0.521c-0.217 0.07-0.45-0.049-0.521-0.266 c-0.07-0.218 0.048-0.451 0.266-0.521C5.696 2.2 5.9 2.4 6 2.6"}),a.a.createElement("path",{className:"style1",d:"M5.603 3.495C5.688 3.7 5.6 3.9 5.5 3.96c-0.17 0.085-0.378 0.019-0.464-0.152 c-0.086-0.169-0.019-0.376 0.15-0.462C5.308 3.3 5.5 3.3 5.6 3.5"}),a.a.createElement("path",{className:"style1",d:"M5.405 4.319c0.092 0.1 0.1 0.306-0.062 0.398C5.215 4.8 5 4.8 4.9 4.7 S4.88 4.3 5 4.256C5.134 4.2 5.3 4.2 5.4 4.3"}),a.a.createElement("path",{className:"style1",d:"M5.359 5.027c0.092 0.1 0.1 0.2 0 0.332s-0.24 0.091-0.331 0c-0.092-0.093-0.092-0.24-0.001-0.332 C5.119 4.9 5.3 4.9 5.4 5"}))))}}])&&f(n.prototype,r),o&&f(n,o),t}(a.a.Component);p(g,"propTypes",{grayscale:o.a.bool}),p(g,"defaultProps",{grayscale:!1})},393:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(346),o=n.n(r),i=n(345),a=n.n(i),s=n(388);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.url,n=e.alt,r=e.onClick;return a.a.createElement("a",{className:"fs-figshare-button",href:t,rel:"noopener noreferrer",target:"_blank",title:n,onClick:r},a.a.createElement(s.a,null),a.a.createElement("div",{className:"fs-button-text"},"fig",a.a.createElement("strong",null,"share")))}}])&&l(n.prototype,r),o&&l(n,o),t}(i.Component);d(h,"propTypes",{alt:o.a.string,url:o.a.string,onClick:o.a.func}),d(h,"defaultProps",{url:"#",alt:"",onClick:function(){}})},394:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return s}));var s=function(e){function t(e){var n,a,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,n=!(s=o(t).call(this,e))||"object"!==r(s)&&"function"!=typeof s?i(a):s,Object.defineProperties(i(n),{files:{enumerable:!1,writable:!0,value:[]}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,e),t}(n(355).a)},396:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(365),o=n(353),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,l(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"initialize",value:function(){}},{key:"terminate",value:function(){this.removeAllListeners()}},{key:"mount",value:function(e,t){var n=this;t&&this.once("mount",t);var r=this._getElement();r&&(this._container=e,this._element=r,i.a.render(this._element,this._container,(function(){n.emit("mount")})))}},{key:"unmount",value:function(e){e&&this.once("unmount",e),this._element&&this._container&&(this.terminate(),i.a.unmountComponentAtNode(this._container)&&this.emit("unmount"))}},{key:"_getElement",value:function(){return null}}])&&s(n.prototype,r),o&&s(n,o),t}(r.EventEmitter)},400:function(e,t,n){"use strict";var r=n(412);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p={ArticlesDeletedSuccess:function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i(this,t),e=f(this,l(t).call(this)),n.length?(e._data.text=e._buildText(n),e):f(e)}return c(t,e),s(t,[{key:"_buildText",value:function(e){var t="",n="has";return e.length>1&&(t="s",n="have"),"".concat(e.length," item").concat(t," ").concat(n," been deleted")}}]),t}(r.b),ArticlesDeletedError:function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return i(this,t),e=f(this,l(t).call(this,{retryAction:r})),n.length?(e._data.text=e._buildText(n),e):f(e)}return c(t,e),s(t,[{key:"_buildText",value:function(e){var t="",n="was";return e.length>1&&(t="s",n="were"),"Sorry, ".concat(e.length," item").concat(t," ").concat(n," NOT deleted")}}]),t}(r.a)};t.a=Object.assign({},p)},405:function(e,t){},409:function(e,t){var n,r,o;n=document,r="fb-root",(o=n.getElementById(r))||((o=n.createElement("div")).id=r,n.body.appendChild(o)),function(e,t,n){var r=e.getElementsByTagName(t)[0];if(!e.getElementById(n)){var o=e.createElement(t);o.id=n,o.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4",r.parentNode.insertBefore(o,r)}}(document,"script","facebook-jssdk")},410:function(e,t,n){"use strict";window.twttr=function(e,t,n){var r=e.getElementsByTagName(t)[0],o=window.twttr||{};if(e.getElementById(n))return o;var i=e.createElement(t);return i.id=n,i.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(i,r),o._e=[],o.ready=function(e){o._e.push(e)},o}(document,"script","twitter-wjs");window.twttr,n(409)},412:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}));var d=5e3,h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e);var n="string"==typeof t?{text:t}:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);this._data=n,this._data.type="warning",this._data.autoCloseDelay=n.autoCloseDelay||d}return p(e,[{key:"text",get:function(){return this._data.text}},{key:"autoCloseDelay",get:function(){return this._data.autoCloseDelay}},{key:"dismissable",get:function(){return this._data.dismissable}},{key:"expired",get:function(){return this._data.expired}},{key:"type",get:function(){return this._data.type}}]),e}(),g=function(e){function t(e){var n;return c(this,t),(n=o(this,i(t).call(this,e)))._data.type="error",n}return a(t,e),p(t,[{key:"retryAction",get:function(){return this._data.retryAction}},{key:"retryText",get:function(){return this._data.retryText}}]),t}(h),v=function(e){function t(e){var n;return c(this,t),(n=o(this,i(t).call(this,e)))._data.type="success",n}return a(t,e),t}(h)},413:function(e,t,n){"use strict";var r=n(346),o=n.n(r),i=n(345),a=n.n(i),s=n(365),f=n(353),l=n.n(f);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g,v,y,b=((g=document.getElementsByTagName("figshare-overlay")[0])||(g=document.createElement("figshare-overlay"),document.body.appendChild(g)),g),m=new s.EventEmitter,w=[],x=(v=[],{add:function(e){return y(),v.push(e)},remove:y=function(){var e=v.indexOf(v);-1!==e&&(e===v.length-1?v.pop():v[e]=void 0)},reset:function(){return v=[]}}),O=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=p(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==c(o)&&"function"!=typeof o?d(r):o,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(d(n),"onChange",(function(){setTimeout((function(){return n.forceUpdate()}),0)})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){m.on("change",this.onChange)}},{key:"componentWillUnmount",value:function(){m.removeListener("change",this.onChange)}},{key:"render",value:function(){var e=[];return w.forEach((function(t){t.props.isOpen&&e.push(t.component)})),e.length?b.setAttribute("class","fs-active"):(b.setAttribute("class",""),x.reset()),a.a.createElement("div",null,e)}}])&&u(n.prototype,r),o&&u(n,o),t}(i.Component);l.a.render(a.a.createElement(O,null),b);var k={register:function(e){return w.push(e)},emitChange:function(){return m.emit("change")},zIndex:x},S=n(347),E=n.n(S);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=P(this,(e=C(t)).call.apply(e,[this].concat(o)))).content=a.a.cloneElement(n.props.content,n.props.contentProps),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e){this.props.contentProps!==e.contentProps&&(this.content=a.a.cloneElement(this.content,this.props.contentProps))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.zIndex;return a.a.createElement("div",{className:E()("fs-curtains",t),style:{zIndex:n}},a.a.createElement("div",{className:"fs-container"},this.content))}}])&&j(n.prototype,r),o&&j(n,o),t}(i.Component);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}N(T,"propTypes",{className:o.a.string,content:o.a.object,contentProps:o.a.object,zIndex:o.a.number}),N(T,"defaultProps",{className:"",content:null,contentProps:{},zIndex:0}),n.d(t,"a",(function(){return H}));var L=Math.round(6502*Math.random()),H=function(e){function t(){var e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=R(t).call(this),e=!r||"object"!==D(r)&&"function"!=typeof r?F(n):r,z(F(e),"open",(function(t){document.body.style.overflow="hidden",e.props.zIndex=k.zIndex.add(e._key),e.props.isOpen=!0,e.mount(t)})),z(F(e),"close",(function(t){document.body.style.overflow="",k.zIndex.remove(e._key),e.props.isOpen=!1,e.mount(t)})),z(F(e),"mount",(function(t){e.component=a.a.createElement(T,M({key:e._key},e.props,{contentProps:t})),k.emitChange()})),z(F(e),"onOpen",(function(){e.handlers.onOpen&&e.handlers.onOpen(),k.emitChange(),e.emit("open")})),z(F(e),"onRequestClose",(function(){e.handlers.onRequestClose&&e.handlers.onRequestClose(),e.emit("requestClose"),k.emitChange()})),e.props=o,e.handlers=i,e._key=L,L+=1,e.props=Object.assign({content:null,isOpen:!1,zIndex:0},e.props,{onOpen:e.onOpen,onRequestClose:e.onRequestClose}),k.register(F(e)),e.mount(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),t}(s.EventEmitter);z(H,"propTypes",{isOpen:o.a.bool,zIndex:o.a.number})},480:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(346),o=n.n(r),i=n(345),a=n.n(i),s=n(372),f=n(375);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(e){var n,r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=new Array(a>1?a-1:0),f=1;f<a;f++)s[f-1]=arguments[f];return o=this,i=(n=u(t)).call.apply(n,[this].concat(s)),r=!i||"object"!==l(i)&&"function"!=typeof i?p(o):i,h(p(r),"onGotoPage",(function(e){r.setState({currentPage:e}),r.props.onGotoPage&&r.props.onGotoPage(e)})),r.state={currentPage:r.props.currentPage||0},r._paginationType=e||null,r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=e.currentPage!==this.props.currentPage,n=e.totalPages!==this.props.totalPages;t?this.setState({currentPage:e.currentPage}):n&&this.state.currentPage>=e.totalPages&&this.setState({currentPage:e.totalPages-1})}},{key:"render",value:function(){var e=this.props.totalPages,t=this.state.currentPage;return a.a.createElement(f.b,{currentPage:t,totalPages:e,type:this._paginationType,onGotoPage:this.onGotoPage})}}])&&c(n.prototype,r),o&&c(n,o),t}(s.a);h(g,"propTypes",{totalPages:o.a.number.isRequired,currentPage:o.a.number,onGotoPage:o.a.func}),h(g,"defaultProps",{currentPage:0,onGotoPage:function(){}})},482:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"isOpen",(function(){return D})),n.d(r,"defaultCitation",(function(){return M})),n.d(r,"searchTerm",(function(){return R})),n.d(r,"limitReached",(function(){return F})),n.d(r,"searchStatus",(function(){return I})),n.d(r,"searchResults",(function(){return z})),n.d(r,"searchData",(function(){return L})),n.d(r,"apiParams",(function(){return H}));var o={};n.r(o),n.d(o,"loadResults",(function(){return W})),n.d(o,"debouncedSearch",(function(){return U})),n.d(o,"loadMore",(function(){return V})),n.d(o,"updateSearchValue",(function(){return q})),n.d(o,"open",(function(){return G})),n.d(o,"close",(function(){return K})),n.d(o,"initialize",(function(){return Q}));var i={};n.r(i),n.d(i,"INIT",(function(){return J})),n.d(i,"RESET",(function(){return $})),n.d(i,"OPEN_SELECTOR",(function(){return ee})),n.d(i,"CLOSE_SELECTOR",(function(){return te})),n.d(i,"LOAD_CITATIONS",(function(){return ne})),n.d(i,"CLEAR_SEARCH_RESULTS",(function(){return re})),n.d(i,"UPDATE_SEARCH_VALUE",(function(){return oe}));var a={};n.r(a),n.d(a,"citation",(function(){return qe})),n.d(a,"citationStyle",(function(){return Ge})),n.d(a,"entityDefaultCitation",(function(){return Ke})),n.d(a,"entityType",(function(){return Qe})),n.d(a,"apiParams",(function(){return Xe}));var s={};n.r(s),n.d(s,"loadCitation",(function(){return Ye})),n.d(s,"changeCitationStyle",(function(){return Je})),n.d(s,"initialize",(function(){return $e}));var f={};n.r(f),n.d(f,"INIT",(function(){return tt})),n.d(f,"LOAD_CITATION",(function(){return nt})),n.d(f,"CHANGE_STYLE",(function(){return rt}));var l=n(345),c=n.n(l),u=n(354),p=n(360),d=n(347),h=n.n(d),g=n(346),v=n.n(g),y=n(348),b=n(378),m="@@citation-selector",w="citationSelector",x=n(363),O=n.n(x),k=n(349),S=n(373),E=new S.a({baseURL:"https://widgets.figshare.com",followLocation:!0}),_=S.a.ERR_ABORT,j=n(382);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var N=function(e){return e[w]||{}},T=Object(j.createSelector)(N,(function(e){return e.search})),D=Object(j.createSelector)(N,(function(e){return e.isOpen})),M=Object(j.createSelector)(N,(function(e){return e.defaultCitation})),R=Object(j.createSelector)(T,(function(e){return e.value})),F=Object(j.createSelector)(T,(function(e){return e.reachedLimit})),I=Object(j.createSelector)(T,(function(e){return{isLoading:e.loading&&!e.results.length,isLoadingMore:e.loading&&!!e.results.length,error:e.error}})),z=Object(j.createSelector)(T,I,M,(function(e,t,n){var r=t.isLoading,o=t.error;return r||o?[]:e.resultsSearchTerm?e.results:[n].concat(A(e.results))})),L=Object(j.createSelector)(I,z,R,(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{items:t,searchTerm:n})})),H=Object(j.createSelector)(T,M,(function(e,t){var n=e.results,r=e.value;return{offset:n.length,ignore:r?void 0:[t.id],search:r}})),B={searchPromise:void 0},W=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){B.searchPromise&&B.searchPromise.abort(),e&&t({type:"".concat(m,"/CLEAR_SEARCH_RESULTS")});var r=O()({type:"".concat(m,"/LOAD_CITATIONS")}),o=H(n()),i=o.offset,a=o.search,s=o.ignore;B.searchPromise=E.getCitations({limit:40,offset:i,search:a,ignore:s}),t(r({loading:!0})),B.searchPromise.then((function(e){var n=e.citations.length<40;t(r({loading:!1,payload:e,reachedLimit:n})),B.searchPromise=void 0}),(function(e){e!==_&&(t(r({loading:!1,error:!0})),B.searchPromise=void 0)}))}},U=Object(k.f)(W(!0),300),V=function(){return function(e,t){var n=t(),r=F(n),o=I(n),i=o.error,a=o.isLoading,s=o.isLoadingMore;r||i||a||s||e(W())}},q=function(e){return function(t){t({type:"".concat(m,"/UPDATE_SEARCH_VALUE"),value:e}),(!e||e.length>=3)&&t(U)}},G=function(){return function(e){e({type:"".concat(m,"/OPEN_SELECTOR")}),e(W())}},K=function(){return function(e){e({type:"".concat(m,"/RESET")})}},Q=function(){return function(e){e({type:"".concat(m,"/INIT")})}},X=n(367),Z={isOpen:!1,defaultCitation:X.a,search:{value:"",resultsSearchTerm:"",error:!1,loading:!1,results:[],reachedLimit:!1}};function Y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function J(e){return O()({isOpen:e.isOpen},Z)}function $(){return Z}function ee(e){return O()({isOpen:!0},e)}function te(e){return O()({isOpen:!1},e)}function ne(e,t){var n=t.loading,r=t.reachedLimit,o=t.payload,i=t.error,a=e.search,s={error:!!i,loading:!!n,reachedLimit:!!r,resultsSearchTerm:a.value};return!n&&o&&(s.results=[].concat(Y(a.results),Y(o.citations))),O()({search:s},e)}function re(e){var t=e.search,n=O()({error:!1,loading:!1,results:[],reachedLimit:!1},t);return O()({search:n},e)}function oe(e,t){var n=t.value;return O()({search:{value:n}},e)}var ie=o,ae=r,se=Object(p.b)(i,Z,m),fe=n(379);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=ue(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==le(o)&&"function"!=typeof o?pe(r):o,he(pe(n),"inputNode",void 0),he(pe(n),"setInputNode",(function(e){n.inputNode=e,n.props.inputRef(e)})),he(pe(n),"onChange",(function(e){var t=e.target.value;n.props.value!==t&&n.props.onChange(t)})),he(pe(n),"onClearSearch",(function(){n.props.onChange(""),n.focus()})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.value,r=e.disabled,o=e.placeholder,i=["fs-search-input",t,{disabled:r}];return c.a.createElement("div",{className:h()(i)},c.a.createElement("input",{ref:this.setInputNode,disabled:r,placeholder:o,type:"search",value:n,onBlur:this.props.onBlur,onChange:this.onChange,onFocus:this.props.onFocus}),this.renderActionIcon())}},{key:"renderActionIcon",value:function(){return this.props.value?c.a.createElement(y.a,{className:"fs-search-clear-search",onClick:this.onClearSearch}):c.a.createElement(y.a,{className:"fs-search-search-icon",disabled:!0})}},{key:"focus",value:function(){this.inputNode&&this.inputNode.focus&&this.inputNode.focus()}}])&&ce(n.prototype,r),o&&ce(n,o),t}(l.Component);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}he(ge,"propTypes",{className:v.a.string,disabled:v.a.bool,inputRef:v.a.func,placeholder:v.a.string,value:v.a.string,onBlur:v.a.func,onChange:v.a.func,onFocus:v.a.func}),he(ge,"defaultProps",{className:"",disabled:!1,value:"",placeholder:"",inputRef:function(){},onBlur:function(){},onChange:function(){},onFocus:function(){}});var ke=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=me(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==ve(o)&&"function"!=typeof o?we(r):o,Oe(we(n),"state",{searchVisible:!0}),Oe(we(n),"renderOption",(function(e){var t=e.id,r=e.title,o=e.selected,i="";return n.props.defaultCitation.id===t&&(i=c.a.createElement("span",{className:"fs-citation-search-default-option"},"(default)")),c.a.createElement(y.a,{key:t,className:h()("fs-citation-search-option-button",{selected:o}),title:name,onClick:n.onCitationSelect(e)},r," ",i)})),Oe(we(n),"searchParentNode",void 0),Oe(we(n),"searchNode",void 0),Oe(we(n),"setSearchParentNode",(function(e){return n.searchParentNode=e})),Oe(we(n),"setSearchNode",(function(e){return n.searchNode=e})),Oe(we(n),"onCitationSelect",(function(e){return function(t){n.stopPropagation(t),t&&t.target&&(t.target.value=e),n.props.onSelect(t,e)}})),Oe(we(n),"onSearchRetry",(function(e){n.stopPropagation(e),n.props.onSearchRetry()})),Oe(we(n),"onBack",(function(e){n.stopPropagation(e),n.props.onBack()})),Oe(we(n),"onGoToSearchClick",(function(){n.searchNode.focus()})),Oe(we(n),"onOptionsListScroll",(function(){var e=n.searchIsVisibleInParent();n.state.searchVisible!==e&&n.setState({searchVisible:e})})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.searchTerm,n=e.value,r=e.fixedSearchInput||!!t;return c.a.createElement("div",{className:"fs-citation-search-page"},this.renderBackButton(),c.a.createElement(fe.a,{className:h()("fs-citation-search-listing",{"scroll-active":!r}),threshold:150,wrapperRef:this.setSearchParentNode,onBottomReached:this.props.onLoadMore,onScroll:this.onOptionsListScroll},c.a.createElement(ge,{inputRef:this.setSearchNode,minLength:3,placeholder:"Search citation style...",value:t,onChange:this.props.onSearchTermChange}),c.a.createElement(fe.a,{className:h()("fs-citation-search-options-listing",{"scroll-active":r}),threshold:150,onBottomReached:this.props.onLoadMore},n.map(this.renderOption),this.renderStatusState())))}},{key:"renderBackButton",value:function(){return this.props.showBackButton?c.a.createElement("div",{className:"fs-citation-search-back-button-row"},c.a.createElement(y.a,{className:"fs-citation-search-back-button",onClick:this.onBack},"Back"),this.renderGoToSearch()):null}},{key:"renderGoToSearch",value:function(){return this.state.searchVisible?null:c.a.createElement(y.a,{className:"fs-citation-search-go-to-search",onClick:this.onGoToSearchClick})}},{key:"renderStatusState",value:function(){var e=this.props,t=e.value,n=e.isLoading,r=e.isLoadingMore,o=e.error;return n||r?c.a.createElement("div",{className:"fs-citation-search-info-content"},c.a.createElement("div",{className:"fs-citation-search-loading"}),c.a.createElement("div",null," Loading results ")):o&&!t.length?c.a.createElement("div",{className:"fs-citation-search-info-content"},c.a.createElement("div",null,"Could not load styles.",c.a.createElement(y.a,{className:"fs-citation-search-retry-button",onClick:this.onSearchRetry},"Retry"))):t.length?c.a.createElement("div",{className:"fs-citation-search-results-number"},t.length," results found"):c.a.createElement("div",{className:"fs-citation-search-info-content"},"No results found")}},{key:"searchIsVisibleInParent",value:function(){return this.searchNode.offsetTop+this.searchNode.offsetHeight>this.searchParentNode.scrollTop}},{key:"stopPropagation",value:function(e){if(e){e.stopPropagation&&e.stopPropagation();var t=e.nativeEvent;t&&t.stopImmediatePropagation&&t.stopImmediatePropagation()}}}])&&be(n.prototype,r),o&&be(n,o),t}(l.Component);Oe(ke,"propTypes",{defaultCitation:v.a.object.isRequired,error:v.a.bool.isRequired,fixedSearchInput:v.a.bool.isRequired,isLoading:v.a.bool.isRequired,isLoadingMore:v.a.bool.isRequired,searchTerm:v.a.string.isRequired,showBackButton:v.a.bool.isRequired,value:v.a.array.isRequired,onBack:v.a.func.isRequired,onLoadMore:v.a.func.isRequired,onSearchRetry:v.a.func.isRequired,onSearchTermChange:v.a.func.isRequired,onSelect:v.a.func.isRequired});var Se=Object(u.c)((function(e,t){var n=ae.searchData(e),r=n.error,o=n.isLoading,i=n.isLoadingMore,a=n.items,s=n.searchTerm,f=t.value,l=ae.defaultCitation(e),c={};return f.forEach((function(e){var t=e.id;return c[t]=!0})),{defaultCitation:l,error:r,isLoading:o,isLoadingMore:i,searchTerm:s,value:a.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(n,!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{selected:!!c[e.id]})}))}}),{onBack:ie.close,onLoadMore:ie.loadMore,onSearchRetry:ie.loadResults,onSearchTermChange:ie.updateSearchValue})(ke);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=je(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==Ee(o)&&"function"!=typeof o?Pe(r):o,Ae(Pe(n),"state",{}),Ae(Pe(n),"onSelect",(function(e,t){n.props.onClose(),n.props.onChange([t])})),Ae(Pe(n),"onTriggerClick",(function(e){n.stopPropagation(e),n.props.onOpen()})),n.props.onInitialize(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){this.props.onClose()}},{key:"render",value:function(){var e=this.props,t=["fs-citation-selector",e.chrome,{"fs-citation-search-open":e.isOpen}];return c.a.createElement("div",{className:h()(t)},this.renderContent())}},{key:"renderContent",value:function(){var e=this.props,t=e.value;if(!e.isOpen){var n=t[0].title;return c.a.createElement(y.a,{className:"fs-citation-selector-trigger",onClick:this.onTriggerClick},c.a.createElement("span",null,n))}return this.renderSearchScreen()}},{key:"renderSearchScreen",value:function(){var e=this.props,t=e.chrome,n=e.value,r=e.onClose;return c.a.createElement(b.a,{onClose:r},c.a.createElement(Se,{fixedSearchInput:"overlay"===t,showBackButton:"arrow-container"===t,value:n,onSelect:this.onSelect}))}},{key:"stopPropagation",value:function(e){if(e){e.stopPropagation&&e.stopPropagation();var t=e.nativeEvent;t&&t.stopImmediatePropagation&&t.stopImmediatePropagation()}}}])&&_e(n.prototype,r),o&&_e(n,o),t}(l.Component);Ae(Ne,"propTypes",{chrome:v.a.oneOf(["overlay","arrow-container"]).isRequired,isOpen:v.a.bool.isRequired,value:v.a.array.isRequired,onChange:v.a.func.isRequired,onClose:v.a.func.isRequired,onInitialize:v.a.func.isRequired,onOpen:v.a.func.isRequired});var Te=Object(u.c)((function(e){return{isOpen:ae.isOpen(e)}}),{onInitialize:ie.initialize,onClose:ie.close,onOpen:ie.open})(Ne);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ze,Le,He,Be=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Re(this,(e=Fe(t)).call.apply(e,[this].concat(o))),Object(p.c)(n.context.store,w,se),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return c.a.createElement(Te,this.props)}}])&&Me(n.prototype,r),o&&Me(n,o),t}(l.Component);ze=Be,Le="contextType",He=u.b,Le in ze?Object.defineProperty(ze,Le,{value:He,enumerable:!0,configurable:!0,writable:!0}):ze[Le]=He;var We="citationScreen",Ue=new S.a({baseURL:"https://widgets.figshare.com",followLocation:!0}),Ve=function(e){return e[We]||{}},qe=Object(j.createSelector)(Ve,(function(e){return e.citation.result})),Ge=Object(j.createSelector)(Ve,(function(e){return e.citation.style})),Ke=Object(j.createSelector)(Ve,(function(e){return e.entityDefaultCitation})),Qe=Object(j.createSelector)(Ve,(function(e){return e.entityType})),Xe=Object(j.createSelector)(Ve,Ge,(function(e,t){return{id:e.entityId,styleId:t[0].style}})),Ze={article:"getArticlePublicCitation",collection:"getCollectionPublicCitation"},Ye=function(){return function(e,t){var n=O()({type:"".concat("@@citation-screen","/LOAD_CITATION")}),r=t();if(Ge(r)[0].id!==X.a.id){var o=Qe(r),i=Xe(r),a=Ze[o];e(n({loading:!0})),Ue[a](i).then((function(t){e(n({citation:t.citation}))}),(function(){e(n({error:!0}))}))}else{var s=Ke(r);e(n({citation:s}))}}},Je=function(e){return function(t){t({type:"".concat("@@citation-screen","/CHANGE_STYLE"),style:e}),t(Ye())}},$e=function(e,t,n){return function(r){r({type:"".concat("@@citation-screen","/INIT"),entityId:e,entityDefaultCitation:t,entityType:n}),r(Ye())}},et={entityId:void 0,entityDefaultCitation:void 0,entityType:void 0,citation:{error:!1,loading:!1,style:[X.a],result:void 0}};function tt(e,t){var n=t.entityId,r=t.entityDefaultCitation,o=t.entityType,i=et;return e.citation&&(i=O()({citation:{style:e.citation.style}},i)),O()({entityId:n,entityDefaultCitation:r,entityType:o},i)}function nt(e,t){var n=t.loading,r=t.error,o=t.citation,i={loading:!!n,error:!!r};return o&&(i.citation={result:o}),O()(i,e)}function rt(e,t){var n=t.style;return O()({citation:{style:n}},e)}var ot=s,it=a,at=Object(p.b)(f,et,"@@citation-screen"),st=n(353),ft=n.n(st),lt=n(369);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=pt(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==ct(o)&&"function"!=typeof o?dt(r):o,gt(dt(n),"citationNode",null),gt(dt(n),"doiNode",null),gt(dt(n),"setCitationNode",(function(e){return n.citationNode=e})),gt(dt(n),"setDoiNode",(function(e){return n.doiNode=e})),gt(dt(n),"onMouseOverCitation",(function(){n.selectText(n.citationNode)})),gt(dt(n),"onMouseOverDOI",(function(){n.selectText(n.doiNode)})),gt(dt(n),"onMouseOut",(function(){n.clearSelectedText()})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.citation;if(!e)return null;var t=e.text;return c.a.createElement("div",{className:"fs-citation-content"},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:t},ref:this.setCitationNode,className:"fs-citation-content-text",onMouseEnter:this.onMouseOverCitation,onMouseLeave:this.onMouseOut}),this.renderDoi())}},{key:"renderDoi",value:function(){var e=this.props.citation,t=e.handle&&e.handle.length?"handle":"doi",n="handle"===t?X.c:X.b,r=e[t],o="".concat(n).concat(r);return c.a.createElement("div",{className:"fs-citation-content-link-wrapper"},c.a.createElement("a",{ref:this.setDoiNode,className:"fs-citation-content-doi-link",href:o,rel:"noopener noreferrer",target:"_blank",onMouseEnter:this.onMouseOverDOI,onMouseLeave:this.onMouseOut},o))}},{key:"clearSelectedText",value:function(){Object(lt.a)()}},{key:"selectText",value:function(e){var t=ft.a.findDOMNode(e);Object(lt.b)(t)}}])&&ut(n.prototype,r),o&&ut(n,o),t}(l.Component);function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gt(vt,"propTypes",{citation:v.a.object}),gt(vt,"defaultProps",{citation:void 0});var kt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mt(this,wt(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.entityId,n=e.entityDefaultCitation,r=e.entityType;(0,e.onInitialize)(t,n,r)}},{key:"render",value:function(){var e=this.props,t=e.citation,n=e.isSelectorOpen,r=e.showBackButton,o=e.chrome;if(!t)return null;var i=["fs-citation-container",{"fs-mobile-mode":"arrow-container"===o,"fs-fill-height":"arrow-container"===o&&n,"fs-with-back-button":r}];return c.a.createElement("div",{className:h()(i)},this.renderTitle(),c.a.createElement("div",{className:"fs-citation-selector-wrapper"},this.renderCitationSelector("overlay")),c.a.createElement(vt,{citation:t}),c.a.createElement("div",{className:"fs-citation-footer"},this.renderBackButton(),this.renderCitationSelector("arrow-container")))}},{key:"renderTitle",value:function(){var e=this.props,t=e.showTitle,n=e.title;if(!t)return null;var r={__html:'Cite "'.concat(n,'"')};return c.a.createElement("h3",{className:"fs-citation-title",dangerouslySetInnerHTML:r})}},{key:"renderCitationSelector",value:function(e){var t=this.props,n=t.chrome,r=t.citationStyle;return e!==n?null:c.a.createElement(Be,{chrome:n,value:r,onChange:this.props.onCitationStyleChange})}},{key:"renderBackButton",value:function(){var e=this.props,t=e.showBackButton,n=e.onBack;return t?c.a.createElement(y.a,{className:"fs-citation-back-button",onClick:n},"Back"):null}}])&&bt(n.prototype,r),o&&bt(n,o),t}(l.Component);Ot(kt,"propTypes",{citationStyle:v.a.array.isRequired,entityId:v.a.number.isRequired,entityType:v.a.oneOf(["article","collection"]).isRequired,showBackButton:v.a.bool.isRequired,onCitationStyleChange:v.a.func.isRequired,onInitialize:v.a.func.isRequired,chrome:v.a.oneOf(["overlay","arrow-container"]),citation:v.a.object,entityDefaultCitation:v.a.object,isSelectorOpen:v.a.bool,showTitle:v.a.bool,title:v.a.string,onBack:v.a.func}),Ot(kt,"defaultProps",{chrome:"overlay",citation:void 0,entityDefaultCitation:{},isSelectorOpen:!1,showTitle:!1,title:void 0,onBack:function(){}});var St=Object(u.c)((function(e){return{citation:it.citation(e),citationStyle:it.citationStyle(e),isSelectorOpen:ae.isOpen(e)}}),{onCitationStyleChange:ot.changeCitationStyle,onInitialize:ot.initialize})(kt);function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return At}));var At=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=jt(this,(e=Pt(t)).call.apply(e,[this].concat(o))),Object(p.c)(n.context.store,We,at),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return c.a.createElement(St,this.props)}}])&&_t(n.prototype,r),o&&_t(n,o),t}(l.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(At,"contextType",u.b)},484:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(394),o=n(374),i=n(400),a=n(368);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("loadArticlesSuccess","loadArticlesError","loadFilesSuccess","loadFilesError","loadSuccess","loadError","save","saveSuccess","saveError")}var t,n,f;return t=e,(n=[{key:"load",value:function(e){var t=this;this.dispatch();var n=this.alt.api.getCollection(e);return n.then((function(e){return t.actions.loadSuccess(e)}),(function(e){return t.actions.loadError(e)})),n}},{key:"loadCollectionFiles",value:function(e){var t=this;return this.alt.api.getCollectionFiles(e).then((function(n){var r=n.map((function(e){return new o.a(e)}));return t.actions.loadFilesSuccess({collection:e,files:r}),r}),(function(n){return t.actions.loadFilesError({collection:e,err:n})}))}},{key:"loadCollectionWithFiles",value:function(e){var t=this;return this.actions.load(e).then((function(e){return t.actions.loadArticles(e),e}),(function(){return Promise.reject(new Error("Collection not found"))}))}},{key:"loadArticles",value:function(e,t){var n=this;this.dispatch();var o=e.id;return this.alt.api.getCollectionArticles(e,t).then((function(e){var t=n.alt.getActions("Files"),i=n.alt.getActions("Articles"),a=e.map((function(e){return new r.a(Object.assign({collectionId:o},e))}));n.actions.loadArticlesSuccess(a),i&&i.loadSuccess(a),t&&a.forEach((function(e){return t.loadFiles(e,{limit:100})}))}),(function(e){return n.actions.loadArticlesError(e)}))}},{key:"trackView",value:function(e){a.a.trackOnce("view","collection",e)}},{key:"deleteArticle",value:function(e,t,n){this.dispatch();var r=this.alt.getActions("Articles"),o=this.alt.api.removeArticle(t,e.id,n);return o.then((function(){return r.deleteSuccess(t)}),(function(e){return r.deleteError(e)})),o}},{key:"deleteArticles",value:function(e,t,n){var r=this;this.dispatch();var o=this.alt.getActions("Articles"),a=this.alt.getActions("Messages"),s=e.id,f=[],l=t.map((function(e){return r.alt.api.removeArticle(e,s,n).then((function(){return o.deleteSuccess(e)}),(function(t){f.push(e),o.deleteError(t)}))}));Promise.all(l).then((function(){a.send(new i.a.ArticlesDeletedSuccess(t))}),(function(){a.send(new i.a.ArticlesDeletedError(f,(function(){return r.actions.deleteArticles(e,f,n)})))}))}},{key:"updateCollection",value:function(e,t){var n=this;return this.alt.api.updateCollection(e,t).then((function(e){return n.actions.saveSuccess(e),e}),(function(e){return n.actions.saveError(e),Promise.reject(e)}))}}])&&s(t.prototype,n),f&&s(t,f),e}()},485:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(400),o=n(394),i=n(368);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("load","loadSuccess","loadError","createSuccess","createError","updateSuccess","updateError","deleteError")}var t,n,s;return t=e,(n=[{key:"loadArticle",value:function(e){var t=this;this.actions.load(),this.dispatch();var n=this.alt.api.getArticle(e);return n.then((function(e){return t.actions.loadSuccess(e)}),(function(e){return t.actions.loadError(e)})),n}},{key:"loadArticleWithFiles",value:function(e){var t=this;return this.actions.load(),this.dispatch(),this.alt.api.getArticle(e).then((function(e){var n=t.alt.getActions("Files"),r=new o.a(e);return n?n.loadFiles(r,{limit:100}).then((function(e){return t.actions.loadSuccess(r),e}),(function(e){t.actions.loadError(e)})):(t.actions.loadSuccess(r),e)}),(function(e){return t.actions.loadError(e),Promise.reject(e)}))}},{key:"trackView",value:function(e){i.a.trackOnce("view","article",e)}},{key:"update",value:function(e,t){var n=this;this.dispatch(),this.alt.api.updateArticle(e,t).then((function(e){return n.actions.updateSuccess(e)}),(function(e){return n.actions.updateError(e)}))}},{key:"delete",value:function(e,t){var n=this,o=t.sendMessage,i=void 0===o||o;this.dispatch();var a=[],s=e.map((function(e){return n.alt.api.deleteArticle(e).then((function(){n.actions.deleteSuccess(e),e.files.forEach((function(t){n.alt.getActions("Files").remove(e,t)}))}),(function(t){a.push(e),n.actions.deleteError(t)}))}));if(i){var f=this.alt.getActions("Messages");Promise.all(s).then((function(){f.send(new r.a.ArticlesDeletedSuccess(e))}),(function(){f.send(new r.a.ArticlesDeletedError(a,(function(){return n.actions.delete(a)})))}))}return s}},{key:"deleteSuccess",value:function(e){var t=this;this.dispatch(e),e.files.forEach((function(n){t.alt.getActions("Files").remove(e,n)}))}},{key:"createFile",value:function(e,t){var n=this.alt.getActions("Files").create(e,t);return this.dispatch({article:e,file:n}),n}},{key:"replaceFile",value:function(e,t,n){var r=this.alt.getActions("Files").replace(e,t,n);return this.dispatch({article:e,oldFile:t,newFile:r}),this.alt.getActions("RecentFiles").remove(t),r}}])&&a(t.prototype,n),s&&a(t,s),e}()},486:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(374);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("progress","change","complete","error","loadFilesError")}var t,n,i;return t=e,(n=[{key:"create",value:function(e,t){var n=new r.a({name:t.name,size:t.size,article:e});return this.alt.uploader.attachFile(n,t),this.dispatch({article:e,file:n}),n}},{key:"remove",value:function(e,t){this.alt.uploader&&this.alt.uploader.abort(t),this.dispatch({article:e,file:t})}},{key:"loadFiles",value:function(e,t){var n=this,r=this.alt.api.getArticleFiles(e,t).then((function(t){return n.actions.loadFilesSuccess({article:e,data:t}),Object.assign({},e,{files:t})}),(function(e){return n.actions.loadFilesError(e)}));return this.dispatch({article:e,files:[]}),r}},{key:"loadFilesSuccess",value:function(e){var t=this,n=e.article,o=e.data.map((function(e){var o=new r.a({article:n});return t.alt.uploader?t.alt.uploader.attachData(o,e):o.update(e),o}));return this.dispatch({article:n,files:o}),o}},{key:"replace",value:function(e,t,n){var o=new r.a({name:n.name,size:n.size,article:e});return this.alt.uploader.replaceFile(o,t,n),this.dispatch({article:e,oldFile:t,newFile:o}),o}},{key:"retry",value:function(e){this.alt.uploader.retry(e)}}])&&o(t.prototype,n),i&&o(t,i),e}()},487:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}));var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this.alt.getActions("Articles"),n=this.alt.getActions("Files");this.bindListeners({onArticlesLoadSuccess:t.loadSuccess,onArticleUpdateSuccess:t.updateSuccess,onCreateSuccess:t.createSuccess,onLoadFiles:n.loadFilesSuccess,onCreateFile:n.create,onReplaceFile:t.replaceFile,onArticleDeleteSuccess:t.deleteSuccess,onLoadError:t.loadError,onLoad:t.load}),this.loading=!1,this.error=!1,this.articles=void 0,this._articles=void 0}return o(e,null,[{key:"getArticle",value:function(e){return this._articles[e]}}]),o(e,[{key:"onLoad",value:function(){this.loading=!0,this.error=!1}},{key:"onArticlesLoadSuccess",value:function(e){var t=this,n=e instanceof Array?e:[e];this.loading=!1,this.articles=this.articles||[],this._articles=this._articles||{},n.forEach((function(e){t._articles[e.id]?Object.assign(t._articles[e.id],e):(t._articles[e.id]=e,t.articles.push(e))}))}},{key:"onCreateSuccess",value:function(e){this.articles=this.articles||[],this._articles=this._articles||{},this._articles[e.id]=e,this.articles.unshift(e)}},{key:"onArticleDeleteSuccess",value:function(e){var t=this.articles.indexOf(e);t>-1&&this.articles.splice(t,1),delete this._articles[e.id]}},{key:"onArticleUpdateSuccess",value:function(e){var t=this._articles[e.id],n=this.articles.indexOf(t);n>-1&&(Object.assign(this.articles[n],e),Object.assign(this._articles[e.id],e))}},{key:"onLoadError",value:function(e){this.error=e,this.loading=!1}},{key:"onLoadFiles",value:function(e){var t=e.article,n=e.files;t.files=n}},{key:"onCreateFile",value:function(e){var t=e.article,n=e.file;t.files.push(n),t.size=t.files.reduce((function(e,t){return e+t.size}),0)}},{key:"onReplaceFile",value:function(e){var t=e.article,n=e.oldFile,r=e.newFile,o=t.files.indexOf(n);t.files[o]=r;var i=t.files;t.size=i.reduce((function(e,t){return e+t.size}),0)}}],[{key:"getFiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=this.state.articles,n=void 0===t?[]:t,r=[];return n.forEach((function(t){e(t)&&(r=r.concat(t.files||[]))})),r}},{key:"getPublicFiles",value:function(){return this.getFiles((function(e){return"public"===e.status}))}}]),e}()},488:function(e,t,n){"use strict";var r=n(347),o=n.n(r),i=n(346),a=n.n(i),s=n(345),f=n.n(s),l=n(372),c=n(350),u=n(413),p=n(497),d=n(354),h=n(348),g=n(482),v=n(370);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=new(n(349).c)(["Escape"]),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,w(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.handle("onKeyUp"))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handle("onKeyUp"))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.citationData;return n?f.a.createElement(v.a,{onBlur:this.handle("onBlur")},f.a.createElement("div",{className:"fs-cite-container"},f.a.createElement(d.a,{store:this.props.store},f.a.createElement(g.a,{chrome:"overlay",entityDefaultCitation:n.entityDefaultCitation,entityId:n.entityId,entityType:n.entityType,showBackButton:!1,showTitle:!0,title:t,onBack:this.onShareView})),f.a.createElement(h.a,{className:"fs-exit",onClick:this.handle("onExit")}))):null}},{key:"onExit",value:function(){this.props.onExit&&this.props.onExit()}},{key:"onBlur",value:function(){this.onExit()}},{key:"onKeyUp",value:function(e){var t=e.keyCode||e.which,n=k.getKey(t);n&&(e.preventDefault&&e.preventDefault(),this["on".concat(n,"Key")]&&this["on".concat(n,"Key")](e))}},{key:"onEscapeKey",value:function(){this.onExit()}}])&&b(n.prototype,r),o&&b(n,o),t}(l.a);O(S,"propTypes",{store:a.a.object.isRequired,title:a.a.string.isRequired,citationData:a.a.shape({entityId:a.a.number.isRequired,entityDefaultCitation:a.a.object.isRequired,entityType:a.a.oneOf(["article","collection"]).isRequired}),onExit:a.a.func}),O(S,"defaultProps",{citationData:void 0,title:"",onExit:function(){}});var E=n(498),_=n(495),j=n(360);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return R}));var R=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=N(this,(e=T(t)).call.apply(e,[this].concat(o)))).state={},n.reduxStore=Object(j.a)({debugName:"generic-viewer"}),n.state.overlay=n.createEnlargeOverlay(),n.state.shareOverlay=n.createShareOverlay(),n.state.citeOverlay=n.createCiteOverlay(),n.state.trackFileViews=!1,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.extraClass,n=e.viewerWidth,r=e.breakPoint,i=void 0,a=void 0,s=o()("fs-widget-viewer",{"fs-responsive-hide-text":n<=r},t);if(e.hideWhileLoading&&e.loading)return f.a.createElement("div",null);if(e.hideWhileError&&e.error)return f.a.createElement("div",null);e.showShare&&(a=this.handle("onShare")),e.showCite&&(i=this.handle("onCite"));var l=e.title;e.showTitle||(l=null);var u={onCite:i,onShare:a};return f.a.createElement("figshare-widget",{class:s,className:s,onClick:this.handle("trackEvents")},f.a.createElement(c.a,{loading:e.loading},f.a.createElement(E.a,C({className:"fs-inline-viewer",downloadAllUrl:e.downloadAllUrl,files:e.files,showDownload:e.showDownload,showStats:e.showStats,showTitle:e.showTitle,stats:e.stats,title:l,totalPages:e.files.length,totalSize:e.totalSize,trackFileViews:this.state.trackFileViews,url:e.url,viewerHeight:e.viewerHeight,viewerWidth:e.viewerWidth,onEnlarge:this.handle("onEnlarge"),onGotoPage:this.handle("onGotoPage")},u)),this.renderFileInfo()))}},{key:"renderFileInfo",value:function(){var e=this.props,t=e.description,n=e.fileTitle;if(!t&&!n)return null;var r=null,o=null;return n&&(r=f.a.createElement("div",{className:"fs-file-title",dangerouslySetInnerHTML:{__html:n}})),t&&(o=f.a.createElement("div",{className:"fs-file-description",dangerouslySetInnerHTML:{__html:t}})),f.a.createElement("div",{className:"fs-widget-description"},r,o)}},{key:"onGotoPage",value:function(e){this.props.updateCurrentFile&&this.props.updateCurrentFile(e)}},{key:"trackEvents",value:function(){this.setState({trackFileViews:!0}),this.callback("onTrack")}},{key:"createEnlargeOverlay",value:function(){return this.state.overlay?this.state.overlay:new u.a({content:f.a.createElement(_.a,{onExit:this.handle("onExitEnlarge")}),className:"fs-widget-enlarge",isOpen:!1})}},{key:"onEnlarge",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.currentFile;if(this.state.overlay){var t=this.props.files;this.state.overlay.open({files:t,currentPage:e,totalPages:t.length,trackFileViews:!0})}}},{key:"onExitEnlarge",value:function(){this.state.overlay&&this.state.overlay.close()}},{key:"createShareOverlay",value:function(){return this.state.shareOverlay?this.state.shareOverlay:new u.a({content:f.a.createElement(p.a,{shareURL:"",title:"",onExit:this.handle("onExitShare")}),className:"fs-widget-share",isOpen:!1})}},{key:"createCiteOverlay",value:function(){return this.state.citeOverlay?this.state.citeOverlay:new u.a({content:f.a.createElement(S,{store:this.reduxStore,title:"",onExit:this.handle("onExitCite")}),className:"fs-widget-cite",isOpen:!1})}},{key:"onShare",value:function(){if(this.state.shareOverlay){var e=this.props,t=e.title,n=void 0===t?"":t,r=e.url,o=void 0===r?"":r;this.state.shareOverlay.open({title:n,shareURL:o})}}},{key:"onCite",value:function(){if(this.state.citeOverlay){var e=this.props,t=e.title,n=void 0===t?"":t,r=e.citationData;this.state.citeOverlay.open({title:n,citationData:r})}}},{key:"onExitShare",value:function(){this.state.shareOverlay&&this.state.shareOverlay.close()}},{key:"onExitCite",value:function(){this.state.citeOverlay&&this.state.citeOverlay.close()}}])&&A(n.prototype,r),i&&A(n,i),t}(l.a);M(R,"propTypes",{breakPoint:a.a.number,citationData:a.a.object,currentFile:a.a.number,description:a.a.string,downloadAllUrl:a.a.string,error:a.a.bool,extraClass:a.a.string,fileTitle:a.a.string,files:a.a.array,hideWhileError:a.a.bool,hideWhileLoading:a.a.bool,loading:a.a.bool,showCite:a.a.bool,showDownload:a.a.bool,showShare:a.a.bool,showStats:a.a.bool,showTitle:a.a.bool,stats:a.a.object,title:a.a.string,totalSize:a.a.number,updateCurrentFile:a.a.func,url:a.a.string,viewerHeight:a.a.number,viewerWidth:a.a.number}),M(R,"defaultProps",{breakPoint:void 0,citationData:void 0,currentFile:void 0,description:void 0,downloadAllUrl:void 0,extraClass:void 0,error:!1,fileTitle:void 0,files:void 0,hideWhileLoading:!0,hideWhileError:!0,loading:void 0,showCite:!0,showDownload:!0,showShare:!0,showStats:!1,showTitle:!0,stats:void 0,title:void 0,totalSize:void 0,updateCurrentFile:void 0,url:void 0,viewerHeight:void 0,viewerWidth:void 0})},490:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return o}));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("loadError","loadSuccess")}var t,n,o;return t=e,(n=[{key:"load",value:function(e){var t=this;this.alt.api.getToken(e).then((function(e){if(t.actions.loadSuccess(e),"collection"===e.entityType){var n=t.alt.getActions("Collection");n&&n.loadSuccess(e.entity)}}),(function(e){var n=t.alt.getActions("Collection");n&&n.loadError(e),t.actions.loadError(e)})),this.dispatch()}}])&&r(t.prototype,n),o&&r(t,o),e}()},491:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return o}));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this.alt.getActions("Collection");this.bindActions(t),this.loading=!0,this.error=!1,this.collection=void 0}var t,n,o;return t=e,(n=[{key:"onLoadSuccess",value:function(e){this.collection=e,this.loading=!1,this.error=!1}},{key:"onLoadError",value:function(e){this.collection=void 0,this.loading=!1,this.error=e}},{key:"onLoad",value:function(){this.collection=void 0,this.loading=!0,this.error=!1}},{key:"onSaveSuccess",value:function(e){this.collection=e,this.loading=!1,this.error=!1}},{key:"onSaveError",value:function(e){this.loading=!1,this.error=e}},{key:"onSave",value:function(){this.loading=!0,this.error=!1}}])&&r(t.prototype,n),o&&r(t,o),e}()},492:function(e,t,n){"use strict";var r=n(387),o=n.n(r),i=n(484),a=n(485),s=n(486),f=n(490);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("articleStatsLoadSuccess","articleStatsLoadError","collectionStatsLoadSuccess","collectionStatsLoadError")}var t,n,r;return t=e,(n=[{key:"loadArticleStats",value:function(e){var t=this,n=e.id;this.alt.api.getArticleStats(n).then((function(e){t.actions.articleStatsLoadSuccess({id:n,data:e})}),(function(e){t.actions.articleStatsLoadError(e)}))}},{key:"loadCollectionStats",value:function(e){var t=this,n=e.id;this.alt.api.getCollectionStats(n).then((function(e){t.actions.collectionStatsLoadSuccess({id:n,data:e})}),(function(e){t.actions.collectionStatsLoadError(e)}))}}])&&l(t.prototype,n),r&&l(t,r),e}(),u=n(491),p=n(487);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this.alt.getActions("Stats");this.bindListeners({onArticleStatsUpdate:t.articleStatsLoadSuccess,onCollectionStatsUpdate:t.collectionStatsLoadSuccess}),this._collections={},this._articles={}}return h(e,null,[{key:"getArticleStats",value:function(e){return this.state._articles[e]}},{key:"getCollectionStats",value:function(e){return this.state._collections[e]}}]),h(e,[{key:"onArticleStatsUpdate",value:function(e){var t=e.id,n=e.data;this._articles[t]=n}},{key:"onCollectionStatsUpdate",value:function(e){var t=e.id,n=e.data;this._collections[t]=n}}]),e}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return O}));o.a;var O=function(e){function t(e){var n,r=e.api;return y(this,t),(n=b(this,m(t).call(this))).api=r,n.addActions("Stats",c),n.addActions("Articles",a.a),n.addActions("Files",s.a),n.addStore("Stats",g),n.addStore("Articles",p.a),n}return w(t,e),t}(o.a)},494:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(346),o=n.n(r),i=n(345),a=n.n(i),s=n(370),f=n(347),l=n.n(f),c=n(516),u=n.n(c),p=n(366);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=5,w=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),f=0;f<i;f++)s[f]=arguments[f];return r=this,o=(e=g(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==d(o)&&"function"!=typeof o?v(r):o,b(v(n),"renderItem",(function(e,t){if(!e)return null;var r=l()("fs-file",{"fs-active":t===n.props.activePage}),o=e.name,i="",s=o.lastIndexOf(".");return o.length-s<=m&&-1!==s&&(i=o.substr(s),o=o.substr(0,s)),a.a.createElement("div",{key:t,className:r},a.a.createElement("div",{className:"fs-details-title",onClick:n.onGotoPage(t)},a.a.createElement("div",{className:"fs-details-name",title:e.name},o,a.a.createElement("span",{className:"fs-details-extension"},i))),n.renderButtons(t))})),b(v(n),"onViewPage",(function(e){return function(){n.props.onViewPage&&(n.props.onViewPage(e),n.onBlur())}})),b(v(n),"onGotoPage",(function(e){return function(){n.props.onGotoPage&&(n.props.onGotoPage(e),n.onBlur())}})),b(v(n),"onBlur",(function(){n.props.onBlur&&n.props.onBlur()})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.files,n=void 0===t?[]:t,r=e.style;return a.a.createElement("div",{className:"fs-details-listing-wrap",style:r},a.a.createElement(u.a,{className:"fs-details-listing",component:"div",transitionAppear:!0,transitionAppearTimeout:250,transitionEnterTimeout:250,transitionLeaveTimeout:250,transitionName:"fs-fade"},a.a.createElement(s.a,{onBlur:this.onBlur},a.a.createElement("div",{className:"fs-details-container"},n.map(this.renderItem)))),a.a.createElement("div",{className:"fs-arrow",style:{left:this.props.arrowOffset}}))}},{key:"renderButtons",value:function(e){var t=(this.props.files||[])[e];return t?a.a.createElement("div",{className:"fs-details-buttons"},this.renderViewButton(t,e),this.renderDownloadButton(t)):null}},{key:"renderDownloadButton",value:function(e){var t=e.downloadUrl,n=e.name;return(e.virusScanInfo||{}).virus_found?null:a.a.createElement("div",{className:"fs-details-item"},a.a.createElement("a",{className:"fs-details-download",download:n,href:t,rel:"noopener noreferrer",target:"_blank"},a.a.createElement("span",{className:"fs-button-text"},"download")))}},{key:"renderViewButton",value:function(e,t){var n=this.props.forceViewButton,r=e.virusScanInfo,o=e.viewerType,i=(r||{}).virus_found,s=Object(p.c)(o)||n;return i||!s?null:a.a.createElement("div",{className:"fs-details-item"},a.a.createElement("a",{className:"fs-details-view",onClick:this.onViewPage(t)},a.a.createElement("span",{className:"fs-button-text"},"view")))}}])&&h(n.prototype,r),o&&h(n,o),t}(i.Component);b(w,"propTypes",{activePage:o.a.number,arrowOffset:o.a.number,files:o.a.array,forceViewButton:o.a.bool,style:o.a.object,onBlur:o.a.func,onGotoPage:o.a.func,onViewPage:o.a.func}),b(w,"defaultProps",{activePage:void 0,arrowOffset:void 0,files:[],forceViewButton:!1,style:void 0,onBlur:void 0,onGotoPage:void 0,onViewPage:void 0})},495:function(e,t,n){"use strict";var r=n(347),o=n.n(r),i=n(346),a=n.n(i),s=n(345),f=n.n(s),l=n(353),c=n(348),u=n(480),p=n(349),d=n(366);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return r=this,i=(e=v(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==h(i)&&"function"!=typeof i?y(r):i,m(y(n),"renderArticle",(function(e,t){var r=["fs-file",{"fs-active":t===n.props.activePage}];if(!e)return null;var i=e.size,a=void 0===i?0:i;return a=new p.b(a),f.a.createElement("div",{key:t,className:o()(r),title:e.name,onClick:n.onGotoPage(t)},f.a.createElement("div",{className:"fs-viewer-container"},f.a.createElement("div",{className:"fs-icon-container"},n.renderPreview(e))),f.a.createElement("div",{className:"fs-file-details-container"},f.a.createElement("div",{className:"fs-file-title"},e.name),f.a.createElement("div",{className:"fs-file-size"},a.size)))})),m(y(n),"onGotoPage",(function(e){return function(){return n.props.onGotoPage(e)}})),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.files,t=void 0===e?[]:e;return f.a.createElement("div",{className:"fs-file-listing"},t.map(this.renderArticle))}},{key:"renderPreview",value:function(e){return Object(d.b)(e)}}])&&g(n.prototype,r),i&&g(n,i),t}(s.Component);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m(w,"propTypes",{activePage:a.a.number,files:a.a.array,onGotoPage:a.a.func}),m(w,"defaultProps",{activePage:void 0,files:void 0,onGotoPage:function(){}});var P=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,n=!(o=(e=E(t)).call.apply(e,[this].concat(a)))||"object"!==x(o)&&"function"!=typeof o?k(r):o,j(k(n),"state",{showMore:!1,expanded:!1}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){return t.description!==e.description?{expanded:!1}:null}}],(r=[{key:"componentDidUpdate",value:function(e,n){S(E(t.prototype),"componentDidUpdate",this)&&S(E(t.prototype),"componentDidUpdate",this).call(this,e,n);var r=this.refs.excerptDescription,o=this.refs.fullDescription,i=this.state.showMore;if(r&&o){var a=Object(l.findDOMNode)(r),s=Object(l.findDOMNode)(o);a.offsetHeight<s.offsetHeight?i||this.setState({showMore:!0}):i&&this.setState({showMore:!1})}}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,r=null,i=o()("fs-file-description-wrap",{"fs-expanded":this.state.expanded});if(!n&&!t)return null;this.state.showMore&&(r=f.a.createElement("div",{className:"fs-file-description-show-more",onClick:this.handle("showFull")},f.a.createElement("a",{className:"fs-show-more"},"Show more")));var a=null,s=null;return t&&(a=f.a.createElement("div",{dangerouslySetInnerHTML:{__html:t},className:"fs-file-title"})),n&&(s=f.a.createElement("div",{dangerouslySetInnerHTML:{__html:n},className:"fs-description"})),f.a.createElement("div",{ref:"fileDescription",className:i},f.a.createElement("div",{ref:"excerptDescription",className:"fs-file-description-excerpt"},a,s),f.a.createElement("div",{ref:"fullDescription",className:"fs-file-description-full"},a,s,f.a.createElement("a",{className:"fs-hide-full-description",onClick:this.handle("hideFull")},"Hide description")),r)}},{key:"showFull",value:function(){this.setState({expanded:!0})}},{key:"hideFull",value:function(){this.setState({expanded:!1})}}])&&O(n.prototype,r),i&&O(n,i),t}(n(372).a);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}j(P,"propTypes",{description:a.a.string,title:a.a.string}),j(P,"defaultProps",{description:void 0,title:void 0}),n.d(t,"a",(function(){return I}));var R=new p.c(["Escape","LeftArrow","RightArrow"]),F=40,I=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=N(this,(e=D(t)).call.apply(e,[this,"horizontal"].concat(o)))).state.maxWidth=0,n.state.maxHeight=0,n.state.detailsHeight=F,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.handle("onKeyUp")),window.addEventListener("resize",this.handle("onResize")),this.updateViewerDimensions()}},{key:"componentDidUpdate",value:function(e,n){T(D(t.prototype),"componentDidUpdate",this)&&T(D(t.prototype),"componentDidUpdate",this).call(this,n,e),n.currentPage!==this.state.currentPage&&this.updateViewerHeight(),e.files!==this.props.files&&this.updateViewerDimensions()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handle("onKeyUp")),window.removeEventListener("resize",this.handle("onResize"))}},{key:"render",value:function(){var e=this.props.files;if(!e.length)return null;var n=o()("fs-file-viewer",{"fs-single-file":1===e.length});return f.a.createElement("div",{className:"fs-large-viewer"},this.renderFileList(),f.a.createElement("section",{className:n},T(D(t.prototype),"render",this).call(this),f.a.createElement("article",{ref:"viewerContainer",className:"fs-viewer-container"},this.renderViewer(),this.renderFileDetails(),this.renderFileDescription()),f.a.createElement(c.a,{className:"fs-close-button",title:"exit",onClick:this.handle("onExit")})))}},{key:"renderViewer",value:function(){var e=this.props.files,t=this.state,n=t.currentPage,r=t.maxWidth,o=t.maxHeight,i=t.detailsHeight;if(!e.length)return null;var a=e[n]||null;return f.a.createElement(d.a,{file:a,height:o-i,trackFileViews:!0,width:r})}},{key:"renderFileDetails",value:function(){var e=this.state.currentPage,t=this.props.files||[],n=t[e]||null;return t.length&&n?f.a.createElement("div",{className:"fs-file-details"},f.a.createElement("div",{className:"fs-file-name",title:n.name},n.name),this.renderDownloadButton(n)):null}},{key:"renderDownloadButton",value:function(e){var t=(e.virusScanInfo||{}).virus_found,n=new p.b(e.size).size;return t?f.a.createElement("div",{className:"fs-download-button fs-download-virus",title:"Download is not available for this file"},"Download (",n,")"):f.a.createElement("a",{className:"fs-download-button",download:e.name,href:e.downloadUrl,rel:"noopener noreferrer",target:"_blank"},"Download (",n,")")}},{key:"renderFileDescription",value:function(){var e=this.props.files[this.state.currentPage],t=e&&e.description,n=e&&e.title;return t||n?f.a.createElement(P,{ref:"fileDescription",description:t,title:n}):null}},{key:"renderFileList",value:function(){var e=this.state.currentPage,t=this.props.files;return t.length<=1?null:f.a.createElement("section",{className:"fs-files-list"},f.a.createElement(w,{activePage:e,files:t,onGotoPage:this.handle("onGotoPage")}))}},{key:"updateViewerHeight",value:function(){var e=this.refs.fileDescription;if(e){var t=Object(l.findDOMNode)(e),n=F+t.offsetHeight;this.state.detailsHeight!==n&&this.setState({detailsHeight:n})}else this.state.detailsHeight!==F&&this.setState({detailsHeight:F})}},{key:"updateViewerDimensions",value:function(){var e=this.refs.viewerContainer;if(e){var t=e.offsetWidth,n=e.offsetHeight;this.setState({maxWidth:t,maxHeight:n},this.updateViewerHeight)}}},{key:"onExit",value:function(){this.props.onExit&&this.props.onExit()}},{key:"onKeyUp",value:function(e){var t=e.keyCode||e.which,n=R.getKey(t);n&&(e.preventDefault&&e.preventDefault(),this["on".concat(n,"Key")]&&this["on".concat(n,"Key")](e))}},{key:"onResize",value:function(){if(this.refs.viewerContainer){var e=this.refs.viewerContainer,t=e.offsetWidth,n=e.offsetHeight;this.setState({maxWidth:t,maxHeight:n})}}},{key:"onEscapeKey",value:function(){this.onExit()}},{key:"onLeftArrowKey",value:function(){var e=this.state.currentPage;e-1>=0&&this.onGotoPage(e-1)}},{key:"onRightArrowKey",value:function(){var e=this.props.totalPages,t=this.state.currentPage;t+1<e&&this.onGotoPage(t+1)}}])&&A(n.prototype,r),i&&A(n,i),t}(u.a);I.defaultProps={currentPage:0,files:[]},I.propTypes={files:a.a.array.isRequired,currentPage:a.a.number,onExit:a.a.func,onGotoPage:a.a.func}},497:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(346),o=n.n(r),i=n(345),a=n.n(i),s=n(353),f=n.n(s),l=n(348),c=n(370);n(410);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=new(n(349).c)(["Escape"]),b=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=d(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==u(o)&&"function"!=typeof o?h(r):o,v(h(n),"onExit",(function(){return n.props.onExit()})),v(h(n),"onBlur",(function(){return n.onExit()})),v(h(n),"onKeyUp",(function(e){var t=e.keyCode||e.which,r=y.getKey(t);r&&(e.preventDefault&&e.preventDefault(),n["on".concat(r,"Key")]&&n["on".concat(r,"Key")](e))})),v(h(n),"onEscapeKey",(function(){return n.onExit()})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyUp),this._parseSNButtons()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyUp)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.shareURL,r={__html:'Share "'.concat(t,'" on:')};return a.a.createElement(c.a,{onBlur:this.onBlur},a.a.createElement("div",{className:"fs-share-container"},a.a.createElement("h1",{dangerouslySetInnerHTML:r}),a.a.createElement("div",{className:"fs-social-buttons"},a.a.createElement("div",null,a.a.createElement("h3",null,"Facebook"),a.a.createElement("div",{className:"fs-share-button"},a.a.createElement("div",{className:"fb-share-button","data-href":n,"data-layout":"button_count"}))),a.a.createElement("div",null,a.a.createElement("h3",null,"Twitter"),a.a.createElement("div",{className:"fs-share-button"},a.a.createElement("a",{className:"twitter-share-button",href:"https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(n))})))),a.a.createElement(l.a,{className:"fs-exit",onClick:this.onExit})))}},{key:"_parseSNButtons",value:function(){var e=f.a.findDOMNode(this),t=window,n=t.FB,r=t.twttr;n&&n.XFBML.parse(e),r&&r.widgets.load(e)}}])&&p(n.prototype,r),o&&p(n,o),t}(i.Component);v(b,"propTypes",{shareURL:o.a.string.isRequired,title:o.a.string.isRequired,onExit:o.a.func}),v(b,"defaultProps",{onExit:function(){}})},498:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(347),o=n.n(r),i=n(346),a=n.n(i),s=n(345),f=n.n(s),l=n(353),c=n(348),u=n(366),p=n(480),d=n(393),h=n(370),g=n(494),v=n(349);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e,t,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=w(this,(e=O(t)).call.apply(e,[this,"horizontal"].concat(o))),Object.assign(n.state,{displayDetails:!1,displayDownloadMenu:!1,detailsButtonOffset:0}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(){var e=Object(l.findDOMNode)(this.refs.detailsButton);e&&this.state.detailsButtonOffset!==e.offsetLeft&&this.setState({detailsButtonOffset:e.offsetLeft})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.url,r=o()("fs-file-viewer",t);return f.a.createElement("section",{className:r},this.renderHeader(),this.renderViewer(),f.a.createElement("footer",{className:"fs-file-viewer-controls"},f.a.createElement(d.a,{alt:"open in figshare",url:n}),f.a.createElement("span",{className:"fs-file-logo-controls-separator"}," "),this.renderControls(),f.a.createElement("span",{className:"fs-file-controls-misc-separator"}," "),this.renderMiscControls()))}},{key:"renderHeader",value:function(){var e=o()("fs-header",{"fs-with-stats":this.props.showStats});return f.a.createElement("header",{className:e},f.a.createElement("div",{className:"fs-title-section"},this.renderTitle(),this.renderCurrentFileTitle()),this.renderStats())}},{key:"renderStats",value:function(){var e=this.props,t=e.stats,n=e.showStats;if(!t||!n)return null;var r=t.views,o=t.shares,i=t.downloads;return f.a.createElement("div",{className:"fs-stats-wrap"},this.renderStatsPart(r,"views"),this.renderStatsPart(o,"shares"),this.renderStatsPart(i,"downloads"))}},{key:"renderStatsPart",value:function(e,t){return e||0===e?f.a.createElement("div",{className:"fs-stats-part fs-vertical-align-wrap"},f.a.createElement("div",{className:"fs-vertical-align-content"},f.a.createElement("div",{className:"fs-stats-count"},e),t)):null}},{key:"renderTitle",value:function(){return f.a.createElement("h1",{dangerouslySetInnerHTML:{__html:this.props.title}})}},{key:"renderCurrentFileTitle",value:function(){var e=this.props,t=e.files,n=e.showTitle,r=this.state.currentPage;if(!t||0===t.length)return null;if(t.length<=1&&n)return null;var o=(t[r]||{}).name,i=void 0===o?"no name":o;return f.a.createElement("div",{className:"fs-file-title"},f.a.createElement("em",null,"Showing ",r+1,"/",t.length,":")," ",i)}},{key:"renderControls",value:function(){return this.props.files.length<=1?null:f.a.createElement("div",{className:"fs-file-controls"},x(O(t.prototype),"render",this).call(this),f.a.createElement(c.a,{ref:"detailsButton",className:"fs-details",title:"open file list",onClick:this.handle("onToggleList")}))}},{key:"renderMiscControls",value:function(){var e=this.state.currentPage,t=null,n=null,r=null;return this.props.onEnlarge&&(t=f.a.createElement(c.a,{className:"fs-enlarge",title:"display enlarged",onClick:this.onEnlarge.bind(this,e)})),this.props.onShare&&(n=f.a.createElement(c.a,{className:"fs-share",title:"share",onClick:this.handle("onShare")},f.a.createElement("span",{className:"fs-button-text"},"Share"))),this.props.onCite&&(r=f.a.createElement(c.a,{className:"fs-cite",onClick:this.handle("onCite")},f.a.createElement("span",{className:"fs-button-text"},"Cite"))),f.a.createElement("div",{className:"fs-misc-controls"},t,n,r,this.renderDownload())}},{key:"renderDownload",value:function(){var e=this.state.currentPage,t=this.props,n=t.files,r=t.showDownload,o=t.downloadAllUrl,i=n[e];if(!(r&&i&&i.downloadUrl&&i.size))return null;var a=(i.virusScanInfo||{}).virus_found;return 1!==n.length&&o?f.a.createElement("div",{className:"fs-download-wrap",onClick:this.handle("onToggleDownloadMenu")},f.a.createElement(c.a,{className:"fs-download"},f.a.createElement("span",{className:"fs-button-text"},"Download")),this.renderDownloadMenu()):a?f.a.createElement("div",{className:"fs-download fs-download-virus",title:"Download is not available for this file"},f.a.createElement("span",{className:"fs-button-text"},"Download")):f.a.createElement("a",{className:"fs-download",href:i.downloadUrl},f.a.createElement("span",{className:"fs-button-text"},"Download"))}},{key:"renderDownloadMenu",value:function(){var e=this.state,t=e.currentPage;if(!e.displayDownloadMenu)return null;var n=this.props,r=n.downloadAllUrl,o=n.totalSize,i=n.files[t],a=i.name,s=i.size,l=void 0===s?0:s,c=i.downloadUrl,u=(i.virusScanInfo||{}).virus_found,p=new v.b(l),d=null,g=null,y="(.zip)";if(c&&(d=u?"Download is not available for this file":f.a.createElement("a",{download:a,href:c,rel:"noopener noreferrer",target:"_blank"},"Download this file (".concat(p.size,")"))),o){var b=new v.b(o).size;y="(".concat(b,")")}return r&&(g=f.a.createElement("a",{download:"allfiles.zip",href:r,rel:"noopener noreferrer",target:"_blank"},"Download all ",y)),f.a.createElement(h.a,{onBlur:this.handle("onToggleDownloadMenu")},f.a.createElement("div",{className:"fs-download-menu"},d,g))}},{key:"renderViewer",value:function(){var e=this.state.currentPage,t=this.props,n=t.files,r={width:t.viewerWidth,height:t.viewerHeight,trackFileViews:t.trackFileViews},o=null;if(n.length){var i=n[e]||null;o=f.a.createElement(u.a,b({file:i},r))}return f.a.createElement("article",null,f.a.createElement("div",{className:"fs-viewer-container",style:r},o,this.renderDetails()))}},{key:"renderDetails",value:function(){var e=this.state,t=e.displayDetails,n=e.currentPage;if(!t)return null;var r=this.props.files;return f.a.createElement(g.a,{activePage:n,arrowOffset:this.state.detailsButtonOffset,files:r,onBlur:this.handle("onToggleList"),onGotoPage:this.handle("onGotoPage"),onViewPage:this.handle("onEnlarge")})}},{key:"onToggleDownloadMenu",value:function(){this.setState({displayDownloadMenu:!this.state.displayDownloadMenu})}},{key:"onToggleList",value:function(){this.setState({displayDetails:!this.state.displayDetails}),this.props.onToggleList&&this.props.onToggleList(this.state.currentPage)}},{key:"onEnlarge",value:function(e){this.props.onEnlarge&&this.props.onEnlarge(e)}},{key:"onShare",value:function(){this.props.onShare&&this.props.onShare()}},{key:"onCite",value:function(){this.props.onCite&&this.props.onCite(this.state.currentPage)}}])&&m(n.prototype,r),i&&m(n,i),t}(p.a);S.defaultProps={currentPage:0,files:[],viewerWidth:600,viewerHeight:400,showDownload:!0,showTitle:!0},S.propTypes={className:a.a.string,currentPage:a.a.number,downloadAllUrl:a.a.string,files:a.a.array,showDownload:a.a.bool,showStats:a.a.bool,showTitle:a.a.bool,stats:a.a.object,title:a.a.string,totalSize:a.a.number,trackFileViews:a.a.bool,url:a.a.string,viewerHeight:a.a.number,viewerWidth:a.a.number,onCite:a.a.func,onEnlarge:a.a.func,onGotoPage:a.a.func,onShare:a.a.func,onToggleList:a.a.func}},531:function(e,t,n){"use strict";var r=n(346),o=n.n(r),i=n(345),a=n.n(i),s=n(353),f=n(358),l=n(488);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b,m,w,x=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=h(this,(e=v(t)).call.apply(e,[this].concat(o)))).state=n.getFluxState(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){g(v(t.prototype),"componentDidMount",this).call(this),window.addEventListener("resize",this.handle("onResize")),setTimeout(this.handle("onResize"),0)}},{key:"componentWillUnmount",value:function(){g(v(t.prototype),"componentWillUnmount",this).call(this),window.removeEventListener("resize",this.handle("onResize"))}},{key:"componentDidUpdate",value:function(){setTimeout(this.handle("onResize"),0)}},{key:"onResize",value:function(){var e=Object(s.findDOMNode)(this).parentNode,t=this.props.height,n=this.props.width,r=this.state,o=r.viewerWidth,i=r.viewerHeight;"auto"===n&&(n=e.offsetWidth),n===o&&t===i||this.setState({viewerWidth:n,viewerHeight:t})}},{key:"watchStores",value:function(){return["Collection","Articles","Stats"]}},{key:"getStateFromFlux",value:function(e){var t=p(e,3),n=t[0],r=t[1],o=t[2],i=n.getState(),a=r.getState(),s=i.collection||{},f=o.getCollectionStats(s.id);return{loading:i.loading||a.loading,error:i.error||a.error,collection:s,files:r.getPublicFiles(),stats:f}}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.collection,r=e.files,o=e.stats,i=e.viewerWidth,s=e.viewerHeight,f=e.currentFile,c=void 0===f?0:f,p=e.error,d=r[c]||{},h=d.description,g=d.fileTitle,v={entityId:n.id,entityType:"collection",entityDefaultCitation:n.citation};return a.a.createElement(l.a,u({citationData:v,description:h,downloadAllUrl:n.downloadUrl,error:p,fileTitle:g,files:r,loading:t,stats:o,title:n.title,updateCurrentFile:this.handle("updateCurrentFile"),url:n.url,viewerHeight:s,viewerWidth:i},this.props))}},{key:"trackView",value:function(){var e=this.props.flux.getActions("Collection"),t=this.state.collection;t.id&&e.trackView(t.id)}},{key:"updateCurrentFile",value:function(e){this.setState({currentFile:e})}}])&&d(n.prototype,r),o&&d(n,o),t}(f.a);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e,t,n){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}b=x,m="propTypes",w={flux:o.a.object.isRequired},m in b?Object.defineProperty(b,m,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[m]=w;var N=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=_(this,(e=P(t)).call.apply(e,[this].concat(o)))).state=n.getFluxState(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),n=t,(r=[{key:"watchStores",value:function(){return["Articles","Stats"]}},{key:"componentDidMount",value:function(){j(P(t.prototype),"componentDidMount",this).call(this),window.addEventListener("resize",this.handle("onResize")),setTimeout(this.handle("onResize"),0)}},{key:"componentWillUnmount",value:function(){j(P(t.prototype),"componentWillUnmount",this).call(this),window.removeEventListener("resize",this.handle("onResize"))}},{key:"componentDidUpdate",value:function(){setTimeout(this.handle("onResize"),0)}},{key:"onResize",value:function(){var e=Object(s.findDOMNode)(this).parentNode,t=this.props.height,n=this.props.width,r=this.state,o=r.viewerWidth,i=r.viewerHeight;"auto"===n&&(n=e.offsetWidth),n===o&&t===i||this.setState({viewerWidth:n,viewerHeight:t})}},{key:"getStateFromFlux",value:function(e){var t=S(e,2),n=t[0],r=t[1],o=n.getState(),i=o.loading,a=o.error,s=o.articles||[],f={};return s&&s.length&&s.forEach((function(e){f[e.id]=r.getArticleStats(e.id)})),{loading:i,error:a,articles:s,stats:f,files:n.getPublicFiles()}}},{key:"getAppProps",value:function(){var e=this.state,t=e.articles,n=e.loading,r=e.files,o=e.viewerWidth,i=e.viewerHeight,a=e.currentFile,s=void 0===a?0:a,f=e.error,l=r[s],c=l||{},u=c.description,p=c.fileTitle,d=l?l.article:t[0],h=d||{},g=h.title,v=h.url,y=this.state.stats,b=void 0,m=void 0,w=void 0;return d&&(b={entityId:d.id,entityType:"article",entityDefaultCitation:d.citation},m=d.downloadUrl,w=d.size,y=y[d.id]),{loading:n,files:r,title:g,citationData:b,viewerWidth:o,viewerHeight:i,currentFile:s,downloadAllUrl:m,url:v,stats:y,error:f,totalSize:w,description:u,fileTitle:p,onTrack:this.handle("trackView"),updateCurrentFile:this.handle("updateCurrentFile")}}},{key:"render",value:function(){var e=this.getAppProps();return a.a.createElement(l.a,k({},e,this.props))}},{key:"trackView",value:function(){var e=this.props.flux.getActions("Articles"),t=this.state.articles[0];t&&e.trackView(t.id)}},{key:"updateCurrentFile",value:function(e){this.setState({currentFile:e})}}])&&E(n.prototype,r),o&&E(n,o),t}(f.a);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t,n){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=z(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}A(N,"propTypes",{flux:o.a.object.isRequired,showTitle:o.a.bool}),A(N,"defaultProps",{showTitle:!0});!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=F(this,(e=z(t)).call.apply(e,[this].concat(o)))).state=n.getFluxState(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),n=t,(r=[{key:"watchStores",value:function(){return["Collection","Articles","Stats"]}},{key:"getStateFromFlux",value:function(e){var t=M(e,2),n=t[0],r=t[1],o=n.getState(),i=r.getState();return{loading:i.loading,error:!!i.error&&!!o.error,articles:i.articles||[],collection:o.collection||{},files:r.getPublicFiles()}}},{key:"componentDidMount",value:function(){I(z(t.prototype),"componentDidMount",this).call(this),window.addEventListener("resize",this.handle("onResize")),setTimeout(this.handle("onResize"),0)}},{key:"componentWillUnmount",value:function(){I(z(t.prototype),"componentWillUnmount",this).call(this),window.removeEventListener("resize",this.handle("onResize"))}},{key:"componentDidUpdate",value:function(){setTimeout(this.handle("onResize"),0)}},{key:"render",value:function(){var e=Object.assign({},this.props,this.getAppProps());return a.a.createElement(l.a,D({},e,{updateCurrentFile:this.handle("onUpdateCurrentFile")}))}},{key:"onResize",value:function(){var e=Object(s.findDOMNode)(this).parentNode,t=this.props.height,n=this.props.width,r=this.state,o=r.viewerWidth,i=r.viewerHeight;"auto"===n&&(n=e.offsetWidth),n===o&&t===i||this.setState({viewerWidth:n,viewerHeight:t})}},{key:"onUpdateCurrentFile",value:function(e){this.setState({currentFile:e})}},{key:"getAppProps",value:function(){var e=this.state,t=e.files[e.currentFile],n=t?t.article:e.articles[0],r={loading:e.loading,files:e.files,viewerWidth:e.viewerWidth,viewerHeight:e.viewerHeight,currentFile:e.currentFile,error:e.error,downloadAllUrl:null};return t&&(r.description=t.description,r.fileTitle=t.title),n&&(Object.assign(r,{title:n.title,citationData:{entityId:n.id,entityType:"article",entityDefaultCitation:n.citation},totalSize:n.size,url:n.url}),e.collection&&n.collectionId&&n.collectionId===e.collection.id&&(r.title=e.collection.title)),r}}])&&R(n.prototype,r),o&&R(n,o),t}(f.a),"propTypes",{flux:o.a.object.isRequired});n(492);n.d(t,"a",(function(){return N}))}}]);