!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function F(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function z(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Y(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function J(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function Q(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function te(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function ae(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function se(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function ue(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var le,pe,fe,de,he,ye,me=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return window.__stripeElementsController&&window.__stripeElementsController.reportIntegrationError(e),n.name="IntegrationError",Object.defineProperty(n,"message",{value:n.message,enumerable:!0}),n}return i(t,e),t}(Error),_e=me,ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"absurd";throw new Error(t)},be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]},Ee=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},Se=function(e){return e&&"object"===(void 0===e?"undefined":ge(e))&&(e.constructor===Array||e.constructor===Object)},ke=function(e){return Se(e)?Array.isArray(e)?e.slice(0,e.length):be({},e):e},Oe=function e(t){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];if(Array.isArray(r[0])&&t)return ke(r[0]);var i=Array.isArray(r[0])?[]:{};return r.forEach(function(n){n&&Object.keys(n).forEach(function(r){var o=i[r],a=n[r],s=Se(o)&&!(t&&Array.isArray(o));"object"===(void 0===a?"undefined":ge(a))&&s?i[r]=e(t)(o,ke(a)):void 0!==a?i[r]=Se(a)?e(t)(a):ke(a):void 0!==o&&(i[r]=o)})}),i}},Pe=(Oe(!1),Oe(!0)),Ae=function(e,t){for(var n={},r=0;r<t.length;r++)n[t[r]]=!0;for(var o=[],i=0;i<e.length;i++)n[e[i]]&&o.push(e[i]);return o},Ce=["aed","afn","all","amd","ang","aoa","ars","aud","awg","azn","bam","bbd","bdt","bgn","bhd","bif","bmd","bnd","bob","brl","bsd","btn","bwp","byr","bzd","cad","cdf","chf","clf","clp","cny","cop","crc","cuc","cup","cve","czk","djf","dkk","dop","dzd","egp","ern","etb","eur","fjd","fkp","gbp","gel","ghs","gip","gmd","gnf","gtq","gyd","hkd","hnl","hrk","htg","huf","idr","ils","inr","iqd","irr","isk","jmd","jod","jpy","kes","kgs","khr","kmf","kpw","krw","kwd","kyd","kzt","lak","lbp","lkr","lrd","lsl","ltl","lvl","lyd","mad","mdl","mga","mkd","mmk","mnt","mop","mro","mur","mvr","mwk","mxn","myr","mzn","nad","ngn","nio","nok","npr","nzd","omr","pab","pen","pgk","php","pkr","pln","pyg","qar","ron","rsd","rub","rwf","sar","sbd","scr","sdg","sek","sgd","shp","skk","sll","sos","srd","ssp","std","svc","syp","szl","thb","tjs","tmt","tnd","top","try","ttd","twd","tzs","uah","ugx","usd","uyu","uzs","vef","vnd","vuv","wst","xaf","xag","xau","xcd","xdr","xof","xpf","yer","zar","zmk","zmw","btc","jep","eek","ghc","mtl","tmm","yen","zwd","zwl","zwn","zwr"],je=Ce,Te=["AT","AU","BE","BR","CA","CH","DE","DK","EE","ES","FI","FR","GB","HK","IE","IN","IT","JP","LT","LU","LV","MX","NL","NZ","NO","PH","PL","PT","RO","SE","SG","SK","US"],Re=Te,Ie={live:"live",test:"test",unknown:"unknown"},Me=function(e){return/^pk_test_/.test(e)?Ie.test:/^pk_live_/.test(e)?Ie.live:Ie.unknown},qe=function(e){if(e===Ie.unknown)throw new _e("It looks like you're using an older Stripe key. In order to use this API, you'll need to use a modern API key, which is prefixed with 'pk_live_' or 'pk_test_'.\n    You can roll your publishable key here: https://dashboard.stripe.com/account/apikeys")},Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le=function(e,t,n){return"Invalid value for "+n.label+": "+(n.path.join(".")||"value")+" should be "+e+". You specified: "+t+"."},De=function(e){return{type:"valid",value:e,warnings:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]}},Fe=function(e){return{error:e,errorType:"full",type:"error"}},Be=function(e,t,n){var r=new _e(Le(e,t,n));return Fe(r)},Ue=function(e,t,n){return{expected:e,actual:String(t),options:n,errorType:"mismatch",type:"error"}},ze=function(e){return function(t,n){return void 0===t?De(t):e(t,n)}},He=function(e,t){return function(n,r){var o=e(n,r),i=t(n,r);if("error"===o.type&&"error"===i.type){if("mismatch"===o.errorType){if("mismatch"===i.errorType){var a=(o.options.path.join(".")||"value")+" should be "+o.expected,s=(i.options.path.join(".")||"value")+" should be "+i.expected,u=(o.options.path.join(".")||"value")+" as "+o.actual,c=(i.options.path.join(".")||"value")+" as "+i.actual;return Fe(new _e("Invalid value for "+r.label+": "+(a===s?a:a+" or "+s)+". You specified "+(u===c?u:u+" and "+c)+"."))}return Fe(i.error)}return Fe(o.error)}return"valid"===o.type?o:i}},We=function(e,t){return function(n,r){return n instanceof e?De(n):Ue("a "+t+" instance",n,r)}},Ke=function(e,t){return function(n,r){var o=we(e,function(e){return e===n});if(void 0===o){var i=t?"a recognized string.":"one of the following strings: "+e.join(", ");return Ue(i,n,r)}return De(o)}},Ye=function(e){return function(t,n){return"string"==typeof t&&0===t.indexOf(e)?De(t):Ue("a string starting with "+e,t,n)}},Ve=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ke(t,!1)},$e=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ke(t,!0)},Ge=Ve.apply(void 0,s(Re)),Je=Ve.apply(void 0,s(je)),Qe=(Ve.apply(void 0,s(Object.keys(Ie))),function(e,t){return"string"==typeof e?De(e):Ue("a string",e,t)}),Ze=function(e,t){return function(n,r){return void 0===n?De(t()):e(n,r)}},Xe=function(e,t){return"boolean"==typeof e?De(e):Ue("a boolean",e,t)},et=function(e,t){return"number"==typeof e&&e===parseInt(e,10)?De(e):Ue("an amount in the currency's subunit",e,t)},tt=function(e,t){return e&&"object"===(void 0===e?"undefined":xe(e))?De(e):Ue("an object",e,t)},nt=function(e){return function(t,n){if(Array.isArray(t)){return t.map(function(t,r){return e(t,Ne({},n,{path:[].concat(s(n.path),[String(r)])}))}).reduce(function(e,t){return"error"===e.type?e:"error"===t.type?t:De([].concat(s(e.value),[t.value]),[].concat(s(e.warnings),s(t.warnings)))},De([]))}return Ue("array",t,n)}},rt=function(e){return function(t){return function(n,r){if(Array.isArray(n)){var o=t(n,r);if("valid"===o.type)for(var i={},a=0;a<o.value.length;a+=1){var s=o.value[a];if("object"===(void 0===s?"undefined":xe(s))&&s&&"string"==typeof s[e]){var u=s[e];if(i[u])return Fe(new _e("Duplicate value for "+e+": "+u+". The property '"+e+"' of '"+r.path.join(".")+"' has to be unique."));i[u]=!0}}return o}return Ue("array",n,r)}}},ot=function(e){return function(t,n){return void 0===t?De(void 0):Ue("used in "+e+" instead",t,n)}},it=function(e){return function(t){return function(n,r){if(n&&"object"===(void 0===n?"undefined":xe(n))&&!Array.isArray(n)){var o=n,i=we(Object.keys(o),function(e){return!t[e]});if(i&&e)return Fe(new _e("Invalid "+r.label+" parameter: "+[].concat(s(r.path),[i]).join(".")+" is not an accepted parameter."));var u=De({});return i&&(u=Object.keys(o).reduce(function(e,n){return t[n]?e:De(e.value,[].concat(s(e.warnings),["Unrecognized "+r.label+" parameter: "+[].concat(s(r.path),[n]).join(".")+" is not a recognized parameter. This may cause issues with your integration in the future."]))},u)),Object.keys(t).reduce(function(e,n){if("error"===e.type)return e;var i=t[n],u=i(o[n],Ne({},r,{path:[].concat(s(r.path),[n])}));return"valid"===u.type&&void 0!==u.value?De(Ne({},e.value,a({},n,u.value)),[].concat(s(e.warnings),s(u.warnings))):"valid"===u.type?De(e.value,[].concat(s(e.warnings),s(u.warnings))):u},u)}return Ue("an object",n,r)}}},at=it(!0),st=it(!1),ut=function(e,t,n,r){var o=r||{},i=e(t,{origin:o.origin||"",element:o.element||"",label:n,path:[]});return"valid"===i.type?i:"full"===i.errorType?i:{type:"error",errorType:"full",error:new _e(Le(i.expected,i.actual,i.options))}},ct=function(e,t,n,r){var o=ut(e,t,n,r);switch(o.type){case"valid":return{value:o.value,warnings:o.warnings};case"error":throw o.error;default:return ve(o)}},lt=function(e){return/^http(s)?:\/\//.test(e)},pt=function(e){if(!lt(e))return null;var t=document.createElement("a");t.href=e;var n=t.protocol,r=t.host,o=/:80$/,i=/:443$/;return"http:"===n&&o.test(r)?r=r.replace(o,""):"https:"===n&&i.test(r)&&(r=r.replace(i,"")),{host:r,protocol:n,origin:n+"//"+r}},ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=pt(e);return!!n&&n.host!==(t||window.location.host)},dt=function(e,t){if("/"===t[0]){var n=pt(e);return n?""+n.origin+t:t}return""+e.replace(/\/[^\/]*$/,"/")+t},ht={CARD_ELEMENT:"CARD_ELEMENT",CONTROLLER:"CONTROLLER",METRICS_CONTROLLER:"METRICS_CONTROLLER",PAYMENT_REQUEST_ELEMENT:"PAYMENT_REQUEST_ELEMENT",PAYMENT_REQUEST:"PAYMENT_REQUEST",IBAN_ELEMENT:"IBAN_ELEMENT",IDEAL_BANK_ELEMENT:"IDEAL_BANK_ELEMENT",AUTHORIZE_WITH_URL:"AUTHORIZE_WITH_URL",THREEDS2_EAP:"THREEDS2_EAP"},yt=ht,mt=function(e){return"https://js.stripe.com/v3/"+(e||"")},_t=function(e){switch(e){case"CARD_ELEMENT":return mt("elements-inner-card-f13dac5ce417be7aeba96d8689d1bfc3.html");case"CONTROLLER":return mt("controller-902622199d77c0319d6bb5b271d70f64.html");case"METRICS_CONTROLLER":return"https://js.stripe.com/v2/m/outer.html";case"PAYMENT_REQUEST_ELEMENT":return mt("elements-inner-payment-request-3fc3f1933de3ec19f95354d30e807312.html");case"PAYMENT_REQUEST":return mt("payment-request-inner-76ec3ddd5ae8712329af69a730a019a4.html");case"IBAN_ELEMENT":return mt("elements-inner-iban-31f404d23c065ec4c8ad14d90ff4a4ef.html");case"IDEAL_BANK_ELEMENT":return mt("elements-inner-ideal-bank-c125a5c6bb772dcd29a4b0d766a5aad6.html");case"AUTHORIZE_WITH_URL":return mt("authorize-with-url-inner-433922102c4377895bedc9a7d13aad64.html");case"THREEDS2_EAP":return mt("threeds2-eap-inner-88469c35608f9345ee197d3959409fe8.html");default:return ve(e)}},vt=_t,bt={card:"card",cardNumber:"cardNumber",cardExpiry:"cardExpiry",cardCvc:"cardCvc",postalCode:"postalCode",iban:"iban",idealBank:"idealBank",idealBankSecondary:"idealBankSecondary",paymentRequestButton:"paymentRequestButton"},gt=bt,wt=[gt.card,gt.cardNumber,gt.cardExpiry,gt.cardCvc,gt.postalCode],Et=wt,St=pt("https://js.stripe.com/v3/"),kt=St?St.origin:"",Ot={family:"font-family",src:"src",unicodeRange:"unicode-range",style:"font-style",variant:"font-variant",stretch:"font-stretch",weight:"font-weight",display:"font-display"},Pt=Object.keys(Ot).reduce(function(e,t){return e[Ot[t]]=t,e},{}),At=[gt.idealBank,gt.idealBankSecondary],Ct=0,jt=function(e){return""+e+Ct++},Tt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?(parseInt(t,10)^16*Math.random()>>parseInt(t,10)/4).toString(16):"00000000-0000-4000-8000-000000000000".replace(/[08]/g,e)},Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It=function e(t,n){var r=[];return Object.keys(t).forEach(function(o){var i=t[o],a=n?n+"["+o+"]":o;if(i&&"object"===(void 0===i?"undefined":Rt(i))){var s=e(i,a);""!==s&&(r=[].concat(u(r),[s]))}else void 0!==i&&null!==i&&(r=[].concat(u(r),[a+"="+encodeURIComponent(String(i))]))}),r.join("&").replace(/%20/g,"+")},Mt=It,qt=n(2),Nt=n.n(qt),xt=window.Promise?Promise:Nt.a,Lt=xt,Dt=n(6),Ft=n.n(Dt),Bt=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ut=function(e,t){var n={};t.forEach(function(e){var t=Bt(e,2),r=t[0],o=t[1];r.split(/\s+/).forEach(function(e){e&&(n[e]=n[e]||o)})}),e.className=Ft()(e.className,n)},zt=function(e,t){e.style.cssText=Object.keys(t).map(function(e){return e+": "+t[e]+" !important;"}).join(" ")},Ht=function(e){try{return window.parent.frames[e]}catch(e){return null}},Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kt=function(e){var t=e.frameId,n=e.controllerId,r=e.type,o=kt,i=void 0;"controller"===r?i=Ht(t):"group"===r?i=Ht(n):"outer"===r?i=window.frames[t]:"inner"===r&&(o="*",i=window.parent),i&&i.postMessage(JSON.stringify(Wt({},e,{__stripeJsV3:!0})),o)},Yt=function(e){try{var t="string"==typeof e?JSON.parse(e):e;return t.__stripeJsV3?t:null}catch(e){return null}},Vt=(n(7),function(e,t){var n=e._isUserError||"IntegrationError"===e.name;throw t&&!n&&t.report("fatal.uncaught_error",{iframe:!1,name:e.name,element:"outer",message:e.message||e.description,fileName:e.fileName,lineNumber:e.lineNumber,columnNumber:e.columnNumber,stack:e.stack&&e.stack.substring(0,1e3)}),e}),$t=function(e,t){return function(n){try{return e.call(this,n)}catch(e){return Vt(e,t||this&&this._controller)}}},Gt=function(e,t){return function(n,r){try{return e.call(this,n,r)}catch(e){return Vt(e,t||this&&this._controller)}}},Jt=function(e,t){return function(n,r,o){try{return e.call(this,n,r,o)}catch(e){return Vt(e,t||this&&this._controller)}}},Qt=function(e,t){return function(){try{for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.call.apply(e,[this].concat(r))}catch(e){return Vt(e,t||this&&this._controller)}}},Zt=function e(){var t=this;c(this,e),this._emit=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t._callbacks[e]||[]).forEach(function(e){var t=e.fn;if(t._isUserCallback)try{t.apply(void 0,r)}catch(e){throw e._isUserError=!0,e}else t.apply(void 0,r)}),t},this._once=function(e,n){var r=function r(){t._off(e,r),n.apply(void 0,arguments)};return t._on(e,r,n)},this._removeAllListeners=function(){return t._callbacks={},t},this._on=function(e,n,r){return t._callbacks[e]=t._callbacks[e]||[],t._callbacks[e].push({original:r,fn:n}),t},this._userOn=function(e,n){if("string"!=typeof e)throw new _e("When adding an event listener, the first argument should be a string event name.");if("function"!=typeof n)throw new _e("When adding an event listener, the second argument should be a function callback.");return n._isUserCallback=!0,t._on(e,n)},this._hasRegisteredListener=function(e){return t._callbacks[e]&&t._callbacks[e].length>0},this._off=function(e,n){if(n){for(var r=t._callbacks[e],o=void 0,i=0;i<r.length;i++)if(o=r[i],o.fn===n||o.original===n){r.splice(i,1);break}}else delete t._callbacks[e];return t},this._callbacks={};var n=Gt(this._userOn),r=Gt(this._off),o=Gt(this._once),i=$t(this._hasRegisteredListener),a=$t(this._removeAllListeners),s=Qt(this._emit);this.on=this.addListener=this.addEventListener=n,this.off=this.removeListener=this.removeEventListener=r,this.once=o,this.hasRegisteredListener=i,this.removeAllListeners=a,this.emit=s},Xt=Zt,en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nn=function(e){function t(e,n,r){p(this,t);var o=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.type=e,o.loaded=!1,o._controllerId=n,o._persistentMessages=[],o._queuedMessages=[],o._requests={},o.id=o._generateId(),o._iframe=o._createIFrame(r),o._on("load",function(){o.loaded=!0,o._ensureMounted(),o.loaded&&(o._persistentMessages.forEach(function(e){return o._send(e)}),o._queuedMessages.forEach(function(e){return o._send(e)}),o._queuedMessages=[])}),o}return d(t,e),tn(t,[{key:"_generateId",value:function(){return jt("__privateStripeFrame")}},{key:"send",value:function(e){this._send({message:e,type:"outer",frameId:this.id,controllerId:this._controllerId})}},{key:"sendPersistent",value:function(e){this._ensureMounted();var t={message:e,type:"outer",frameId:this.id,controllerId:this._controllerId};this._persistentMessages=[].concat(l(this._persistentMessages),[t]),this.loaded&&Kt(t)}},{key:"action",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=jt(e);return new Lt(function(o,i){t._requests[r]={resolve:o,reject:i},t._send({message:{action:"stripe-frame-action",payload:{type:e,nonce:r,options:n}},type:"outer",frameId:t.id,controllerId:t._controllerId})})}},{key:"resolve",value:function(e,t){this._requests[e]&&this._requests[e].resolve(t)}},{key:"_send",value:function(e){this._ensureMounted(),this.loaded?Kt(e):this._queuedMessages=[].concat(l(this._queuedMessages),[e])}},{key:"appendTo",value:function(e){e.appendChild(this._iframe)}},{key:"unmount",value:function(){this.loaded=!1,this._emit("unload")}},{key:"destroy",value:function(){this.unmount();var e=this._iframe.parentElement;e&&e.removeChild(this._iframe),this._emit("destroy")}},{key:"_ensureMounted",value:function(){this._isMounted()||this.unmount()}},{key:"_isMounted",value:function(){return!!document.body&&document.body.contains(this._iframe)}},{key:"_createIFrame",value:function(e){var t=window.location.href.toString(),n=pt(t),r=n?n.origin:"",o=e.queryString&&"string"==typeof e.queryString?e.queryString:Mt(en({},e,{origin:r,referrer:t,controllerId:this._controllerId})),i=document.createElement("iframe");return i.setAttribute("frameborder","0"),i.setAttribute("allowTransparency","true"),i.setAttribute("scrolling","no"),i.setAttribute("name",this.id),i.setAttribute("allowpaymentrequest","true"),i.src=vt(this.type)+"#"+o,i}}]),t}(Xt),rn=nn,on=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),an=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},sn={border:"none",margin:"0",padding:"0",width:"1px","min-width":"100%",overflow:"hidden",display:"block",visibility:"hidden",position:"fixed",height:"1px","pointer-events":"none"},un=function(e){function t(e,n,r){h(this,t);var o=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));if(o.autoload=r.autoload||!1,"complete"===document.readyState)o._ensureMounted();else{var i=o._ensureMounted.bind(o);document.addEventListener("DOMContentLoaded",i),window.addEventListener("load",i),setTimeout(i,5e3)}return o}return m(t,e),on(t,[{key:"_ensureMounted",value:function(){an(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_ensureMounted",this).call(this),this._isMounted()||this._autoMount()}},{key:"_autoMount",value:function(){if(document.body)this.appendTo(document.body);else if("complete"===document.readyState||"interactive"===document.readyState)throw new _e("Stripe.js requires that your page has a <body> element.");this.autoload&&(this.loaded=!0)}},{key:"_createIFrame",value:function(e){var n=an(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_createIFrame",this).call(this,e);return n.setAttribute("aria-hidden","true"),n.setAttribute("allowpaymentrequest","true"),n.setAttribute("tabIndex","-1"),zt(n,sn),n}}]),t}(rn),cn=un,ln=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pn=function(e){function t(){return _(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),ln(t,[{key:"_generateId",value:function(){return this._controllerId}}]),t}(cn),fn=pn,dn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hn=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},yn={border:"none",margin:"0",padding:"0",width:"1px","min-width":"100%",overflow:"hidden",display:"block"},mn=function(e){function t(){return g(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,e),dn(t,[{key:"update",value:function(e){this.send({action:"stripe-user-update",payload:e})}},{key:"updateStyle",value:function(e){var t=this;Object.keys(e).forEach(function(n){t._iframe.style[n]=e[n]})}},{key:"focus",value:function(){this.loaded&&this.send({action:"stripe-user-focus",payload:{}})}},{key:"blur",value:function(){this.loaded&&(this._iframe.contentWindow.blur(),this._iframe.blur())}},{key:"clear",value:function(){this.send({action:"stripe-user-clear",payload:{}})}},{key:"_createIFrame",value:function(e){var n=hn(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_createIFrame",this).call(this,e);return n.setAttribute("title","Secure payment input frame"),zt(n,yn),n}}]),t}(rn),_n=mn,vn=function(e){e.preventDefault()},bn=[32,33,34,35,36,37,38,39,40],gn=function(e){bn.indexOf(e.keyCode)>=0&&vn(e)},wn={capture:!0,passive:!1},En=function(){return window.addEventListener("wheel",vn,wn),window.addEventListener("touchmove",vn,wn),window.addEventListener("keydown",gn),function(){window.removeEventListener("wheel",vn,wn),window.removeEventListener("touchmove",vn,wn),window.removeEventListener("keydown",gn)}},Sn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),kn=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},On=function(e){return{display:e?"block":"none",visibility:"visible",position:"fixed","z-index":"2147483647",top:"0",left:"0",width:"100%",height:"100%",margin:"0px",padding:"0px",border:"0px none transparent","overflow-x":"hidden","overflow-y":"auto"}},Pn=On(!1),An=On(!0),Cn=function(e){function t(e,n,r){S(this,t);var o=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return o._mountAfterBody=function(){if(!o._isMounted())if(document.body)o.appendTo(document.body);else if("complete"===document.readyState||"interactive"===document.readyState)throw new _e("Stripe.js requires that your page has a <body> element.")},o._autoMount=function(){"complete"===document.readyState?o._mountAfterBody():(document.addEventListener("DOMContentLoaded",o._mountAfterBody),window.addEventListener("load",o._mountAfterBody))},o._tryRestoreBodyScroll=function(){o.restoreBodyScroll&&(o.restoreBodyScroll(),o.restoreBodyScroll=null)},o.show=function(){o.restoreBodyScroll=En(),zt(o._iframe,An)},o.hide=function(){zt(o._iframe,Pn),o._tryRestoreBodyScroll()},o.destroy=function(){o._tryRestoreBodyScroll(),kn(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",o).call(o)},o.restoreBodyScroll=null,o._autoMount(),o}return O(t,e),Sn(t,[{key:"_createIFrame",value:function(e){var n=kn(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_createIFrame",this).call(this,e);return zt(n,Pn),n}}]),t}(rn),jn=Cn,Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),In=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},Mn={display:"block",position:"absolute","z-index":"1000",width:"1px","min-width":"100%",margin:"2px 0 0 0",padding:"0",border:"none",overflow:"hidden"},qn=function(e){function t(){return P(this,t),A(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),Rn(t,[{key:"updateStyle",value:function(e){var t=this;Object.keys(e).forEach(function(n){t._iframe.style[n]=e[n]})}},{key:"update",value:function(e){this.send({action:"stripe-user-update",payload:e})}},{key:"_createIFrame",value:function(e){var n=In(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_createIFrame",this).call(this,Tn({},e,{isSecondaryFrame:!0}));return zt(n,Mn),n.style.height="0",n}}]),t}(rn),Nn=qn,xn=function(e){var t=pt(e),n=t?t.host:"";return"stripe.com"===n||!!n.match(/\.stripe\.(com|me)$/)},Ln=function(e,t){var n=pt(e),r=pt(t);return!(!n||!r)&&n.origin===r.origin},Dn=function(e){return Ln(e,"https://js.stripe.com/v3/")},Fn=function(e){return Dn(e)||xn(e)},Bn=["button","checkbox","file","hidden","image","submit","radio","reset"],Un=function(e){var t=e.tagName;if(e.isContentEditable||"TEXTAREA"===t)return!0;if("INPUT"!==t)return!1;var n=e.getAttribute("type");return-1===Bn.indexOf(n)},zn=Un,Hn=function(e){return/(MSIE ([0-9]{1,}[.0-9]{0,})|Trident\/)/i.test(e)},Wn=function(e){return/SamsungBrowser/.test(e)},Kn=function(e){return/iPad|iPhone/i.test(e)&&!Hn(e)},Yn=function(e){return/Android/i.test(e)&&!Hn(e)},Vn=window.navigator.userAgent,$n=(function(e){/Edge\//i.test(e)}(Vn),Hn(Vn),function(e){return/MSIE 9/i.test(e)}(Vn)),Gn=(function(e){/MSIE ([0-9]{1,}[.0-9]{0,})/i.test(e)}(Vn),Kn(Vn)),Jn=(function(e){Kn(e)||Yn(e)}(Vn),Yn(Vn),function(e){/Android 4\./i.test(e)&&!/Chrome/i.test(e)&&Yn(e)}(Vn),function(e){/^((?!chrome|android).)*safari/i.test(e)&&Wn(e)}(Vn),function(e){/Firefox\//i.test(e)}(Vn),function(e){/Firefox\/(50|51|[0-4]?\d)([^\d]|$)/i.test(e)}(Vn),Wn(Vn)),Qn=(function(e){Yn(e)&&/Chrome\/(6[6-9]|[7-9]\d+|[1-9]\d{2,})/i.test(e)}(Vn),window.ApplePaySession,le={},j(le,gt.card,{unique:!0,conflict:[gt.cardNumber,gt.cardExpiry,gt.cardCvc,gt.postalCode],beta:!1}),j(le,gt.cardNumber,{unique:!0,conflict:[gt.card],beta:!1}),j(le,gt.cardExpiry,{unique:!0,conflict:[gt.card],beta:!1}),j(le,gt.cardCvc,{unique:!0,conflict:[gt.card],beta:!1}),j(le,gt.postalCode,{unique:!0,conflict:[gt.card],beta:!1}),j(le,gt.paymentRequestButton,{unique:!0,conflict:[],beta:!1}),j(le,gt.iban,{unique:!0,conflict:[],beta:!1}),j(le,gt.idealBank,{unique:!0,conflict:[],beta:!1}),le),Zn=Qn,Xn=(pe={},T(pe,gt.card,yt.CARD_ELEMENT),T(pe,gt.cardNumber,yt.CARD_ELEMENT),T(pe,gt.cardExpiry,yt.CARD_ELEMENT),T(pe,gt.cardCvc,yt.CARD_ELEMENT),T(pe,gt.postalCode,yt.CARD_ELEMENT),T(pe,gt.paymentRequestButton,yt.PAYMENT_REQUEST_ELEMENT),T(pe,gt.iban,yt.IBAN_ELEMENT),T(pe,gt.idealBank,yt.IDEAL_BANK_ELEMENT),pe),er=Xn,tr=["brand"],nr=["country","bankName"],rr=(fe={},R(fe,gt.card,tr),R(fe,gt.cardNumber,tr),R(fe,gt.iban,nr),fe),or=R({},gt.idealBank,{secondary:gt.idealBankSecondary}),ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sr=!1,ur=function(e,t){return document.activeElement===e._iframe||e._iframe.parentElement&&document.activeElement===t},cr=function e(t){M(this,e),lr.call(this);var n=t.apiKey,r=t.stripeAccount,o=t.stripeJsId;this._id=jt("__privateStripeController"),this._stripeJsId=o,this._apiKey=n,this._stripeAccount=r,this._controllerFrame=new fn(yt.CONTROLLER,this._id,ar({},t)),this._frames={},this._requests={},this._setupPostMessage(),this._handleMessage=$t(this._handleMessage,this)},lr=function(){var e=this;this._sendCAReq=function(t){var n=jt(t.tag);return new Lt(function(r,o){e._requests[n]={resolve:r,reject:o},e._controllerFrame.send({action:"stripe-safe-controller-action-request",payload:{nonce:n,caReq:t}})})},this.action={retrievePaymentIntent:function(t){return e._sendCAReq({tag:"RETRIEVE_PAYMENT_INTENT",value:t})},confirmPaymentIntent:function(t){return e._sendCAReq({tag:"CONFIRM_PAYMENT_INTENT",value:t})},fetchLocale:function(t){return e._sendCAReq({tag:"FETCH_LOCALE",value:t})},updateCSSFonts:function(t){return e._sendCAReq({tag:"UPDATE_CSS_FONTS",value:t})},createApplePaySession:function(t){return e._sendCAReq({tag:"CREATE_APPLE_PAY_SESSION",value:t})},retrieveSource:function(t){return e._sendCAReq({tag:"RETRIEVE_SOURCE",value:t})},tokenizeWithElement:function(t){return e._sendCAReq({tag:"TOKENIZE_WITH_ELEMENT",value:t})},tokenizeWithData:function(t){return e._sendCAReq({tag:"TOKENIZE_WITH_DATA",value:t})},createSourceWithElement:function(t){return e._sendCAReq({tag:"CREATE_SOURCE_WITH_ELEMENT",value:t})},createSourceWithData:function(t){return e._sendCAReq({tag:"CREATE_SOURCE_WITH_DATA",value:t})},createPaymentPage:function(t){return e._sendCAReq({tag:"CREATE_PAYMENT_PAGE",value:t})}},this.createElementFrame=function(t,n){var r=n.groupId,o=I(n,["groupId"]),i=new _n(t,e._id,ar({},o,{keyMode:Me(e._apiKey)}));return e._setupFrame(i,t,r)},this.createSecondaryElementFrame=function(t,n){var r=n.groupId,o=I(n,["groupId"]),i=new Nn(t,e._id,o);return e._setupFrame(i,t,r)},this.createHiddenFrame=function(t,n){var r=new cn(t,e._id,n);return e._setupFrame(r,t)},this.createLightboxFrame=function(t,n){var r=new jn(t,e._id,n);return e._setupFrame(r,t)},this._setupFrame=function(t,n,r){return e._frames[t.id]=t,e._controllerFrame.sendPersistent({action:"stripe-user-createframe",payload:{newFrameId:t.id,frameType:n,groupId:r}}),t._on("unload",function(){e._controllerFrame.sendPersistent({action:"stripe-frame-unload",payload:{unloadedFrameId:t.id}})}),t._on("destroy",function(){delete e._frames[t.id],e._controllerFrame.sendPersistent({action:"stripe-frame-destroy",payload:{destroyedFrameId:t.id}})}),t._on("load",function(){e._controllerFrame.sendPersistent({action:"stripe-frame-load",payload:{loadedFrameId:t.id}}),e._controllerFrame.loaded&&t.send({action:"stripe-controller-load",payload:{}})}),t},this.report=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e._controllerFrame.send({action:"stripe-controller-report",payload:{event:t,data:n}})},this.warn=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e._controllerFrame.send({action:"stripe-controller-warn",payload:{args:n}})},this.controllerFor=function(){return"outer"},this._setupPostMessage=function(){window.addEventListener("message",function(t){var n=t.data,r=t.origin,o=Yt(n);o&&Ln(kt,r)&&e._handleMessage(o)})},this._handleMessage=function(t){var n=t.controllerId,r=t.frameId,o=t.message,i=e._frames[r];if(n===e._id)switch(o.action){case"stripe-frame-event":var a=o.payload,s=a.event,u=a.data;if(i){if(Gn){var c=i._iframe.parentElement,l=c&&c.querySelector(".__PrivateStripeElement-input");if("focus"===s&&!sr&&!ur(i,l)){l&&l.focus(),sr=!0;break}if("blur"===s&&sr){sr=!1;break}"blur"===s&&setTimeout(function(){var e=document.activeElement;if(e&&!ur(i,l)&&!zn(e)){var t=c&&c.querySelector(".__PrivateStripeElement-safariInput");t&&(t.focus(),t.blur()),e.focus()}},400)}i._emit(s,u)}break;case"stripe-frame-action-complete":i&&i.resolve(o.payload.nonce,o.payload.result);break;case"stripe-frame-error":throw new _e(o.payload.message);case"stripe-integration-error":i&&i._emit("__privateIntegrationError",{message:o.payload.message});break;case"stripe-controller-load":e._controllerFrame._emit("load"),Object.keys(e._frames).forEach(function(t){return e._frames[t].send({action:"stripe-controller-load",payload:{}})});break;case"stripe-safe-controller-action-response":e._requests[o.payload.nonce]&&e._requests[o.payload.nonce].resolve(o.payload.caRes);break;case"stripe-safe-controller-action-error":if(e._requests[o.payload.nonce]){var p=o.payload.caErr;"object"===(void 0===p?"undefined":ir(p))&&null!==p&&"string"==typeof p.name&&"IntegrationError"===p.name?e._requests[o.payload.nonce].reject(new _e("string"==typeof p.message?p.message:"")):e._requests[o.payload.nonce].reject(p)}}}},pr=cr,fr=function(e){function t(){q(this,t);var e=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="NetworkError",e}return x(t,e),t}(Error),dr=fr,hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yr={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},mr=function(e){return Object.keys(yr).forEach(function(t){e.setRequestHeader(t,yr[t])}),e},_r=function e(t){return new Lt(function(n,r){var o=t.method,i=t.url,a=t.data,s=t.withCredentials,u=a?Mt(a):"",c=!window.XMLHttpRequest||ft(i)&&void 0===(new XMLHttpRequest).withCredentials,l="GET"===o&&u?i+"?"+u:i,p="GET"===o?"":u;if(c){var f=new window.XDomainRequest;try{f.open(o,l)}catch(e){r(e)}f.onerror=function(){n({responseText:JSON.stringify({error:{type:"api_error"}})})},f.onload=function(){n({status:200,responseText:f.responseText})},setTimeout(function(){f.send(p)},0)}else{var d=new XMLHttpRequest;s&&(d.withCredentials=s),d.open(o,l,!0),mr(d),d.onreadystatechange=function(){4===d.readyState&&(d.onreadystatechange=function(){},0===d.status?s?r(new dr):e(hr({},t,{withCredentials:!0})).then(n,r):n(d))};try{d.send(p)}catch(e){r(e)}}})},vr=_r,br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr=function(e,t){var n=/@font-face[ ]?{[^}]*}/g,r=e.match(n);if(!r)throw new _e("No @font-face rules found in file from "+t);return r},wr=function(e){var t=e.match(/@font-face[ ]?{([^}]*)}/);return t?t[1]:""},Er=function(e,t){var n=e.replace(/\/\*.*\*\//g,"").trim(),r=n.length&&/;$/.test(n)?n:n+";",o=r.match(/((([^;(]*\([^()]*\)[^;)]*)|[^;]+)+)(?=;)/g);if(!o)throw new _e("Found @font-face rule containing no valid font-properties in file from "+t);return o},Sr=function(e,t){var n=e.indexOf(":");if(-1===n)throw new _e("Invalid css declaration in file from "+t+': "'+e+'"');var r=e.slice(0,n).trim(),o=Pt[r];if(!o)throw new _e("Unsupported css property in file from "+t+': "'+r+'"');return{property:o,value:e.slice(n+1).trim()}},kr=function(e,t){var n=e.reduce(function(e,n){var r=Sr(n,t),o=r.property,i=r.value;return br({},e,L({},o,i))},{});return["family","src"].forEach(function(e){if(!n[e])throw new _e("Missing css property in file from "+t+': "'+Ot[e]+'"')}),n},Or=function(e){return vr({url:e,method:"GET"}).then(function(e){return e.responseText}).then(function(t){return gr(t,e).map(function(t){var n=wr(t),r=Er(n,e);return kr(r,e)})})},Pr=Or,Ar=function(e,t){if(!(e&&e in Zn))throw new _e("A valid Element name must be provided. Valid Elements are:\n"+Object.keys(Zn).filter(function(e){return!Zn[e].beta}).join(", ")+"; you passed: "+e+".");if(Zn[e].unique&&-1!==t.indexOf(e))throw new _e("Can only create one Element of type "+e+".");var n=Ae(t,Zn[e].conflict);if(n.length){var r=n[0];throw new _e("Cannot create an Element of type "+e+" after an Element of type "+r+" has already been created.")}},Cr=function(e,t){var n=Array.prototype.slice.call(document.querySelectorAll("a[href], area[href], input:not([disabled]),\n  select:not([disabled]), textarea:not([disabled]), button:not([disabled]),\n  object, embed, *[tabindex], *[contenteditable]")),r=[];n.forEach(function(e){var t=e.getAttribute("tabindex"),n=!t||parseInt(t,10)>=0,o=e.getBoundingClientRect(),i=o.width>0&&o.height>0;n&&i&&r.push(e)});var o=Ee(r,function(t){return t===e||e.contains(t)});return r[o+("previous"===t?-1:1)]},jr=Cr,Tr="14px",Rr=function(e){var t=e.split(" ").map(function(e){return parseInt(e.trim(),10)});return 1===t.length||2===t.length?2*t[0]:3===t.length||4===t.length?t[0]+t[2]:0},Ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1.2em",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=Rr(n);if("string"==typeof e&&/^[0-9.]+px$/.test(e)){return parseFloat(e.toString().replace(/[^0-9.]/g,""))+r+"px"}var o=parseFloat(e.toString().replace(/[^0-9.]/g,"")),i=parseFloat(Tr.replace(/[^0-9.]/g,"")),a=parseFloat(t.toString().replace(/[^0-9.]/g,"")),s=void 0;if("string"==typeof t&&/^(\d+|\d*\.\d+)px$/.test(t))s=a;else if("string"==typeof t&&/^(\d+|\d*\.\d+)em$/.test(t))s=a*i;else if("string"==typeof t&&/^(\d+|\d*\.\d+)%$/.test(t))s=a/100*i;else{if("string"!=typeof t||!/^[\d.]+$/.test(t)&&!/^\d*\.(px|em|%)$/.test(t))return"100%";s=i}var u=o*s+r,c=u+"px";return/^[0-9.]+px$/.test(c)?c:"100%"},Mr=Ir,qr=function(e,t){return e?window.getComputedStyle(e,t):null},Nr=qr,xr=function(){if(!window.PaymentRequest)return null;if(/CriOS\/59/.test(navigator.userAgent))return null;if(/.*\(.*; wv\).*Chrome\/(?:53|54)\.\d.*/g.test(navigator.userAgent))return null;var e=window.PaymentRequest;return e.prototype.canMakePayment||(e.prototype.canMakePayment=function(){return Lt.resolve(!1)}),e}(),Lr={CAN_MAKE_PAYMENT:"CAN_MAKE_PAYMENT"},Dr=function(){try{return window.location.origin===window.top.location.origin}catch(e){return!1}},Fr=void 0,Br=function(e){var t={};return function(n){if(void 0!==t[n])return t[n];var r=e(n);return t[n]=r,r}}(function(e){return window.ApplePaySession.canMakePaymentsWithActiveCard(e).then(function(e){return Fr&&Fr("payreq.can_make_payment_native_response",{available:e}),e})}),Ur=function(e,t,n,r){if(Fr=r,window.ApplePaySession){if(Dr()){if(n&&"https:"!==window.location.protocol)return window.console&&window.console.warn("To test Apple Pay, you must serve this page over HTTPS."),Lt.resolve(!1);if(window.ApplePaySession.supportsVersion(2)){var o=t?[e,t]:[e],i="merchant."+o.join(".")+".stripe";return Br(i).then(function(r){if(n&&!r&&window.console){var o=t?"or stripeAccount parameter ("+t+") ":"";window.console.warn("Either you do not have a card saved to your Wallet or the current domain ("+e+") "+o+"is not registered for Apple Pay. Visit https://dashboard.stripe.com/account/apple_pay to register this domain.")}return r})}return n&&window.console&&window.console.warn("This version of Safari does not support ApplePay JS version 2."),Lt.resolve(!1)}return Lt.resolve(!1)}return Lt.resolve(!1)},zr=null,Hr=function(e,t){return null!==zr?Lt.resolve(zr):xr?Jn?Lt.resolve(!1):t&&"https:"!==window.location.protocol?(window.console&&window.console.warn("To test Payment Request, you must serve this page over HTTPS."),Lt.resolve(!1)):e?e.action(Lr.CAN_MAKE_PAYMENT).then(function(e){var t=e.available;return zr="boolean"==typeof t&&t}):Lt.resolve(!1):Lt.resolve(!1)},Wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kr={merchantCapabilities:["supports3DS"],displayItems:[]},Yr={amount:et,label:Qe,pending:ze(Xe)},Vr={amount:et,label:Qe,pending:ze(Xe),id:Ze(Qe,function(){return jt("shippingOption")}),detail:Ze(Qe,function(){return""})},$r={displayItems:ze(nt(st(Yr))),shippingOptions:ze(rt("id")(nt(st(Vr)))),total:ze(st(Yr))},Gr={shipping:"shipping",delivery:"delivery",pickup:"pickup"},Jr={requestShipping:ze(Xe),requestPayerName:ze(Xe),requestPayerEmail:ze(Xe),requestPayerPhone:ze(Xe),shippingType:ze(Ve.apply(void 0,D(Object.keys(Gr))))},Qr=Wr({},Jr,{displayItems:ze(nt(st(Yr))),shippingOptions:ze(rt("id")(nt(st(Vr)))),total:st(Yr),currency:Je,country:Ge,jcbEnabled:ze(Xe)}),Zr={success:"success",fail:"fail",invalid_payer_name:"invalid_payer_name",invalid_payer_email:"invalid_payer_email",invalid_payer_phone:"invalid_payer_phone",invalid_shipping_address:"invalid_shipping_address"},Xr=Wr({},$r,{status:Ve.apply(void 0,D(Object.keys(Zr)))}),eo=Wr({},$r,{currency:ze(Je)}),to=st(Xr),no=at(eo),ro=st(Qr),oo=["mastercard","visa"],io=["AT","AU","BE","CA","CH","DE","DK","ES","FI","FR","GB","HK","IE","IT","JP","LU","NL","NO","NZ","PT","SE","SG","US"],ao=function(e,t){var n="US"===e||t?["discover","diners","jcb"].concat(oo):oo;return-1!==io.indexOf(e)?["amex"].concat(F(n)):n},so=function(e,t){return ao(e,t).reduce(function(e,t){return"mastercard"===t?[].concat(F(e),["masterCard"]):"diners"===t?e:[].concat(F(e),[t])},[])},uo={bif:1,clp:1,djf:1,gnf:1,jpy:1,kmf:1,krw:1,mga:1,pyg:1,rwf:1,vnd:1,vuv:1,xaf:1,xof:1,xpf:1},co=function(e){var t=uo[e.toLowerCase()]||100;return{unitSize:1/t,fractionDigits:Math.log(t)/Math.log(10)}},lo=function(e,t){var n=co(t);return(e*n.unitSize).toFixed(n.fractionDigits)},po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fo=function(e,t){return{amount:lo(e.amount,t.currency),label:e.label,type:e.pending?"pending":"final"}},ho=function(e,t){return{amount:lo(e.amount,t.currency),label:e.label,detail:e.detail,identifier:e.id}},yo=function(e){return function(t){return t[e]&&"string"==typeof t[e]?t[e].toUpperCase():null}},mo=(de={},B(de,Zr.success,0),B(de,Zr.fail,1),B(de,Zr.invalid_payer_name,2),B(de,Zr.invalid_shipping_address,3),B(de,Zr.invalid_payer_phone,4),B(de,Zr.invalid_payer_email,4),de),_o=(he={},B(he,Gr.pickup,"storePickup"),B(he,Gr.shipping,"shipping"),B(he,Gr.delivery,"delivery"),he),vo={total:function(e){return fo(e.total,e)},lineItems:function(e){return e.displayItems?e.displayItems.map(function(t){return fo(t,e)}):[]},shippingMethods:function(e){return e.shippingOptions?e.shippingOptions.map(function(t){return ho(t,e)}):[]}},bo={shippingType:function(e){var t=e.shippingType;if(!t)return null;var n=_o[t];if(void 0!==n)return n;throw new _e("Invalid value for shippingType: "+t)},requiredBillingContactFields:function(e){return e.requestPayerName?["postalAddress"]:null},requiredShippingContactFields:function(e){var t=[];return e.requestShipping&&t.push("postalAddress"),e.requestPayerEmail&&t.push("email"),e.requestPayerPhone&&t.push("phone"),t.length?t:null},countryCode:yo("country"),currencyCode:yo("currency"),merchantCapabilities:function(e){return function(t){return t[e]||null}}("merchantCapabilities"),supportedNetworks:function(e){return so(e.country,e.jcbEnabled||!1)}},go={status:function(e){return mo[e.status]||0}},wo=po({},vo,bo),Eo=po({},vo,go),So=function(e){var t=po({},Kr,e);return Object.keys(wo).reduce(function(e,n){var r=wo[n],o=r(t);return null!==o?po({},e,B({},n,o)):e},{})},ko=function(e){return Object.keys(Eo).reduce(function(t,n){var r=Eo[n],o=r(e);return null!==o?po({},t,B({},n,o)):t},{})},Oo=function(e){return"string"==typeof e?e:null},Po=function(e){return e?Oo(e.phoneNumber):null},Ao=function(e){return e?Oo(e.emailAddress):null},Co=function(e){return e?[e.givenName,e.familyName].filter(function(e){return e&&"string"==typeof e}).join(" "):null},jo=function(e){if(e){var t=e.addressLines,n=e.countryCode,r=e.postalCode,o=e.administrativeArea,i=e.locality,a=e.phoneNumber,s=Oo(n);return{addressLine:Array.isArray(t)?t.reduce(function(e,t){return"string"==typeof t?[].concat(U(e),[t]):e},[]):[],country:s?s.toUpperCase():"",postalCode:Oo(r)||"",recipient:Co(e)||"",region:Oo(o)||"",city:Oo(i)||"",phone:Oo(a)||"",sortingCode:"",dependentLocality:"",organization:""}}return null},To=function(e,t){if(e&&t.shippingOptions){var n=e.identifier,r=e.label;return t.shippingOptions.filter(function(e){return e.id===n&&e.label===r})[0]||null}return null},Ro=function(e,t){var n=e.shippingContact,r=e.shippingMethod,o=e.billingContact;return{shippingOption:To(r,t),shippingAddress:jo(n),payerEmail:Ao(n),payerPhone:Po(n),payerName:Co(o),methodName:"apple-pay"}},Io=Ro,Mo=function(e){if(!e||!e.length)throw new _e("When requesting shipping information, you must specify shippingOptions once a shipping address is selected.\nEither provide shippingOptions in stripe.paymentRequest(...) or listen for the shippingaddresschange event and provide shippingOptions to the updateWith callback there.");return e},qo=Mo,No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Do={australia:"AU",austria:"AT",canada:"CA",schweiz:"CH",deutschland:"DE",hongkong:"HK",saudiarabia:"SA",espaa:"ES",singapore:"SG",us:"US",usa:"US",unitedstatesofamerica:"US",unitedstates:"US",england:"GB",gb:"GB",uk:"GB",unitedkingdom:"GB"},Fo=function(e){function t(e,n,r,o,i,a,s,u){H(this,t);var c=W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));Bo.call(c),c._controllerReport=e,c._controllerWarn=n,c._createApplePaySession=r,c._tokenizeWithData=o,c._createSourceWithData=i,c._showCalledByButtonElement=null,c._authentication=a,c._mids=s,c._report("payreq.options",{options:u});var l=ct(ro,u||{},"paymentRequest()"),p=l.value;return l.warnings.forEach(function(e){return c._controllerWarn(e)}),c._cachedCanMakePayment=null,c._canMakePaymentCalled=!1,c._initialPaymentRequest=p,c._isShowing=!1,c._initializeSessionState(),c}return K(t,e),Lo(t,[{key:"_initializeSessionState",value:function(){this._paymentRequestOptions=xo({},this._initialPaymentRequest,{status:Zr.success}),this._privateSession=null,this._privateShippingOption=null;var e=this._paymentRequestOptions.shippingOptions;e&&e.length&&(this._privateShippingOption=e[0])}},{key:"_setupSession",value:function(e,t){var n=this;e.addEventListener("validatemerchant",$t(this._validateMerchant(e,t))),e.addEventListener("paymentauthorized",$t(this._paymentAuthorized(e))),e.addEventListener("cancel",$t(function(){n._report("payreq.show_rejected"),n._isShowing=!1,n._emit("cancel")})),e.addEventListener("shippingcontactselected",$t(this._shippingContactSelected(e))),e.addEventListener("shippingmethodselected",$t(this._shippingMethodSelected(e)))}}]),t}(Xt),Bo=function(){var e=this;this.canMakePayment=$t(function(){return null===e._cachedCanMakePayment?Ur(window.location.hostname,e._authentication.stripeAccount,Me(e._authentication.apiKey)===Ie.test,e._report).then(function(t){return e._canMakePaymentCalled=!0,e._cachedCanMakePayment=t,e._report("payreq.can_make_payment_response",{available:e._cachedCanMakePayment}),e._cachedCanMakePayment?{applePay:!0}:null}):Lt.resolve().then(function(){return e._canMakePaymentCalled=!0,e._report("payreq.can_make_payment_response",{available:e._cachedCanMakePayment,cached:!0}),e._cachedCanMakePayment?{applePay:!0}:null})}),this.update=$t(function(t){if(e._isShowing)throw new _e("You cannot update Payment Request options while the payment sheet is showing.");var n=ct(no,t,"PaymentRequest update()"),r=n.value;n.warnings.forEach(function(t){return e._controllerWarn(t)}),e._initialPaymentRequest=Pe(e._paymentRequestOptions,r),e._initializeSessionState(),e._report("payreq.update",{updates:t})}),this.show=$t(function(){null===e._showCalledByButtonElement&&(e._showCalledByButtonElement=!1);var t=e._showCalledByButtonElement;if(e._usedByButtonElement&&!e._showCalledByButtonElement&&(e._report("payreq.show_called_with_button"),e._controllerWarn("Do not call show() yourself if you are using the paymentRequestButton Element.\nThe Element handles showing the payment sheet.")),!e._canMakePaymentCalled)throw new _e("You must first check the Payment Request API's\navailability using paymentRequest.canMakePayment() before calling show().");if(!e._cachedCanMakePayment)throw new _e("Payment Request is not available in this browser.");e._initializeSessionState();try{e._controllerWarn(So(e._paymentRequestOptions));var n=new window.ApplePaySession(2,So(e._paymentRequestOptions));e._privateSession=n,e._setupSession(n,t),n.begin(),e._isShowing=!0,e._report("payreq.show",{listeners:Object.keys(e._callbacks).sort()})}catch(e){throw"Must create a new ApplePaySession from a user gesture handler."===e.message?new _e("show() must be called from a user gesture handler (such as a click handler, after the user clicks a button)."):e}}),this.abort=$t(function(){e._privateSession&&(e._privateSession.abort(),e._report("payreq.abort"))}),this._report=function(t,n){e._controllerReport(t,xo({},n,null!==e._showCalledByButtonElement?{usesButtonElement:e._showCalledByButtonElement}:{},{impl:"applepay"}))},this._elementShow=function(){e._showCalledByButtonElement=!0,e.show()},this._registerElement=function(){e._usedByButtonElement=!0},this._validateMerchant=function(t,n){return function(r){e._createApplePaySession({data:{validation_url:r.validationURL,domain_name:window.location.hostname,display_name:e._paymentRequestOptions.total.label},usesButtonElement:n}).then(function(n){switch(n.type){case"object":t.completeMerchantValidation(JSON.parse(n.object.session));break;case"error":e._handleValidationError(t)(n.error);break;default:ve(n)}},e._handleValidationError(t))}},this._handleValidationError=function(t){return function(n){var r=n.message;t.abort(),"string"==typeof r?(e._controllerWarn(n.message),e._report("user_error.apple_pay_session_error",{error:n})):e._report("fatal.payreq.unexpected_error",{error:n})}},this._paymentAuthorized=function(t){return function(n){var r=n.payment;e._report("payreq.paymentauthorized");var o=e._showCalledByButtonElement?gt.paymentRequestButton:null;e._tokenizeWithData({type:"apple_pay",elementName:o,tokenData:xo({},r,{billingContact:e._normalizeContact(r.billingContact)}),mids:e._mids}).then(function(n){if("error"===n.type)t.completePayment(window.ApplePaySession.STATUS_FAILURE),e._report("fatal.payreq.on_error",{error:n.error});else{var o=e._normalizeContact(r.shippingContact),i=e._normalizeContact(r.billingContact);o&&e._paymentRequestOptions.requestShipping&&!o.countryCode&&t.completePayment(window.ApplePaySession.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS);var a=Io({shippingContact:o,billingContact:i},e._paymentRequestOptions);e._onToken(t)(xo({},a,{shippingOption:e._privateShippingOption,token:n.object}))}})}},this._normalizeContact=function(t){if(t&&"object"===(void 0===t?"undefined":No(t))&&t.country&&"string"==typeof t.country){var n=t.country.toLowerCase().replace(/[^a-z]+/g,""),r=void 0;return t.countryCode?"string"==typeof t.countryCode&&(r=t.countryCode.toUpperCase()):(r=Do[n])||e._report("fatal.payreq.missing_country_code",{country:t.country}),xo({},t,{countryCode:r})}return"object"===(void 0===t?"undefined":No(t))?t:null},this._onToken=function(t){return function(n){if(e._hasRegisteredListener("token")&&e._maybeEmitSourceOrToken("token",xo({},n,{complete:e._completePayment(t)})),e._hasRegisteredListener("source")){var r=n.token,o=z(n,["token"]),i=o.payerPhone,a=o.payerEmail,s=e._showCalledByButtonElement?gt.paymentRequestButton:null;e._createSourceWithData({elementName:s,type:"card",sourceData:{token:r.id,owner:{phone:i,email:a}},mids:e._mids}).then(function(n){"error"===n.type?(e._report("fatal.payreq.source_failed",{error:n.error,token:r}),t.completePayment(window.ApplePaySession.STATUS_FAILURE)):e._maybeEmitSourceOrToken("source",xo({},o,{source:n.object,complete:e._completePayment(t)}))})}}},this._maybeEmitSourceOrToken=function(t,n){e._isShowing&&e._emit(t,n)},this._completePayment=function(t){return function(n){var r=ct(to,{status:n},"status for PaymentRequest completion"),o=r.value;r.warnings.forEach(function(t){return e._controllerWarn(t)}),e._paymentRequestOptions=Pe(e._paymentRequestOptions,o);var i=ko(e._paymentRequestOptions),a=i.status;t.completePayment(a),e._isShowing=!1}},this._shippingContactSelected=function(t){return function(n){var r=Io({shippingContact:e._normalizeContact(n.shippingContact)},e._paymentRequestOptions).shippingAddress;if(e._hasRegisteredListener("shippingaddresschange")){var o={shippingAddress:r,updateWith:e._completeShippingContactSelection(t)};e._emit("shippingaddresschange",o)}else{qo(e._paymentRequestOptions.shippingOptions);var i=ko(e._paymentRequestOptions),a=i.total,s=i.lineItems,u=i.shippingMethods;t.completeShippingContactSelection(window.ApplePaySession.STATUS_SUCCESS,u,a,s)}}},this._completeShippingContactSelection=function(t){return function(n){var r=ct(to,n||{},"shipping address selection callback"),o=r.value;if(r.warnings.forEach(function(t){return e._controllerWarn(t)}),e._paymentRequestOptions=Pe(e._paymentRequestOptions,o),e._paymentRequestOptions.status===Zr.success){var i=qo(e._paymentRequestOptions.shippingOptions);e._privateShippingOption=i[0]}var a=ko(e._paymentRequestOptions),s=a.status,u=a.shippingMethods,c=a.total,l=a.lineItems;t.completeShippingContactSelection(s,u,c,l)}},this._shippingMethodSelected=function(t){return function(n){if(e._privateShippingOption=Io({shippingMethod:n.shippingMethod},e._paymentRequestOptions).shippingOption,e._hasRegisteredListener("shippingoptionchange")){var r={shippingOption:e._privateShippingOption,updateWith:e._completeShippingMethodSelection(t)};e._emit("shippingoptionchange",r)}else{var o=ko(e._paymentRequestOptions),i=o.total,a=o.lineItems;t.completeShippingMethodSelection(window.ApplePaySession.STATUS_SUCCESS,i,a)}}},this._completeShippingMethodSelection=function(t){return function(n){var r=ct(to,n||{},"shipping option selection callback"),o=r.value;r.warnings.forEach(function(t){return e._controllerWarn(t)}),e._paymentRequestOptions=Pe(e._paymentRequestOptions,o);var i=ko(e._paymentRequestOptions),a=i.status,s=i.total,u=i.lineItems;t.completeShippingMethodSelection(a,s,u)}}},Uo=Fo,zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ho=function(e){function t(e,n,r,o){V(this,t);var i=$(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));Wo.call(i),i._showCalledByButtonElement=null,i._authentication=n,i._controller=e,i._mids=r,i._report("payreq.options",{options:o}),i._cachedCanMakePayment=null,i._canMakePaymentCalled=!1;var a=ct(ro,o||{},"paymentRequest()"),s=a.value;if(a.warnings.forEach(function(e){return i._controller.warn(e)}),xr&&"https:"===window.location.protocol){i._controller.action.fetchLocale({locale:"auto"});var u=i._controller.createHiddenFrame(yt.PAYMENT_REQUEST,{authentication:n,mids:i._mids});i._setupPrFrame(u,s),i._prFrame=u}else i._prFrame=null;return i}return G(t,e),t}(Xt),Wo=function(){var e=this;this.canMakePayment=$t(function(){return null===e._cachedCanMakePayment?Hr(e._prFrame,Me(e._authentication.apiKey)===Ie.test).then(function(t){return e._canMakePaymentCalled=!0,e._cachedCanMakePayment=t,e._report("payreq.can_make_payment_response",{available:e._cachedCanMakePayment}),e._cachedCanMakePayment?{applePay:!1}:null}):Lt.resolve().then(function(){return e._canMakePaymentCalled=!0,e._report("payreq.can_make_payment_response",{available:e._cachedCanMakePayment,cached:!0}),e._cachedCanMakePayment?{applePay:!1}:null})}),this.update=$t(function(t){var n=e._prFrame;if(n){var r=ct(no,t,"PaymentRequest update()"),o=r.value;r.warnings.forEach(function(t){return e._controller.warn(t)}),n.send({action:"stripe-pr-update",payload:{data:o}})}e._report("payreq.update",{updates:t})}),this.show=$t(function(){if(null===e._showCalledByButtonElement&&(e._showCalledByButtonElement=!1),e._usedByButtonElement&&!e._showCalledByButtonElement&&(e._report("payreq.show_called_with_button"),e._controller.warn("Do not call show() yourself if you are using the paymentRequestButton Element.\nThe Element handles showing the payment sheet.")),!e._canMakePaymentCalled)throw new _e("You must first check the Payment Request API's\navailability using paymentRequest.canMakePayment() before calling show().");if(!e._cachedCanMakePayment||!e._prFrame)throw new _e("Payment Request is not available in this browser.");e._prFrame.send({action:"stripe-pr-show",payload:{data:{usesButtonElement:e._showCalledByButtonElement}}}),e._report("payreq.show",{listeners:Object.keys(e._callbacks).sort()})}),this.abort=$t(function(){e._prFrame&&(e._prFrame.send({action:"stripe-pr-abort",payload:{}}),e._report("payreq.abort"))}),this._report=function(t,n){e._controller.report(t,zo({},n,null!==e._showCalledByButtonElement?{usesButtonElement:e._showCalledByButtonElement}:{},{impl:"prapi"}))},this._elementShow=function(){e._showCalledByButtonElement=!0,e.show()},this._registerElement=function(){e._usedByButtonElement=!0},this._setupPrFrame=function(t,n){t.send({action:"stripe-pr-initialize",payload:{data:n}}),t._on("pr-cancel",function(){e._emit("cancel")}),t._on("pr-error",function(t){e._report("fatal.payreq.on_error",{error:"Would have emitted 'error' event, but 'error' is silenced."})}),t._on("pr-callback",function(r){var o=r.event,i=r.nonce,a=r.options;if("token"===o){var s=function(n){var r=ct(to,{status:n},"status for PaymentRequest completion"),o=r.value;r.warnings.forEach(function(t){return e._controller.warn(t)}),t.send({action:"stripe-pr-callback-complete",payload:{data:o,nonce:i}})};e._handleToken(t,a,s)}else if("shippingaddresschange"===o||"shippingoptionchange"===o)if(e._hasRegisteredListener(o)){var u=a.shippingAddress,c=a.shippingOption,l="shippingaddresschange"===o?{shippingAddress:u}:{shippingOption:c};e._emit(o,zo({},l,{updateWith:function(r){var a=ct(to,r||{},o+" callback"),s=a.value;a.warnings.forEach(function(t){return e._controller.warn(t)}),"shippingaddresschange"===o&&s.status===Zr.success&&qo(s.shippingOptions||n.shippingOptions),t.send({action:"stripe-pr-callback-complete",payload:{nonce:i,data:s}})}}))}else"shippingaddresschange"===o&&qo(n.shippingOptions),t.send({action:"stripe-pr-callback-complete",payload:{nonce:i,data:{status:Zr.success}}});else e._report("error.payreq.unknown_event",{event:o,options:a})})},this._handleToken=function(t,n,r){var o=n._privateOwner,i=Y(n,["_privateOwner"]);if(e._hasRegisteredListener("token")&&e._emit("token",zo({},i,{complete:r})),e._hasRegisteredListener("source")){var a=i.token,s=Y(i,["token"]),u=n.payerPhone||null,c=n.payerEmail||null,l=e._showCalledByButtonElement?gt.paymentRequestButton:null;e._controller.action.createSourceWithData({elementName:l,type:"card",sourceData:{token:a.id,owner:zo({phone:u,email:c},o||{})},mids:null}).then(function(t){"error"===t.type?(e._report("fatal.payreq.source_failed",{error:t.error,token:a}),r(Zr.fail)):e._emit("source",zo({},s,{source:t.object,complete:r}))})}}},Ko=Ho,Yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$o={base:ze(tt),complete:ze(tt),empty:ze(tt),invalid:ze(tt),paymentRequestButton:ze(tt)},Go={classes:ze(st({base:ze(Qe),complete:ze(Qe),empty:ze(Qe),focus:ze(Qe),invalid:ze(Qe),webkitAutofill:ze(Qe)})),hidePostalCode:ze(Xe),hideIcon:ze(Xe),style:ze(st($o)),iconStyle:ze(Ve("solid","default")),value:ze(He(Qe,tt)),__privateCvcOptional:ze(Xe),__privateValue:ze(He(Qe,tt)),__privateEmitIbanValue:ze(Xe),error:ze(st({type:Qe,code:ze(Qe),decline_code:ze(Qe),param:ze(Qe)})),locale:ot("elements()"),fonts:ot("elements()"),placeholder:ze(Qe),disabled:ze(Xe),placeholderCountry:ze(Qe),paymentRequest:ze(He(We(Uo,"stripe.paymentRequest(...)"),We(Ko,"stripe.paymentRequest(...)"))),supportedCountries:ze(nt(Qe))},Jo=st(Go),Qo={base:"StripeElement",focus:"StripeElement--focus",invalid:"StripeElement--invalid",complete:"StripeElement--complete",empty:"StripeElement--empty",webkitAutofill:"StripeElement--webkit-autofill"},Zo={margin:"0",padding:"0",border:"none",display:"block",background:"transparent",position:"relative",opacity:"1"},Xo={border:"none",display:"block",position:"absolute",height:"1px",top:"0",left:"0",padding:"0",margin:"0",width:"100%",opacity:"0",background:"transparent","pointer-events":"none","font-size":"16px"},ei=function(e){return parseFloat(e.toFixed(1))},ti=function(e){return/^\d+(\.\d*)?px$/.test(e)},ni=function(e){function t(e){Z(this,t);var n=X(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));ri.call(n);var r=e.controller,o=e.componentName,i=e.paymentRequest;n._controller=r,n._componentName=o;var a="paymentRequestButton"===n._componentName;if(a){if(!i)throw new _e("You must pass in a stripe.paymentRequest object in order to use this Element.");n._paymentRequest=i,n._paymentRequest._registerElement()}return n._createComponent(e,o),n._classes=Qo,n._changeClasses(e.classes||{}),n._lastBackgroundColor="",n._destroyed=!1,n._focused=!1,n._empty=!a,n._invalid=!1,n._complete=!1,n._autofilled=!1,n._lastSubmittedAt=null,n}return ee(t,e),Vo(t,[{key:"_checkDestroyed",value:function(){if(this._destroyed)throw new _e("This Element has already been destroyed. Please create a new one.")}},{key:"_isMounted",value:function(){return!!document.body&&document.body.contains(this._component)}},{key:"_mountToParent",value:function(e){var t=this._component.parentElement,n=this._isMounted();if(e===t){if(n)return;this.unmount(),this._mountTo(e)}else if(t){if(n)throw new _e("This Element is already mounted. Use `unmount()` to unmount the Element before re-mounting.");this.unmount(),this._mountTo(e)}else this._mountTo(e)}},{key:"_mountTo",value:function(e){var t=Date.now(),n=Nr(e,null),r=!!n&&"rtl"===n.getPropertyValue("direction");for(this._parent=e;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(this._component),this._frame.send({action:"stripe-user-mount",payload:{mountTime:t,rtl:r}}),this._findPossibleLabel(),this._updateClasses()}},{key:"_updateClasses",value:function(){this._parent&&Ut(this._parent,[[this._classes.base,!0],[this._classes.empty,this._empty],[this._classes.focus,this._focused],[this._classes.invalid,this._invalid],[this._classes.complete,this._complete],[this._classes.webkitAutofill,this._autofilled]])}},{key:"_removeClasses",value:function(){this._parent&&Ut(this._parent,[[this._classes.base,!1],[this._classes.empty,!1],[this._classes.focus,!1],[this._classes.invalid,!1],[this._classes.complete,!1],[this._classes.webkitAutofill,!1]])}},{key:"_findPossibleLabel",value:function(){var e=this._parent;if(e){var t=e.getAttribute("id"),n=void 0;if(t&&(n=document.querySelector("label[for='"+t+"']")),n)e.addEventListener("click",this.focus);else for(n=n||e.parentElement;n&&"LABEL"!==n.nodeName;)n=n.parentElement;n?(this._label=n,n.addEventListener("click",this.focus)):e.addEventListener("click",this.focus)}}},{key:"_changeClasses",value:function(e){var t={};return Object.keys(e).forEach(function(n){if(!Qo[n])throw new _e(n+" is not a customizable class name.\nYou can customize: "+Object.keys(Qo).join(", "));var r=e[n]||Qo[n];t[n]=r.replace(/\./g," ")}),this._classes=Yo({},this._classes,t),this}},{key:"_emitEvent",value:function(e,t){return this._emit(e,Yo({elementType:this._componentName},t))}},{key:"_setupEvents",value:function(){var e=this;this._frame._on("redirectfocus",function(t){var n=t.focusDirection,r=jr(e._component,n);r&&r.focus()}),this._frame._on("focus",function(){e._focused=!0,e._updateClasses()}),this._frame._on("blur",function(){e._focused=!1,e._updateClasses(),e._lastSubmittedAt&&"paymentRequestButton"===e._componentName&&(e._controller.report("payment_request_button.sheet_visible",{latency:new Date-e._lastSubmittedAt}),e._lastSubmittedAt=null)}),this._frame._on("submit",function(){if("paymentRequestButton"===e._componentName){e._lastSubmittedAt=new Date;var t=!1,n=!1;e._emitEvent("click",{preventDefault:function(){e._controller.report("payment_request_button.default_prevented"),t&&e._controller.warn("event.preventDefault() was called after the payment sheet was shown. Make sure to call it synchronously when handling the `click` event."),n=!0}}),!n&&e._paymentRequest&&(e._paymentRequest._elementShow(),t=!0)}else e._emitEvent("submit"),e._formSubmit()}),["ready","focus","blur","escape"].forEach(function(t){e._frame._on(t,function(){e._emitEvent(t)})}),this._frame._on("change",function(t){var n={};["error","value","empty","complete"].concat(Q(rr[e._componentName]||[])).forEach(function(e){return n[e]=t[e]}),e._emitEvent("change",n),e._empty=n.empty,e._invalid=!!n.error,e._complete=n.complete,e._updateClasses()}),this._frame._on("__privateIntegrationError",function(t){var n=t.message;e._emitEvent("__privateIntegrationError",{message:n})}),this._frame._on("dimensions",function(t){if(e._parent){var n=Nr(e._parent,null);if(n){var r=parseFloat(n.getPropertyValue("height")),o=t.height;if("border-box"===n.getPropertyValue("box-sizing")){var i=parseFloat(n.getPropertyValue("padding-top")),a=parseFloat(n.getPropertyValue("padding-bottom"));r=r-parseFloat(n.getPropertyValue("border-top"))-parseFloat(n.getPropertyValue("border-bottom"))-i-a}0!==r&&ei(r)<ei(o)&&e._controller.report("wrapper_height_mismatch",{height:o,outer_height:r});var s=e._component.getBoundingClientRect().height;0!==s&&0!==o&&ei(s)!==ei(o)&&(e._frame.updateStyle({height:o+"px"}),e._controller.report("iframe_height_update",{height:o,calculated_height:s}))}}}),this._frame._on("autofill",function(){if(e._parent){var t=e._parent.style.backgroundColor,n="#faffbd"===t||"rgb(250, 255, 189)"===t;e._lastBackgroundColor=n?e._lastBackgroundColor:t,e._parent.style.backgroundColor="#faffbd",e._autofilled=!0,e._updateClasses()}}),this._frame._on("autofill-cleared",function(){e._autofilled=!1,e._parent&&(e._parent.style.backgroundColor=e._lastBackgroundColor),e._updateClasses()})}},{key:"_handleOutsideClick",value:function(){this._secondaryFrame&&this._secondaryFrame.send({action:"stripe-outside-click",payload:{}})}},{key:"_createSecondFrame",value:function(e,t,n){var r=this._controller.createSecondaryElementFrame(e,Yo({},n,{componentName:t}));return r&&r.on&&r.on("height-change",function(e){r.updateStyle({height:e.height+"px"})}),r}},{key:"_createComponent",value:function(e,t){this._createElement(e,t),this._setupEvents(),this._updateFrameHeight(e,!0)}},{key:"_updateFrameHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("paymentRequestButton"===this._componentName){var n=e.style&&e.style.paymentRequestButton||{},r=n.height,o="string"==typeof r?r:void 0;(t||o)&&(this._frame.updateStyle({height:o||this._lastHeight||"40px"}),this._lastHeight=o||this._lastHeight)}else{var i=e.style&&e.style.base||{},a=i.lineHeight,s=i.fontSize,u=i.padding,c="string"!=typeof a||isNaN(parseFloat(a))?void 0:a,l="string"==typeof s?s:void 0,p="string"==typeof u?u:void 0;if(l&&!ti(l)&&this._controller.warn("The fontSize style you specified ("+l+") is not in px. We do not recommend using relative css units, as they will be calculated relative to our iframe's styles rather than your site's."),t||c||l){var f=-1===At.indexOf(this._componentName)?void 0:p||this._lastPadding,d=Mr(c||this._lastHeight,l||this._lastFontSize,f);this._frame.updateStyle({height:d}),this._lastFontSize=l||this._lastFontSize,this._lastHeight=c||this._lastHeight,this._lastPadding=f}}}},{key:"_createElement",value:function(e,t){var n=this,r=(e.classes,e.controller,e.paymentRequest,J(e,["classes","controller","paymentRequest"])),o=document.createElement("div");o.className="__PrivateStripeElement";var i=document.createElement("input");i.className="__PrivateStripeElement-input",i.setAttribute("aria-hidden","true"),i.disabled=!0;var a=document.createElement("input");a.className="__PrivateStripeElement-safariInput",a.setAttribute("aria-hidden","true"),a.setAttribute("tabindex","-1"),zt(o,Zo),zt(i,Xo),zt(a,Xo);var s=Nr(document.body),u=!!s&&"rtl"===s.getPropertyValue("direction"),c=er[t],l=Yo({},r,{rtl:u}),p=this._controller.createElementFrame(c,l);if(p._on("load",function(){i.disabled=!1}),i.addEventListener("focus",function(){p.focus()}),p.appendTo(o),or[t]){var f=or[t].secondary;this._secondaryFrame=this._createSecondFrame(c,f,Yo({},l,{primaryElementType:t})),this._secondaryFrame.appendTo(o),window.addEventListener("click",function(){return n._handleOutsideClick()})}o.appendChild(i),o.appendChild(a),this._component=o,this._frame=p,this._fakeInput=i}}]),t}(Xt),ri=function(){var e=this;this.mount=$t(function(t){e._checkDestroyed();var n=void 0;if(!t)throw new _e("Missing argument. Make sure to call mount() with a valid DOM element or selector.");if("string"==typeof t){var r=document.querySelectorAll(t);if(r.length>1&&e._controller.warn("The selector you specified ("+t+") applies to "+r.length+" DOM elements that are currently on the page.\nThe Stripe Element will be mounted to the first one."),!r.length)throw new _e("The selector you specified ("+t+") applies to no DOM elements that are currently on the page.\nMake sure the element exists on the page before calling mount().");n=r[0]}else{if(!t.appendChild)throw new _e("Invalid DOM element. Make sure to call mount() with a valid DOM element or selector.");n=t}if("INPUT"===n.nodeName)throw new _e("Stripe Elements must be mounted in a DOM element that\ncan contain child nodes. `input` elements are not permitted to have child\nnodes. Try using a `div` element instead.");if(n.children.length&&e._controller.warn("This Element will be mounted to a DOM element that contains child nodes."),e._paymentRequest){if(!e._paymentRequest._canMakePaymentCalled)throw new _e("For paymentRequest Elements, you must first check the Payment Request API's\navailability using paymentRequest.canMakePayment() before mounting the Element.");if(!e._paymentRequest._cachedCanMakePayment)throw new _e("The "+e._componentName+" Element is not available in the current environment.");e._mountToParent(n)}else e._mountToParent(n)}),this.update=$t(function(t){e._checkDestroyed();var n=ct(Jo,t||{},"element.update()"),r=n.value;if(n.warnings.forEach(function(t){return e._controller.warn(t)}),r){var o=r.classes,i=J(r,["classes"]);e._changeClasses(o||{}),e._updateFrameHeight(r),Object.keys(i).length&&(e._frame.update(i),e._secondaryFrame&&e._secondaryFrame.update(i))}return e}),this.focus=$t(function(t){return e._checkDestroyed(),t&&t.preventDefault(),document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),e._fakeInput.focus(),e}),this.blur=$t(function(){return e._checkDestroyed(),e._frame.blur(),e._fakeInput.blur(),e}),this.clear=$t(function(){return e._checkDestroyed(),e._frame.clear(),e}),this.unmount=$t(function(){e._checkDestroyed();var t=e._component.parentElement,n=e._label;return t&&(t.removeChild(e._component),t.removeEventListener("click",e.focus),e._removeClasses()),e._parent=null,n&&(n.removeEventListener("click",e.focus),e._label=null),e._secondaryFrame&&(e._secondaryFrame.unmount(),window.removeEventListener("click",e._handleOutsideClick)),e._fakeInput.disabled=!0,e._frame.unmount(),e}),this.destroy=$t(function(){return e._checkDestroyed(),e.unmount(),e._destroyed=!0,e._emitEvent("destroy"),e}),this._formSubmit=function(){for(var t=e._component.parentElement;t&&"FORM"!==t.nodeName;)t=t.parentElement;if(t){var n=document.createEvent("Event");n.initEvent("submit",!0,!0),t.dispatchEvent(n)}}},oi=ni,ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ai={locale:ze(Qe),fonts:ze(nt(tt))},si=st(ai),ui=function e(t,n){var r=this;ne(this,e),ci.call(this);var o=ct(si,n||{},"elements()"),i=o.value;o.warnings.forEach(function(e){return t.warn(e)}),t.report("elements",{options:n}),this._elements=[],this._id=jt("elements"),this._controller=t;var a=i.locale,s=i.fonts||[];this._controller.action.fetchLocale({locale:a||"auto"});var u=s.filter(function(e){return!e.cssSrc||"string"!=typeof e.cssSrc}),c=s.map(function(e){return e.cssSrc}).reduce(function(e,t){return"string"==typeof t?[].concat(te(e),[t]):e},[]).map(function(e){return lt(e)?e:dt(window.location.href,e)});return this._pendingFonts=c.length,this._commonOptions=ii({},i,{fonts:u}),c.forEach(function(e){if("string"==typeof e){var t=Date.now();Pr(e).then(function(n){r._controller.report("font.loaded",{load_time:Date.now()-t,font_count:n.length,css_src:e});var o=n.map(function(t){return ii({},t,{__privateCssSrc:e})});r._controller.action.updateCSSFonts({fonts:o,groupId:r._id}),r._commonOptions=ii({},r._commonOptions,{fonts:[].concat(te(r._commonOptions.fonts?r._commonOptions.fonts:[]),te(o))})}).catch(function(n){r._controller.report("error.font.not_loaded",{load_time:Date.now()-t,message:n&&n.message&&n.message,css_src:e}),r._controller.warn("Failed to load CSS file at "+e+".")})}}),this},ci=function(){var e=this;this.create=Gt(function(t,n){Ar(t,e._elements);var r=ct(Jo,n||{},"create()"),o=r.value;r.warnings.forEach(function(t){return e._controller.warn(t)});var i=!!e._pendingFonts,a=new oi(ii({},o,e._commonOptions,{controller:e._controller,componentName:t,groupId:e._id,wait:i}));return e._elements=[].concat(te(e._elements),[t]),a._on("destroy",function(){e._elements=e._elements.filter(function(e){return e!==t})}),a})},li=ui,pi=function(e,t,n,r){return window.ApplePaySession?new Uo(e.report,e.warn,e.action.createApplePaySession,e.action.tokenizeWithData,e.action.createSourceWithData,t,n,r):new Ko(e,t,n,r)},fi=pi,di=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("complete"===window.document.readyState)e();else{var n=!1,r=function(){n||(n=!0,e())};window.addEventListener("DOMContentLoaded",r),window.addEventListener("load",r),t&&setTimeout(r,5e3)}},hi=di,yi={payment_pages_beta_1:"payment_pages_beta_1",checkout_beta_1:"checkout_beta_1",checkout_beta_2:"checkout_beta_2",payment_intent_beta_1:"payment_intent_beta_1",payment_intent_beta_2:"payment_intent_beta_2",payment_intent_beta_3:"payment_intent_beta_3",acknowledge_ie9_deprecation:"acknowledge_ie9_deprecation",threeds_2_eap:"threeds_2_eap"},mi=Object.keys(yi),_i=function(e,t){return e.indexOf(t)>=0},vi={card:"card",ideal:"ideal",sepa_debit:"sepa_debit",three_d_secure:"three_d_secure"},bi=(ye={},re(ye,gt.card,vi.card),re(ye,gt.cardNumber,vi.card),re(ye,gt.cardExpiry,vi.card),re(ye,gt.cardCvc,vi.card),re(ye,gt.postalCode,vi.card),re(ye,gt.iban,vi.sepa_debit),re(ye,gt.idealBank,vi.ideal),ye),gi=function(e){return-1===Et.indexOf(e)},wi=function(e,t){return null!=t?t:gi(e)?null:bi[e]||null},Ei=function(e){var t=e.name,n=e.value,r=e.expiresIn,o=e.path,i=e.domain,a=new Date,s=r||31536e6;a.setTime(a.getTime()+s);var u=o||"/",c=(n||"").replace(/[^!#-+\--:<-[\]-~]/g,encodeURIComponent),l=encodeURIComponent(t)+"="+c+";expires="+a.toGMTString()+";path="+u;i&&(l+=";domain="+i),document.cookie=l},Si=function(e){var t=we(document.cookie.split("; "),function(t){var n=t.indexOf("=");return decodeURIComponent(t.substr(0,n))===e});if(t){var n=t.indexOf("=");return decodeURIComponent(t.substr(n+1))}return null},ki=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Oi="__privateStripeMetricsController",Pi={MERCHANT:"merchant",SESSION:"session"},Ai=function(){function e(){oe(this,e),this._muid=this._getID(Pi.MERCHANT),this._sid=this._getID(Pi.SESSION),this._id=jt(Oi),this._controllerFrame=new fn(yt.METRICS_CONTROLLER,this._id,{autoload:!0,queryString:this._buildFrameQueryString()}),this._establishMessageChannel(),this._startIntervalCheck(),setTimeout(this._testLatency.bind(this),2e3+500*Math.random())}return ki(e,[{key:"ids",value:function(){return{guid:this._guid||"NA",muid:this._muid||"NA",sid:this._sid||"NA"}}},{key:"_establishMessageChannel",value:function(){var e=this;window.addEventListener("message",function(t){try{var n=JSON.parse(t.data),r=n.originatingScript,o=n.payload;"m"===r&&(e._guid=o)}catch(e){}})}},{key:"_startIntervalCheck",value:function(){var e=this,t=window.location.href;setInterval(function(){var n=window.location.href;n!==t&&(e.send({action:"ping",payload:{sid:e._getID(Pi.SESSION),muid:e._getID(Pi.MERCHANT),title:document.title,referrer:document.referrer,url:document.location.href}}),t=n)},5e3)}},{key:"report",value:function(e,t){try{this.send({action:"track",payload:{sid:this._getID(Pi.SESSION),muid:this._getID(Pi.MERCHANT),url:document.location.href,source:e,data:t}})}catch(e){}}},{key:"send",value:function(e){var t=vt(yt.METRICS_CONTROLLER);Dn(t)&&this._controllerFrame.send(e)}},{key:"_testLatency",value:function(){var e=this,t=[],n=new Date,r=function r(){try{var o=new Date;t.push(o-n),t.length>=10&&(e.report("mouse-timings-10",t),document.removeEventListener("mousemove",r)),n=o}catch(e){}};document.addEventListener("mousemove",r)}},{key:"_extractMetaReferrerPolicy",value:function(){var e=document.querySelector("meta[name=referrer]");return null!=e&&e instanceof HTMLMetaElement?e.content.toLowerCase():null}},{key:"_extractUrl",value:function(e){var t=document.location.href;switch(e){case"origin":case"strict-origin":case"origin-when-cross-origin":case"strict-origin-when-cross-origin":return document.location.origin;case"unsafe-url":return t.split("#")[0];default:return t}}},{key:"_buildFrameQueryString",value:function(){var e=this._extractMetaReferrerPolicy(),t=this._extractUrl(e),n={url:t,title:document.title,referrer:document.referrer,muid:this._muid,sid:this._sid,preview:Fn(t)};return null!=e&&(n.metaReferrerPolicy=e),Object.keys(n).map(function(e){return null!=n[e]?e+"="+encodeURIComponent(n[e].toString()):null}).join("&")}},{key:"_getID",value:function(e){switch(e){case Pi.MERCHANT:try{var t=Si("__stripe_mid")||Tt();return Ei({name:"__stripe_mid",value:t,domain:"."+document.location.hostname}),t}catch(e){return"NA"}case Pi.SESSION:try{var n=Si("__stripe_sid")||Tt();return Ei({name:"__stripe_sid",value:n,domain:"."+document.location.hostname,expiresIn:18e5}),n}catch(e){return"NA"}default:throw new Error("Invalid ID type specified: "+e)}}}]),e}(),Ci=Ai,ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ri=function(e,t){switch(e.type){case"object":return{paymentIntent:e.object};case"error":return{error:Ti({},t?{payment_intent:t}:{},e.error)};default:return ve(e)}},Ii=function(e){var t=e.match(/^(pi_[^_]+)_secret_[^-]+$/);return t?{id:t[1],clientSecret:t[0]}:null},Mi=function(e,t){if("string"!=typeof e)return Ue("a client_secret string",e,t);var n=Ii(e);return null===n?Ue("a client secret of the form pi_${id}_secret_${secret}",e,t):De(n,[])},qi=function(e,t){if(null==e)return De(null);var n=e.type,r=ae(e,["type"]),o=Ti({},t,{path:[].concat(ie(t.path),["type"])}),i=Ze(Qe,function(){return null})(n,o);return"error"===i.type?i:De({type:i.value,data:r})},Ni=function(e){return function(t,n){if("object"===(void 0===t?"undefined":ji(t))&&null!==t){var r=t.source,o=t.source_data,i=ae(t,["source","source_data"]);if(null!=r&&"string"!=typeof r){var a=Ti({},n,{path:[].concat(ie(n.path),["source"])});return Be("string",void 0===r?"undefined":ji(r),a)}if(null!=o&&"object"!==(void 0===o?"undefined":ji(o))){var s=Ti({},n,{path:[].concat(ie(n.path),["source_data"])});return Be("object",void 0===o?"undefined":ji(o),s)}var u=Ti({},n,{path:[].concat(ie(n.path),["source_data"])}),c=qi(o,u);if("error"===c.type)return c;var l=c.value;return De({dataAndType:l,source:null==r?null:r,otherParams:Ti({},e,i)})}return null===t?Be("object","null",n):Be("object",void 0===t?"undefined":ji(t),n)}},xi=function(e){return function(t,n){if(void 0===t)return De({dataAndType:null,source:null,otherParams:{}});if("object"!==(void 0===t?"undefined":ji(t)))return Be("object",void 0===t?"undefined":ji(t),n);if(null===t)return Be("object","null",n);if(e){if(!t.payment_intent)return De({dataAndType:null,source:null,otherParams:t});var r=t.payment_intent,o=ae(t,["payment_intent"]),i=Ti({},n,{path:[].concat(ie(n.path),["payment_intent"])});return Ni(o)(r,i)}return t.payment_intent?Fe(new _e("The payment_intent parameter has been removed. To fix, move everything nested under the payment_intent parameter to the top-level object.")):Ni({})(t,n)}},Li=function(e){return new Lt(function(t,n){setTimeout(function(){t({type:"error",error:{code:"redirect_error",message:"Failed to redirect to "+e}})},1500),window.top.location.href=e})},Di=function(e,t,n){e.report("redirect_error",{initiator:t,error:n.error})},Fi={_frame:st({id:Qe}),_componentName:Qe},Bi=st(Fi),Ui=function(e){var t=ut(Bi,e,"");return"error"===t.type?null:t.value},zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi=function(e,t,n){if(null===e){if(null===t)throw new _e(n+": you must additionally specify which source type to create using source_data in the options.");return t}if(null===t)return e;if(t!==e)throw new _e(n+": you specified a source type of "+t+", but "+n+" will create a source of type "+e+".");return e},Ki=function(e,t,n,r,o){var i=ut(Bi,r,n);if("error"===i.type)return null;var a=i.value,s=ct(xi(e),o,n),u=s.value,c=u.dataAndType,l=u.source,p=u.otherParams;if(null!=l)throw new _e("When calling "+n+" on an Element, you can't pass in a pre-existing source ID, as a source will be created using the Element.");var f=a._componentName,d=a._frame.id,h=c?c.type:null,y=wi(f,h);return{confirmMode:{tag:"element",elementName:f,frameId:d,sourceType:Wi(t,y,n),sourceData:c?c.data:{}},otherParams:p}},Yi=function(e,t,n,r,o){var i=ct(xi(e),r,n),a=i.value,s=a.dataAndType,u=a.source,c=a.otherParams;if(null!==u&&null!==s)throw new _e(n+": Expected either source or source_data, but not both.");if(null!==s){var l=s.type,p=s.data;return{confirmMode:{tag:"sourceData",sourceType:Wi(t,l,n),sourceData:p},otherParams:c}}return null!==u?{confirmMode:{tag:"source",source:u},otherParams:c}:{confirmMode:{tag:"noSource"},otherParams:c}},Vi=function(e,t,n){return function(r,o){var i=Ki(e,t,n,r,o);if(i)return i;var a=Yi(e,t,n,r);if(a)return a;throw new _e("Expected: stripe."+n+"(intentSecret, element[, data]) or stripe."+n+"(intentSecret[, data]). Please see the docs for more usage examples https://stripe.com/docs/payments/dynamic-authentication")}},$i=function(e,t){return e.createLightboxFrame(yt.AUTHORIZE_WITH_URL,{url:t})},Gi=function(e,t,n){var r=Date.now(),o=$i(n,t);return o.show(),n.report("authorize_with_url.loading",{}),o._on("load",function(){n.report("authorize_with_url.loaded",{loadDuration:Date.now()-r})}),new Lt(function(e,t){o._once("authorize_with_url_done",function(t){return n.report("authorize_with_url.done",{shownDuration:Date.now()-r,success:!("error"in t)}),o.destroy(),e(t)})})},Ji=function(e,t,n){if("requires_source_action"!==t.status)return Lt.resolve({paymentIntent:t});var r=t.next_source_action;if("authorize_with_url"===r.type&&n===vi.card)return Gi(t.client_secret,r.value.url,e);if("authorize_with_url"===r.type&&n===vi.ideal){var o=function(n){return Di(e,"ideal redirect",n),Ri(n,t)};return Li(r.value.url).then(o)}return Lt.resolve({paymentIntent:t})},Qi=function(e){switch(e.type){case"error":var t=e.error;if("payment_intent_unexpected_state"===t.code&&"object"===Hi(t.payment_intent)&&null!=t.payment_intent&&"requires_source_action"===t.payment_intent.status){return{type:"object",object:t.payment_intent}}return e;case"object":return e;default:return ve(e)}},Zi=function(e,t){return function(n){var r=Qi(n);switch(r.type){case"error":return Lt.resolve(Ri(n));case"object":var o=r.object;return Ji(e,o,t);default:return ve(r)}}},Xi=function(e,t){var n=ct(Mi,e,"retrievePaymentIntent"),r=n.value;return t.action.retrievePaymentIntent(r).then(Ri)},ea=function(e,t){return function(n,r,o){var i=ct(Mi,n,"stripe.confirmPaymentIntent intent secret"),a=i.value,s=Vi(!1,null,"confirmPaymentIntent")(r,o);return e.action.confirmPaymentIntent(zi({},s,{intentSecret:a,expectedType:null,mids:t})).then(Ri)}},ta=function(e,t,n){return function(r,o,i){var a=ct(Mi,r,"stripe.handleCardPayment intent secret"),s=a.value,u=vi.card,c=Vi(n,u,"handleCardPayment")(o,i);return e.action.confirmPaymentIntent(zi({},c,{intentSecret:s,expectedType:u,mids:t})).then(Zi(e,u))}},na=function(e,t,n){return function(r,o,i){var a=ct(Mi,r,"stripe.handleSepaDebitPayment intent secret"),s=a.value,u=vi.sepa_debit,c=Vi(n,u,"handleSepaDebitPayment")(o,i);return e.action.confirmPaymentIntent(zi({},c,{intentSecret:s,expectedType:u,mids:t})).then(Zi(e,u))}},ra=function(e,t,n){return function(r,o,i){var a=ct(Mi,r,"stripe.handleIdealPayment intent secret"),s=a.value,u=vi.ideal,c=Vi(n,u,"handleIdealPayment")(o,i);return e.action.confirmPaymentIntent(zi({},c,{intentSecret:s,expectedType:u,mids:t})).then(Zi(e,u))}},oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ia=function(e,t){return function(n){var r=void 0;if("checkout_beta_2"===t){var o=ct(at({sku:ze(Qe),plan:ze(Qe),locale:ze(Qe),successUrl:Qe,cancelUrl:Qe}),n,"stripe.redirectToCheckout"),i=o.value,a=i.successUrl,s=i.cancelUrl,u=se(i,["successUrl","cancelUrl"]);r=oa({},u,{success_url:a,cancel_url:s})}else r=ct(at({sku:ze(Qe),plan:ze(Qe),locale:ze(Qe),success_url:Qe,cancel_url:Qe}),n,"stripe.redirectToCheckout").value;if(r.sku&&r.plan)throw new _e("stripe.redirectToCheckout: Expected either sku or plan, but not both.");if(!r.sku&&!r.plan)throw new _e("stripe.redirectToCheckout: You must provide either sku or plan.");return e.action.createPaymentPage(r).then(function(t){if("error"===t.type)return{error:t.error};var n=t.object.url,r=function(t){return Di(e,"redirectToCheckout",t),{error:t.error}};return Li(n).then(r)})}},aa=function(e){return e.createLightboxFrame(yt.THREEDS2_EAP,{})},sa=function(e){return Lt.resolve({jwt:"",bin:"424242"})},ua=function(e,t,n){var r=ct(st({source:Qe,amount:et,currency:Je,owner:st({name:Qe,address:Qe,phone:Qe})}),e,"attempt3DS2EAP"),o=(r.value,aa(t));return sa().then(function(e){var t=e.jwt,n=e.bin;return o.action("stripe-cardinal-3ds2-init",{jwt:t,bin:n})}).then(function(e){return console.log("SessionId:",e)}),Lt.resolve({source:{}})},ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la=function(e){switch(e.type){case"object":return{token:e.object};case"error":return{error:e.error};default:return ve(e)}},pa=function(e){return"object"===(void 0===e?"undefined":ca(e))&&null!==e?e:{}},fa=function(e,t){return function(n,r){var o=Ui(n);if(o){var i=o._frame.id,a=o._componentName,s=pa(r);return e.action.tokenizeWithElement({frameId:i,elementName:a,tokenData:s,mids:t}).then(la)}if("string"==typeof n){var u=n,c=pa(r);return e.action.tokenizeWithData({elementName:null,type:u,tokenData:c,mids:t}).then(la)}throw new _e("You must provide a Stripe Element or a valid token type to create a Token.")}},da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha=function(e){if(!e||"object"!==(void 0===e?"undefined":da(e)))return null;var t=e.type,n=ue(e,["type"]);return{type:"string"==typeof t?t:null,sourceData:n}},ya=function(e){switch(e.type){case"object":return{source:e.object};case"error":return{error:e.error};default:return ve(e)}},ma={source:st({id:Ye("src_"),client_secret:Ye("src_client_secret_")})},_a=st(ma),va=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ba=st({apiKey:Qe,stripeAccount:ze(Qe),__privateApiUrl:ze(Qe),betas:ze(nt($e.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(mi))))}),ga=null,wa=function(){return ga||(ga=new Ci),ga},Ea=function(){function e(t,n){var r=this;ce(this,e),Sa.call(this);var o=ct(ba,t||{},"Stripe()"),i=o.value,a=o.warnings,s=i.apiKey,u=i.stripeAccount,c=i.__privateApiUrl,l=i.betas;if(""===s)throw new _e("Please call Stripe() with your publishable key. You used an empty string.");if(0===s.indexOf("sk_"))throw new _e("You should not use your secret key with Stripe.js.\n        Please pass a publishable key instead.");hi(function(){r._ec||(r._ec=wa())}),this._apiKey=s,this._keyMode=Me(s),this._betas=l||[],this._stripeAccount=u||null,this._controller=new pr({apiKey:s,__privateApiUrl:c,stripeAccount:u,stripeJsId:e.stripeJsId}),a.forEach(function(e){return r._controller.warn(e)}),this._ensureHTTPS(),this._ensureStripeHosted(n),this._attachPaymentIntentMethods(this._betas),this._attachCheckoutMethods(this._betas),this._attach3DS2Methods(this._betas),this._warnIE9Deprecation()}return va(e,[{key:"_attachPaymentIntentMethods",value:function(e){var t=this,n=_i(this._betas,yi.payment_intent_beta_1)||_i(this._betas,yi.payment_intent_beta_2),r=this._mids(),o=$t(function(e){return Xi(e,t._controller)}),i=Jt(ea(this._controller,r)),a=Jt(ta(this._controller,r,n)),s=Jt(na(this._controller,r,n)),u=Jt(ra(this._controller,r,n));_i(this._betas,yi.payment_intent_beta_1)?(this.retrievePaymentIntent=o,this.fulfillPaymentIntent=a):(_i(this._betas,yi.payment_intent_beta_2)||_i(this._betas,yi.payment_intent_beta_3))&&(this.retrievePaymentIntent=o,this.handleCardPayment=a),_i(this._betas,yi.payment_intent_beta_3)&&(this.confirmPaymentIntent=i,this.handleSepaDebitPayment=s,this.handleIdealPayment=u)}},{key:"_attachCheckoutMethods",value:function(e){if(_i(this._betas,yi.payment_pages_beta_1)){var t=ia(this._controller,yi.payment_pages_beta_1);this.redirectToPaymentPage=t}if(_i(this._betas,yi.checkout_beta_1)){var n=ia(this._controller,yi.checkout_beta_1);this.redirectToCheckout=n}if(_i(this._betas,yi.checkout_beta_2)){var r=ia(this._controller,yi.checkout_beta_2);this.redirectToCheckout=r}}},{key:"_attach3DS2Methods",value:function(e){var t=this;if(_i(this._betas,yi.threeds_2_eap)){this._mids();this.attempt3DS2EAP=$t(function(e){return ua(e,t._controller)})}}},{key:"_warnIE9Deprecation",value:function(){var e=this._keyMode===Ie.live,t="Starting in December 2018, stripe.js v3 will no longer support IE9, per Microsoft's lifecycle policy.\n\nThis error is being thrown only in IE9 in testmode so that you have an opportunity to update your integration or your browser testing strategy.\n\nIf you want to suppress this error in testmode until December, initialize stripe.js with the `acknowledge_ie9_deprecation` beta:\nvar stripe = Stripe(key, {betas: ['acknowledge_ie9_deprecation']})";if($n&&!e&&!_i(this._betas,yi.acknowledge_ie9_deprecation))throw window.console&&console.error(t),new _e(t)}},{key:"_ensureHTTPS",value:function(){var e=window.location.protocol,t=-1!==["https:","file:"].indexOf(e),n=-1!==["localhost","127.0.0.1","0.0.0.0"].indexOf(window.location.hostname),r=this._keyMode===Ie.live,o="Live Stripe.js integrations must use HTTPS. For more information: https://stripe.com/docs/stripe-js/elements/quickstart#http-requirements";if(!t){if(r&&!n)throw this._controller.report("user_error.non_https_error",{protocol:e}),new _e(o);!r||n?window.console&&console.warn("You may test your Stripe.js integration over HTTP. However, live Stripe.js integrations must use HTTPS."):window.console&&console.warn(o)}}},{key:"_ensureStripeHosted",value:function(e){if(!e)throw this._controller.report("user_error.self_hosted"),new _e("Stripe.js must be loaded from js.stripe.com. For more information https://stripe.com/docs/stripe-js/reference#including-stripejs")}},{key:"_mids",value:function(){return this._ec?this._ec.ids():null}}]),e}();Ea.version=3,Ea.stripeJsId=Tt();var Sa=function(){var e=this;this.elements=$t(function(t){return new li(e._controller,t)}),this.createToken=Gt(function(t,n){var r=e._mids();return fa(e._controller,r)(t,n)}),this.createSource=Gt(function(t,n){var r=Ui(t);if(r){var o=r._frame.id,i=r._componentName,a=ha(n);if(!a&&gi(i))return Lt.reject(new _e("Please provide Source creation parameters to createSource."));var s=a||{type:null,sourceData:{}},u=s.type,c=s.sourceData;return e._controller.action.createSourceWithElement({frameId:o,elementName:i,type:u,sourceData:c,mids:e._mids()}).then(ya)}var l=ha(t);if(!l)return Lt.reject(new _e("Please provide either an Element or Source creation parameters to createSource."));var p=l.type,f=l.sourceData;return p?e._controller.action.createSourceWithData({elementName:null,type:p,sourceData:f,mids:e._mids()}).then(ya):Lt.reject(new _e("Please provide a source type to createSource."))}),this.retrieveSource=$t(function(t){var n=ct(_a,{source:t},"retrieveSource"),r=n.value;return n.warnings.forEach(function(t){return e._controller.warn(t)}),e._controller.action.retrieveSource(r).then(ya)}),this.paymentRequest=$t(function(t){return qe(e._keyMode),fi(e._controller,{apiKey:e._apiKey,stripeAccount:e._stripeAccount},e._mids(),t)})},ka=Ea,Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aa=function(){if(document.currentScript){var e=pt(document.currentScript.src);return!e||Fn(e.origin)}return!0}(),Ca=function(e,t){return new ka(Pa({apiKey:e},t&&"object"===(void 0===t?"undefined":Oa(t))?t:{}),Aa)};Ca.version=ka.version,window.Stripe&&2===window.Stripe.version&&!window.Stripe.StripeV3?window.Stripe.StripeV3=Ca:window.Stripe?window.console&&console.warn("It looks like Stripe.js was loaded more than one time. Please only load it once per page."):window.Stripe=Ca;t.default=Ca},function(e,t,n){"use strict";function r(e){var t=new o(o._61);return t._81=1,t._65=e,t}var o=n(3);e.exports=o;var i=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");o.resolve=function(e){if(e instanceof o)return e;if(null===e)return s;if(void 0===e)return u;if(!0===e)return i;if(!1===e)return a;if(0===e)return c;if(""===e)return l;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new o(t.bind(e))}catch(e){return new o(function(t,n){n(e)})}return r(e)},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof o&&s.then===o.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?r(a,s._65):(2===s._81&&n(s._65),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"==typeof u){return void new o(u.bind(s)).then(function(e){r(a,e)},n)}}t[a]=s,0==--i&&e(t)}if(0===t.length)return e([]);for(var i=t.length,a=0;a<t.length;a++)r(a,t[a])})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){e.forEach(function(e){o.resolve(e).then(t,n)})})},o.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";function r(){}function o(e){try{return e.then}catch(e){return _=e,v}}function i(e,t){try{return e(t)}catch(e){return _=e,v}}function a(e,t,n){try{e(t,n)}catch(e){return _=e,v}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==r&&y(e,this)}function u(e,t,n){return new e.constructor(function(o,i){var a=new s(r);a.then(o,i),c(e,new h(t,n,a))})}function c(e,t){for(;3===e._81;)e=e._65;if(s._10&&s._10(e),0===e._81)return 0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t);l(e,t)}function l(e,t){m(function(){var n=1===e._81?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._81?p(t.promise,e._65):f(t.promise,e._65));var r=i(n,e._65);r===v?f(t.promise,_):p(t.promise,r)})}function p(e,t){if(t===e)return f(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=o(t);if(n===v)return f(e,_);if(n===e.then&&t instanceof s)return e._81=3,e._65=t,void d(e);if("function"==typeof n)return void y(n.bind(t),e)}e._81=1,e._65=t,d(e)}function f(e,t){e._81=2,e._65=t,s._97&&s._97(e,t),d(e)}function d(e){if(1===e._45&&(c(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)c(e,e._54[t]);e._54=null}}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function y(e,t){var n=!1,r=a(e,function(e){n||(n=!0,p(t,e))},function(e){n||(n=!0,f(t,e))});n||r!==v||(n=!0,f(t,_))}var m=n(4),_=null,v={};e.exports=s,s._10=null,s._97=null,s._61=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return c(this,new h(e,t,n)),n}},function(e,t,n){"use strict";(function(t){function n(e){a.length||(i(),s=!0),a[a.length]=e}function r(){for(;u<a.length;){var e=u;if(u+=1,a[e].call(),u>c){for(var t=0,n=a.length-u;t<n;t++)a[t]=a[t+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function o(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var i,a=[],s=!1,u=0,c=1024,l=void 0!==t?t:self,p=l.MutationObserver||l.WebKitMutationObserver;i="function"==typeof p?function(e){var t=1,n=new p(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):o(r),n.requestFlush=i,n.makeRequestCallFromTimer=o}).call(t,n(5))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r,o;!function(){"use strict";var n=function(){function e(){}function t(e,t){for(var n=t.length,r=0;r<n;++r)i(e,t[r])}function n(e,t){e[t]=!0}function r(e,t){for(var n in t)s.call(t,n)&&(e[n]=!!t[n])}function o(e,t){for(var n=t.split(u),r=n.length,o=0;o<r;++o)e[n[o]]=!0}function i(e,i){if(i){var a=typeof i;"string"===a?o(e,i):Array.isArray(i)?t(e,i):"object"===a?r(e,i):"number"===a&&n(e,i)}}function a(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=new e;t(i,r);var a=[];for(var s in i)i[s]&&a.push(s);return a.join(" ")}e.prototype=Object.create(null);var s={}.hasOwnProperty,u=/\s+/;return a}();void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(o=function(){return n}.apply(t,r))&&(e.exports=o))}()},function(e,t){}]);