!function(f){if(!f.hasInitialised){var b={escapeRegExp:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hasClass:function(a,b){return 1===a.nodeType&&0<=(" "+a.className+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")},addClass:function(a,b){a.className+=" "+b},removeClass:function(a,b){var d=new RegExp("\\b"+this.escapeRegExp(b)+"\\b");a.className=a.className.replace(d,"")},interpolateString:function(a,b){return a.replace(/{{([a-z][a-z0-9\-_]*)}}/gi,function(a,f){return b(f)||
""})},getCookie:function(a){a=("; "+document.cookie).split("; "+a+"=");return 2!=a.length?void 0:a.pop().split(";").shift()},setCookie:function(a,b,d,f,m){var c=new Date;c.setDate(c.getDate()+(d||365));a=[a+"="+b,"expires="+c.toUTCString(),"path="+(m||"/")];f&&a.push("domain="+f);document.cookie=a.join(";")},deepExtend:function(a,b){for(var d in b)b.hasOwnProperty(d)&&(d in a&&this.isPlainObject(a[d])&&this.isPlainObject(b[d])?this.deepExtend(a[d],b[d]):a[d]=b[d]);return a},throttle:function(a,b){var d=
!1;return function(){d||(a.apply(this,arguments),d=!0,setTimeout(function(){d=!1},b))}},hash:function(a){var b,d,f,m=0;if(0===a.length)return m;b=0;for(f=a.length;b<f;++b)d=a.charCodeAt(b),m=(m<<5)-m+d,m|=0;return m},normaliseHex:function(a){return"#"==a[0]&&(a=a.substr(1)),3==a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),a},getContrast:function(a){a=this.normaliseHex(a);var b=parseInt(a.substr(0,2),16),d=parseInt(a.substr(2,2),16);a=parseInt(a.substr(4,2),16);return 128<=(299*b+587*d+114*a)/1E3?"#000":
"#fff"},getLuminance:function(a){var b=parseInt(this.normaliseHex(a),16);a=(b>>16)+38;var d=(b>>8&255)+38,b=(255&b)+38;return"#"+(16777216+65536*(255>a?1>a?0:a:255)+256*(255>d?1>d?0:d:255)+(255>b?1>b?0:b:255)).toString(16).slice(1)},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isPlainObject:function(a){return"object"==typeof a&&null!==a&&a.constructor==Object}};f.status={deny:"deny",allow:"allow",dismiss:"dismiss"};f.transitionEnd=
function(){var a=document.createElement("div"),b={t:"transitionend",OT:"oTransitionEnd",msT:"MSTransitionEnd",MozT:"transitionend",WebkitT:"webkitTransitionEnd"},d;for(d in b)if(b.hasOwnProperty(d)&&"undefined"!=typeof a.style[d+"ransition"])return b[d];return""}();f.hasTransition=!!f.transitionEnd;var n=Object.keys(f.status).map(b.escapeRegExp);f.customStyles={};f.Popup=function(){function a(){this.initialise.apply(this,arguments)}function r(a){this.openingTimeout=null;b.removeClass(a,"cc-invisible")}
function d(a){a.style.display="none";a.removeEventListener(f.transitionEnd,this.afterTransition);this.afterTransition=null}function k(){var a=this.options.onInitialise.bind(this);if(!window.navigator.cookieEnabled)return a(f.status.deny),!0;if(window.CookiesOK||window.navigator.CookiesOK)return a(f.status.allow),!0;var b=Object.keys(f.status),c=this.getStatus(),b=0<=b.indexOf(c);return b&&a(c),b}function m(){var a=[];return this.options.position.split("-").forEach(function(p){a.push("cc-"+p)}),a}
function c(){var a=this.options,c="top"==a.position||"bottom"==a.position?"banner":"floating";b.isMobile()&&(c="floating");c=["cc-"+c,"cc-type-"+a.type,"cc-theme-"+a.theme];a["static"]&&c.push("cc-static");c.push.apply(c,m.call(this));var e=this.options.palette,a=b.hash(JSON.stringify(e)),d="cc-color-override-"+a,h=b.isPlainObject(e);this.customStyleSelector=h?d:null;if(h)if(h="."+d,f.customStyles[a])++f.customStyles[a].references;else{var d={},l=e.popup,g=e.button,e=e.highlight;if(l&&(l.text=l.text?
l.text:b.getContrast(l.background),l.link=l.link?l.link:l.text,d[h+".cc-window"]=["color: "+l.text,"background-color: "+l.background],d[h+".cc-revoke"]=["color: "+l.text,"background-color: "+l.background],d[h+" .cc-link,"+h+" .cc-link:active,"+h+" .cc-link:visited"]=["color: "+l.link],g)){g.text=g.text?g.text:b.getContrast(g.background);g.border=g.border?g.border:"transparent";d[h+" .cc-btn"]=["color: "+g.text,"border-color: "+g.border,"background-color: "+g.background];if("transparent"!=g.background){var q=
g.background,g=(q=b.normaliseHex(q),"000000"==q?"#222":b.getLuminance(q));d[h+" .cc-btn:hover, "+h+" .cc-btn:focus"]=["background-color: "+g]}e?(e.text=e.text?e.text:b.getContrast(e.background),e.border=e.border?e.border:"transparent",d[h+" .cc-highlight .cc-btn:first-child"]=["color: "+e.text,"border-color: "+e.border,"background-color: "+e.background]):d[h+" .cc-highlight .cc-btn:first-child"]=["color: "+l.text]}h=document.createElement("style");document.head.appendChild(h);f.customStyles[a]={references:1,
element:h.sheet};var a=-1,k;for(k in d)d.hasOwnProperty(k)&&h.sheet.insertRule(k+"{"+d[k].join(";")+"}",++a)}return this.customStyleSelector&&c.push(this.customStyleSelector),c}function e(){var a={},c=this.options;c.showLink||(c.elements.link="",c.elements.messagelink=c.elements.message);Object.keys(c.elements).forEach(function(e){a[e]=b.interpolateString(c.elements[e],function(a){var b=c.content[a];return a&&"string"==typeof b&&b.length?b:""})});var e=c.compliance[c.type];e||(e=c.compliance.info);
a.compliance=b.interpolateString(e,function(c){return a[c]});e=c.layouts[c.layout];return e||(e=c.layouts.basic),b.interpolateString(e,function(c){return a[c]})}function h(a){var c=this.options,e=document.createElement("div"),p=c.container&&1===c.container.nodeType?c.container:document.body;e.innerHTML=a;a=e.children[0];return a.style.display="none",b.hasClass(a,"cc-window")&&f.hasTransition&&b.addClass(a,"cc-invisible"),this.onButtonClick=l.bind(this),a.addEventListener("click",this.onButtonClick),
c.autoAttach&&(p.firstChild?p.insertBefore(a,p.firstChild):p.appendChild(a)),a}function l(a){a=a.target;if(b.hasClass(a,"cc-btn")){var c=a.className.match(new RegExp("\\bcc-("+n.join("|")+")\\b"));(c=c&&c[1]||!1)&&(this.setStatus(c),this.close(!0))}b.hasClass(a,"cc-close")&&(this.setStatus(f.status.dismiss),this.close(!0));b.hasClass(a,"cc-revoke")&&this.revokeChoice()}function g(a,c){for(var b=0,e=a.length;b<e;++b){var d=a[b];if(d instanceof RegExp&&d.test(c)||"string"==typeof d&&d.length&&d===c)return!0}return!1}
function q(){var a=this.setStatus.bind(this),c=this.options.dismissOnTimeout;"number"==typeof c&&0<=c&&(this.dismissTimeout=window.setTimeout(function(){a(f.status.dismiss)},Math.floor(c)));var b=this.options.dismissOnScroll;if("number"==typeof b&&0<=b){var e=function(c){window.pageYOffset>Math.floor(b)&&(a(f.status.dismiss),window.removeEventListener("scroll",e),this.onWindowScroll=null)};this.onWindowScroll=e;window.addEventListener("scroll",e)}}function t(){if("info"!=this.options.type&&(this.options.revokable=
!0),b.isMobile()&&(this.options.animateRevokable=!1),this.options.revokable){var a=m.call(this);this.options.animateRevokable&&a.push("cc-animate");this.customStyleSelector&&a.push(this.customStyleSelector);var a=this.options.revokeBtn.replace("{{classes}}",a.join(" ")),c=this.revokeBtn=h.call(this,a);this.options.animateRevokable&&(this.onMouseMove=a=b.throttle(function(a){var e=!1,d=window.innerHeight-20;b.hasClass(c,"cc-top")&&20>a.clientY&&(e=!0);b.hasClass(c,"cc-bottom")&&a.clientY>d&&(e=!0);
e?b.hasClass(c,"cc-active")||b.addClass(c,"cc-active"):b.hasClass(c,"cc-active")&&b.removeClass(c,"cc-active")},200),window.addEventListener("mousemove",a))}}var u={enabled:!0,container:null,cookie:{name:"cookieconsent_status",path:"/",domain:"",expiryDays:365},onPopupOpen:function(){},onPopupClose:function(){},onInitialise:function(a){},onStatusChange:function(a,c){},onRevokeChoice:function(){},content:{header:"Cookies used on the website!",message:"This website uses cookies to ensure you get the best experience on our website.",
dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",href:"http://cookiesandyou.com",close:"&#x274c;"},elements:{header:'<span class="cc-header">{{header}}</span>&nbsp;',message:'<span id="cookieconsent:desc" class="cc-message">{{message}}</span>',messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" target="_blank">{{link}}</a></span>',dismiss:'<a aria-label="dismiss cookie message" role=button tabindex="0" class="cc-btn cc-dismiss">{{dismiss}}</a>',
allow:'<a aria-label="allow cookies" role=button tabindex="0"  class="cc-btn cc-allow">{{allow}}</a>',deny:'<a aria-label="deny cookies" role=button tabindex="0" class="cc-btn cc-deny">{{deny}}</a>',link:'<a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" target="_blank">{{link}}</a>',close:'<span aria-label="dismiss cookie message" role=button tabindex="0" class="cc-close">{{close}}</span>'},window:'<div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window {{classes}}">\x3c!--googleoff: all--\x3e{{children}}\x3c!--googleon: all--\x3e</div>',
revokeBtn:'<div class="cc-revoke {{classes}}">Cookie Policy</div>',compliance:{info:'<div class="cc-compliance">{{dismiss}}</div>',"opt-in":'<div class="cc-compliance cc-highlight">{{dismiss}}{{allow}}</div>',"opt-out":'<div class="cc-compliance cc-highlight">{{deny}}{{dismiss}}</div>'},type:"info",layouts:{basic:"{{messagelink}}{{compliance}}","basic-close":"{{messagelink}}{{compliance}}{{close}}","basic-header":"{{header}}{{message}}{{link}}{{compliance}}"},layout:"basic",position:"bottom",theme:"block",
"static":!1,palette:null,revokable:!1,animateRevokable:!0,showLink:!0,dismissOnScroll:!1,dismissOnTimeout:!1,autoOpen:!0,autoAttach:!0,whitelistPage:[],blacklistPage:[],overrideHTML:null};return a.prototype.initialise=function(a){this.options&&this.destroy();b.deepExtend(this.options={},u);b.isPlainObject(a)&&b.deepExtend(this.options,a);k.call(this)&&(this.options.enabled=!1);g(this.options.blacklistPage,location.pathname)&&(this.options.enabled=!1);g(this.options.whitelistPage,location.pathname)&&
(this.options.enabled=!0);a=this.options.window.replace("{{classes}}",c.call(this).join(" ")).replace("{{children}}",e.call(this));var d=this.options.overrideHTML;("string"==typeof d&&d.length&&(a=d),this.options["static"])?(a=h.call(this,'<div class="cc-grower">'+a+"</div>"),a.style.display="",this.element=a.firstChild,this.element.style.display="none",b.addClass(this.element,"cc-invisible")):this.element=h.call(this,a);q.call(this);t.call(this);this.options.autoOpen&&this.autoOpen()},a.prototype.destroy=
function(){this.onButtonClick&&this.element&&(this.element.removeEventListener("click",this.onButtonClick),this.onButtonClick=null);this.dismissTimeout&&(clearTimeout(this.dismissTimeout),this.dismissTimeout=null);this.onWindowScroll&&(window.removeEventListener("scroll",this.onWindowScroll),this.onWindowScroll=null);this.onMouseMove&&(window.removeEventListener("mousemove",this.onMouseMove),this.onMouseMove=null);this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element);
this.element=null;this.revokeBtn&&this.revokeBtn.parentNode&&this.revokeBtn.parentNode.removeChild(this.revokeBtn);this.revokeBtn=null;var a=this.options.palette;if(b.isPlainObject(a)){var a=b.hash(JSON.stringify(a)),c=f.customStyles[a];c&&!--c.references&&((c=c.element.ownerNode)&&c.parentNode&&c.parentNode.removeChild(c),f.customStyles[a]=null)}this.options=null},a.prototype.open=function(a){if(this.element)return this.isOpen()||(f.hasTransition?this.fadeIn():this.element.style.display="",this.options.revokable&&
this.toggleRevokeButton(),this.options.onPopupOpen.call(this)),this},a.prototype.close=function(a){if(this.element)return this.isOpen()&&(f.hasTransition?this.fadeOut():this.element.style.display="none",a&&this.options.revokable&&this.toggleRevokeButton(!0),this.options.onPopupClose.call(this)),this},a.prototype.fadeIn=function(){var a=this.element;if(f.hasTransition&&a&&(this.afterTransition&&d.call(this,a),b.hasClass(a,"cc-invisible"))){if(a.style.display="",this.options["static"])this.element.parentNode.style.maxHeight=
this.element.clientHeight+"px";this.openingTimeout=setTimeout(r.bind(this,a),20)}},a.prototype.fadeOut=function(){var a=this.element;f.hasTransition&&a&&(this.openingTimeout&&(clearTimeout(this.openingTimeout),r.bind(this,a)),b.hasClass(a,"cc-invisible")||(this.options["static"]&&(this.element.parentNode.style.maxHeight=""),this.afterTransition=d.bind(this,a),a.addEventListener(f.transitionEnd,this.afterTransition),b.addClass(a,"cc-invisible")))},a.prototype.isOpen=function(){return this.element&&
""==this.element.style.display&&(!f.hasTransition||!b.hasClass(this.element,"cc-invisible"))},a.prototype.toggleRevokeButton=function(a){this.revokeBtn&&(this.revokeBtn.style.display=a?"":"none")},a.prototype.revokeChoice=function(a){this.options.enabled=!0;this.clearStatus();this.options.onRevokeChoice.call(this);a||this.autoOpen()},a.prototype.hasAnswered=function(a){return 0<=Object.keys(f.status).indexOf(this.getStatus())},a.prototype.hasConsented=function(a){a=this.getStatus();return a==f.status.allow||
a==f.status.dismiss},a.prototype.autoOpen=function(a){!this.hasAnswered()&&this.options.enabled&&this.open()},a.prototype.setStatus=function(a){var c=this.options.cookie,e=b.getCookie(c.name),e=0<=Object.keys(f.status).indexOf(e);0<=Object.keys(f.status).indexOf(a)?(b.setCookie(c.name,a,c.expiryDays,c.domain,c.path),this.options.onStatusChange.call(this,a,e)):this.clearStatus()},a.prototype.getStatus=function(){return b.getCookie(this.options.cookie.name)},a.prototype.clearStatus=function(){var a=
this.options.cookie;b.setCookie(a.name,"",-1,a.domain,a.path)},a}();f.Location=function(){function a(a){b.deepExtend(this.options={},m);b.isPlainObject(a)&&b.deepExtend(this.options,a);this.currentServiceIndex=-1}function f(a,b,d){var c,e=document.createElement("script");e.type="text/"+(a.type||"javascript");e.src=a.src||a;e.async=!1;e.onreadystatechange=e.onload=function(){var a=e.readyState;clearTimeout(c);b.done||a&&!/loaded|complete/.test(a)||(b.done=!0,b(),e.onreadystatechange=e.onload=null)};
document.body.appendChild(e);c=setTimeout(function(){b.done=!0;b();e.onreadystatechange=e.onload=null},d)}function d(a,b,d,f,g){var c=new (window.XMLHttpRequest||window.ActiveXObject)("MSXML2.XMLHTTP.3.0");if(c.open(f?"POST":"GET",a,1),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Array.isArray(g))for(a=0,d=g.length;a<d;++a){var e=g[a].split(":",2);c.setRequestHeader(e[0].replace(/^\s+|\s+$/g,""),e[1].replace(/^\s+|\s+$/g,
""))}"function"==typeof b&&(c.onreadystatechange=function(){3<c.readyState&&b(c)});c.send(f)}function k(a){return Error("Error ["+(a.code||"UNKNOWN")+"]: "+a.error)}var m={timeout:5E3,services:["freegeoip","ipinfo","maxmind"],serviceDefinitions:{freegeoip:function(){return{url:"//freegeoip.net/json/?callback={callback}",isScript:!0,callback:function(a,b){try{var c=JSON.parse(b);return c.error?k(c):{code:c.country_code}}catch(l){return k({error:"Invalid response ("+l+")"})}}}},ipinfo:function(){return{url:"//ipinfo.io",
headers:["Accept: application/json"],callback:function(a,b){try{var c=JSON.parse(b);return c.error?k(c):{code:c.country}}catch(l){return k({error:"Invalid response ("+l+")"})}}}},ipinfodb:function(a){return{url:"//api.ipinfodb.com/v3/ip-country/?key={api_key}&format=json&callback={callback}",isScript:!0,callback:function(a,c){try{var b=JSON.parse(c);return"ERROR"==b.statusCode?k({error:b.statusMessage}):{code:b.countryCode}}catch(g){return k({error:"Invalid response ("+g+")"})}}}},maxmind:function(){return{url:"//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js",
isScript:!0,callback:function(a){return window.geoip2?void geoip2.country(function(c){try{a({code:c.country.iso_code})}catch(h){a(k(h))}},function(c){a(k(c))}):void a(Error("Unexpected response format. The downloaded script should have exported `geoip2` to the global scope"))}}}}};return a.prototype.getNextService=function(){var a;do a=this.getServiceByIdx(++this.currentServiceIndex);while(this.currentServiceIndex<this.options.services.length&&!a);return a},a.prototype.getServiceByIdx=function(a){a=
this.options.services[a];return"function"==typeof a?(a=a(),a.name&&b.deepExtend(a,this.options.serviceDefinitions[a.name](a)),a):"string"==typeof a?this.options.serviceDefinitions[a]():b.isPlainObject(a)?this.options.serviceDefinitions[a.name](a):null},a.prototype.locate=function(a,b){var c=this.getNextService();return c?(this.callbackComplete=a,this.callbackError=b,void this.runService(c,this.runNextServiceOnError.bind(this))):void b(Error("No services to run"))},a.prototype.setupUrl=function(a){var c=
this.getCurrentServiceOpts();return a.url.replace(/\{(.*?)\}/g,function(b,e){if("callback"===e){var d="callback"+Date.now();return window[d]=function(c){a.__JSONP_DATA=JSON.stringify(c)},d}if(e in c.interpolateUrl)return c.interpolateUrl[e]})},a.prototype.runService=function(a,b){var c=this;if(a&&a.url&&a.callback){var e=a.isScript?f:d,g=this.setupUrl(a);e(g,function(e){e=e?e.responseText:"";a.__JSONP_DATA&&(e=a.__JSONP_DATA,delete a.__JSONP_DATA);c.runServiceCallback.call(c,b,a,e)},this.options.timeout,
a.data,a.headers)}},a.prototype.runServiceCallback=function(a,b,d){var c=this,e=b.callback(function(b){e||c.onServiceResult.call(c,a,b)},d);e&&this.onServiceResult.call(this,a,e)},a.prototype.onServiceResult=function(a,b){b instanceof Error||b&&b.error?a.call(this,b,null):a.call(this,null,b)},a.prototype.runNextServiceOnError=function(a,b){if(a){this.logError(a);var c=this.getNextService();c?this.runService(c,this.runNextServiceOnError.bind(this)):this.completeService.call(this,this.callbackError,
Error("All services failed"))}else this.completeService.call(this,this.callbackComplete,b)},a.prototype.getCurrentServiceOpts=function(){var a=this.options.services[this.currentServiceIndex];return"string"==typeof a?{name:a}:"function"==typeof a?a():b.isPlainObject(a)?a:{}},a.prototype.completeService=function(a,b){this.currentServiceIndex=-1;a&&a(b)},a.prototype.logError=function(a){var b=this.currentServiceIndex,c=this.getServiceByIdx(b);console.error("The service["+b+"] ("+c.url+") responded with the following error",
a)},a}();f.Law=function(){function a(a){this.initialise.apply(this,arguments)}var f={regionalLaw:!0,hasLaw:"AT BE BG HR CZ CY DK EE FI FR DE EL HU IE IT LV LT LU MT NL PL PT SK SI ES SE GB UK".split(" "),revokable:"HR CY DK EE FR DE LV LT NL PT ES".split(" "),explicitAction:["HR","IT","ES"]};return a.prototype.initialise=function(a){b.deepExtend(this.options={},f);b.isPlainObject(a)&&b.deepExtend(this.options,a)},a.prototype.get=function(a){var b=this.options;return{hasLaw:0<=b.hasLaw.indexOf(a),
revokable:0<=b.revokable.indexOf(a),explicitAction:0<=b.explicitAction.indexOf(a)}},a.prototype.applyLaw=function(a,b){var d=this.get(b);return d.hasLaw||(a.enabled=!1),this.options.regionalLaw&&(d.revokable&&(a.revokable=!0),d.explicitAction&&(a.dismissOnScroll=!1,a.dismissOnTimeout=!1)),a},a}();f.initialise=function(a,b,d){var k=new f.Law(a.law);b||(b=function(){});d||(d=function(){});f.getCountryCode(a,function(d){delete a.law;delete a.location;d.code&&(a=k.applyLaw(a,d.code));b(new f.Popup(a))},
function(b){delete a.law;delete a.location;d(b,new f.Popup(a))})};f.getCountryCode=function(a,b,d){if(a.law&&a.law.countryCode)return void b({code:a.law.countryCode});if(a.location)return void(new f.Location(a.location)).locate(function(a){b(a||{})},d);b({})};f.utils=b;f.hasInitialised=!0;window.cookieconsent=f}}(window.cookieconsent||{});
PeerJ.Com.CookieConsent=new function(){var f=!1,b,n,a="",r={AT:"Austria",BE:"Belgium",BG:"Bulgaria",HR:"Croatia",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",EE:"Estonia",FI:"Finland",FR:"France",DE:"Germany",GR:"Greece",HU:"Hungary",IE:"Ireland",IT:"Italy",LV:"Latvia",LT:"Lithuania",LU:"Luxembourg",MT:"Malta",NL:"Netherlands",PL:"Poland",PT:"Portugal",RO:"Romania",SK:"Slovakia",SI:"Slovenia",ES:"Spain",SE:"Sweden",GB:"United Kingdom"};this.init=function(){f=$.cookie("pj_registered");a=$.cookie("pj_country_code");
var b=$.cookie("pj_is_eu");a&&b?m():d()};var d=function(){var a=new Date;a.setHours(a.getHours()+48);$.cookie("pj_country_code","unknown",{expires:a,path:"/"});$.cookie("pj_is_eu","unknown",{expires:a,path:"/"});$.ajax({type:"GET",url:"/x-country/",cache:!1,dataType:"json",success:function(b){if(b.countryCode){var d=b.countryCode;b=r.hasOwnProperty(d)?"y":"n";$.cookie("pj_country_code",d,{expires:a,path:"/"});$.cookie("pj_is_eu",b,{expires:a,path:"/"});"y"===b||"unknown"===d.toLowerCase()?c():k()}}})},
k=function(){var a=!1,b=!1;if("y"===$.cookie("pj_is_eu"))if(f)b=a=!0;else{var c=$.cookie("social_allow"),d=$.cookie("analytics_allow");"y"===c&&(a=!0);"y"===d&&(b=!0)}else b=a=!0;b&&("undefined"!=typeof PeerJ.Com.GA&&$(PeerJ.Com.GA.runGA()),"undefined"!=typeof PeerJ.Com.Mixpanel&&$(PeerJ.Com.Mixpanel.leadView()));a&&"undefined"!=typeof PeerJ.Com.Social&&$(PeerJ.Com.Social.runTwitter())},m=function(){a=$.cookie("pj_country_code").toLowerCase();"unknown"!==a&&"y"!==$.cookie("pj_is_eu")||"y"===f?k():
window.addEventListener("load",function(){c()})},c=function(){var c="",d="";b=$.cookie("social_allow");n=$.cookie("analytics_allow");"y"!==b&&b||(c="checked");"y"!==n&&n||(d="checked");window.cookieconsent.initialise({blacklistPage:[/\/manuscripts.*/,/\/settings.*/,/\/submissions.*/,/\/editor.*/,/\/account.*/],palette:{popup:{background:"#edeff5",text:"#838391"},button:{background:"#4b81e8"}},content:{message:"",allow:"Allow cookies",href:"https://peerj.com/about/cookies/",dismiss:"&#x2716;"},elements:{messagelink:'<span id="cookieconsent:desc" class="cc-message">We\'ve disabled social media & analytics cookies unless you decide to allow them or signup. If you allow analytics cookies then we can use anonymous statistics to help us improve our website. <a aria-label="learn more about cookies" tabindex="0" class="cc-link" href="https://peerj.com/about/cookies/" target="_blank">Learn more</a> '+
('<div class="cookie-setting-container"><span id="cookie-settings" class="cookie-setting-link">Cookie settings</span> <form id="cookie-form" class="cookie-setting-hide"><div class="cookie-setting-form-title">I will allow:</div>'+('<div style="display: inline-block;margin-right: 30px"><input name="social-cookie" id="social-cookie" type="checkbox" '+c+'> <label for="social-cookie" class="cookie-setting-form-label">social media</label></div>')+('<div style="display: inline-block"><input name="analytics-cookie" id="analytics-cookie" type="checkbox" '+
d+'> <label for="analytics-cookie" class="cookie-setting-form-label">anonymous statistics</label></div>')+"</form></div>")+"</span>",close:'<span aria-label="dismiss cookie message" tabindex="0" class="cc-close">x</span>'},law:{regionalLaw:!1},revokable:!0,type:"opt-in",onInitialise:function(a){k()},onPopupOpen:function(){$("#cookie-settings").on("click",function(){var a=$("#cookie-form");a.toggleClass("cookie-setting-hide").toggleClass("cookie-setting-show");$(".cc-btn.cc-allow").text("Save");a.hasClass("cookie-setting-show")&&
(b=$.cookie("social_allow"),n=$.cookie("analytics_allow"),"y"===b?$("#social-cookie").prop("checked",!0):$("#social-cookie").prop("checked",!1),"y"===n?$("#analytics-cookie").prop("checked",!0):$("#analytics-cookie").prop("checked",!1))})},onPopupClose:function(){$("#cookie-settings").off("click")},onStatusChange:function(b){b=$.cookie("cookieconsent_status");if("allow"===b){var c=$("#social-cookie"),d=$("#analytics-cookie");c.is(":checked")?$.cookie("social_allow","y",{expires:365,path:"/"}):$.cookie("social_allow",
"n",{expires:365,path:"/"});d.is(":checked")?$.cookie("analytics_allow","y",{expires:365,path:"/"}):$.cookie("analytics_allow","n",{expires:365,path:"/"})}"unknown"===a&&$.cookie("cookieconsent_status",b,{expires:7,path:"/"});k()},onRevokeChoice:function(){for(var a="cookieconsent_status PHPSESSID meet-new-section-editor find-your-section-mar2018 pj-dimension pj-instit pj-instit-x pj_country_code pj_is_eu pub-offer20102014 peerj_client_id pj_logout_id peerj_mp_id pj_registered pj_prereg_campaign pj_prereg_content pj_prereg_term social_allow analytics_allow".split(" "),
b=document.cookie.split(";"),c=0;c<b.length;c++){var d=$.trim(b[c]),e=d.indexOf("="),d=-1<e?d.substr(0,e):d;if(void 0===a||0===a.length||-1===a.indexOf(d))document.cookie=d+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}"undefined"!=typeof PeerJ.Com.GA&&$(PeerJ.Com.GA.disabletracking())}});$(".cc-revoke").show()}};$(PeerJ.Com.CookieConsent.init);
