function FastClick(j,i){function p(d,c){return function(){return d.apply(c,arguments);};}var o;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=j,this.tapDelay=i.tapDelay||200,!FastClick.notNeeded(j)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],m=this,l=0,k=n.length;k>l;l++){m[n[l]]=p(m[n[l]],m);}deviceIsAndroid&&(j.addEventListener("mouseover",this.onMouse,!0),j.addEventListener("mousedown",this.onMouse,!0),j.addEventListener("mouseup",this.onMouse,!0)),j.addEventListener("click",this.onClick,!0),j.addEventListener("touchstart",this.onTouchStart,!1),j.addEventListener("touchmove",this.onTouchMove,!1),j.addEventListener("touchend",this.onTouchEnd,!1),j.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(j.removeEventListener=function(a,h,g){var f=Node.prototype.removeEventListener;"click"===a?f.call(j,a,h.hijacked||h,g):f.call(j,a,h,g);},j.addEventListener=function(a,h,g){var f=Node.prototype.addEventListener;"click"===a?f.call(j,a,h.hijacked||(h.hijacked=function(b){b.propagationStopped||h(b);}),g):f.call(j,a,h,g);}),"function"==typeof j.onclick&&(o=j.onclick,j.addEventListener("click",function(b){o(b);},!1),j.onclick=null);}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(b){switch(b.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(b.disabled){return !0;}break;case"input":if(deviceIsIOS&&"file"===b.type||b.disabled){return !0;}break;case"label":case"video":return !0;}return/\bneedsclick\b/.test(b.className);},FastClick.prototype.needsFocus=function(b){switch(b.nodeName.toLowerCase()){case"textarea":return !0;case"select":return !deviceIsAndroid;case"input":switch(b.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return !1;}return !b.disabled&&!b.readOnly;default:return/\bneedsfocus\b/.test(b.className);}},FastClick.prototype.sendClick=function(f,e){var h,g;document.activeElement&&document.activeElement!==f&&document.activeElement.blur(),g=e.changedTouches[0],h=document.createEvent("MouseEvents"),h.initMouseEvent(this.determineEventType(f),!0,!0,window,1,g.screenX,g.screenY,g.clientX,g.clientY,!1,!1,!1,!1,0,null),h.forwardedTouchEvent=!0,f.dispatchEvent(h);},FastClick.prototype.determineEventType=function(b){return deviceIsAndroid&&"select"===b.tagName.toLowerCase()?"mousedown":"click";},FastClick.prototype.focus=function(d){var c;deviceIsIOS&&d.setSelectionRange&&0!==d.type.indexOf("date")&&"time"!==d.type?(c=d.value.length,d.setSelectionRange(c,c)):d.focus();},FastClick.prototype.updateScrollParent=function(e){var d,f;if(d=e.fastClickScrollParent,!d||!d.contains(e)){f=e;do{if(f.scrollHeight>f.offsetHeight){d=f,e.fastClickScrollParent=f;break;}f=f.parentElement;}while(f);}d&&(d.fastClickLastScrollTop=d.scrollTop);},FastClick.prototype.getTargetElementFromEventTarget=function(b){return b.nodeType===Node.TEXT_NODE?b.parentNode:b;},FastClick.prototype.onTouchStart=function(f){var e,h,g;if(f.targetTouches.length>1){return !0;}if(e=this.getTargetElementFromEventTarget(f.target),h=f.targetTouches[0],deviceIsIOS){if(g=window.getSelection(),g.rangeCount&&!g.isCollapsed){return !0;}if(!deviceIsIOS4){if(h.identifier===this.lastTouchIdentifier){return f.preventDefault(),!1;}this.lastTouchIdentifier=h.identifier,this.updateScrollParent(e);}}return this.trackingClick=!0,this.trackingClickStart=f.timeStamp,this.targetElement=e,this.touchStartX=h.pageX,this.touchStartY=h.pageY,f.timeStamp-this.lastClickTime<this.tapDelay&&f.preventDefault(),!0;},FastClick.prototype.touchHasMoved=function(e){var d=e.changedTouches[0],f=this.touchBoundary;return Math.abs(d.pageX-this.touchStartX)>f||Math.abs(d.pageY-this.touchStartY)>f?!0:!1;},FastClick.prototype.onTouchMove=function(b){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(b.target)||this.touchHasMoved(b))&&(this.trackingClick=!1,this.targetElement=null),!0):!0;},FastClick.prototype.findControl=function(b){return void 0!==b.control?b.control:b.htmlFor?document.getElementById(b.htmlFor):b.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea");},FastClick.prototype.onTouchEnd=function(i){var h,n,m,l,k,j=this.targetElement;if(!this.trackingClick){return !0;}if(i.timeStamp-this.lastClickTime<this.tapDelay){return this.cancelNextClick=!0,!0;}if(this.cancelNextClick=!1,this.lastClickTime=i.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(k=i.changedTouches[0],j=document.elementFromPoint(k.pageX-window.pageXOffset,k.pageY-window.pageYOffset)||j,j.fastClickScrollParent=this.targetElement.fastClickScrollParent),m=j.tagName.toLowerCase(),"label"===m){if(h=this.findControl(j)){if(this.focus(j),deviceIsAndroid){return !1;}j=h;}}else{if(this.needsFocus(j)){return i.timeStamp-n>100||deviceIsIOS&&window.top!==window&&"input"===m?(this.targetElement=null,!1):(this.focus(j),this.sendClick(j,i),deviceIsIOS&&"select"===m||(this.targetElement=null,i.preventDefault()),!1);}}return deviceIsIOS&&!deviceIsIOS4&&(l=j.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(j)||(i.preventDefault(),this.sendClick(j,i)),!1);},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null;},FastClick.prototype.onMouse=function(b){return this.targetElement?b.forwardedTouchEvent?!0:b.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(b.stopImmediatePropagation?b.stopImmediatePropagation():b.propagationStopped=!0,b.stopPropagation(),b.preventDefault(),!1):!0:!0;},FastClick.prototype.onClick=function(d){var c;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===d.target.type&&0===d.detail?!0:(c=this.onMouse(d),c||(this.targetElement=null),c);},FastClick.prototype.destroy=function(){var b=this.layer;deviceIsAndroid&&(b.removeEventListener("mouseover",this.onMouse,!0),b.removeEventListener("mousedown",this.onMouse,!0),b.removeEventListener("mouseup",this.onMouse,!0)),b.removeEventListener("click",this.onClick,!0),b.removeEventListener("touchstart",this.onTouchStart,!1),b.removeEventListener("touchmove",this.onTouchMove,!1),b.removeEventListener("touchend",this.onTouchEnd,!1),b.removeEventListener("touchcancel",this.onTouchCancel,!1);},FastClick.notNeeded=function(e){var d,f;if("undefined"==typeof window.ontouchstart){return !0;}if(f=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid){return !0;}if(d=document.querySelector("meta[name=viewport]")){if(-1!==d.content.indexOf("user-scalable=no")){return !0;}if(f>31&&document.documentElement.scrollWidth<=window.outerWidth){return !0;}}}return"none"===e.style.msTouchAction?!0:!1;},FastClick.attach=function(d,c){return new FastClick(d,c);},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return FastClick;}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick;(function(f,h,j,b){var d=function(n){var m=n.length;var l=f("head");while(m--){if(l.has("."+n[m]).length===0){l.append('<meta class="'+n[m]+'" />');}}};d(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]);f(function(){if(typeof FastClick!=="undefined"){if(typeof j.body!=="undefined"){FastClick.attach(j.body);}}});var e=function(m,n){if(typeof m==="string"){if(n){var l;if(n.jquery){l=n[0];if(!l){return n;}}else{l=n;}return f(l.querySelectorAll(m));}return f(j.querySelectorAll(m));}return f(m,n);};var k=function(m){var l=[];if(!m){l.push("data");}if(this.namespace.length>0){l.push(this.namespace);}l.push(this.name);return l.join("-");};var g=function(o){var n=o.split("-"),m=n.length,l=[];while(m--){if(m!==0){l.push(n[m]);}else{if(this.namespace.length>0){l.push(this.namespace,n[m]);}else{l.push(n[m]);}}}return l.reverse().join("-");};var a=function(o,m){var l=this,n=!e(this).data(this.attr_name(true));if(e(this.scope).is("["+this.attr_name()+"]")){e(this.scope).data(this.attr_name(true)+"-init",f.extend({},this.settings,(m||o),this.data_options(e(this.scope))));if(n){this.events(this.scope);}}else{e("["+this.attr_name()+"]",this.scope).each(function(){var p=!e(this).data(l.attr_name(true)+"-init");e(this).data(l.attr_name(true)+"-init",f.extend({},l.settings,(m||o),l.data_options(e(this))));if(p){l.events(this);}});}if(typeof o==="string"){return this[o].call(this,m);}};var c=function(n,o){function l(){o(n[0]);}function m(){this.one("load",l);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var q=this.attr("src"),p=q.match(/\?/)?"&":"?";p+="random="+(new Date()).getTime();this.attr("src",q+p);}}if(!n.attr("src")){l();return;}if(n[0].complete||n[0].readyState===4){l();}else{m.call(n);}};h.matchMedia=h.matchMedia||(function(p){var n,l=p.documentElement,m=l.firstElementChild||l.firstChild,o=p.createElement("body"),q=p.createElement("div");q.id="mq-test-1";q.style.cssText="position:absolute;top:-100em";o.style.background="none";o.appendChild(q);return function(r){q.innerHTML='&shy;<style media="'+r+'"> #mq-test-1 { width: 42px; }</style>';l.insertBefore(o,m);n=q.offsetWidth===42;l.removeChild(o);return{matches:n,media:r};};}(j));(function(n){var l,o=0,s=["webkit","moz"],r=h.requestAnimationFrame,q=h.cancelAnimationFrame,m="undefined"!==typeof jQuery.fx;for(;o<s.length&&!r;o++){r=h[s[o]+"RequestAnimationFrame"];q=q||h[s[o]+"CancelAnimationFrame"]||h[s[o]+"CancelRequestAnimationFrame"];}function p(){if(l){r(p);if(m){jQuery.fx.tick();}}}if(r){h.requestAnimationFrame=r;h.cancelAnimationFrame=q;if(m){jQuery.fx.timer=function(t){if(t()&&jQuery.timers.push(t)&&!l){l=true;p();}};jQuery.fx.stop=function(){l=false;};}}else{h.requestAnimationFrame=function(w){var t=new Date().getTime(),u=Math.max(0,16-(t-o)),v=h.setTimeout(function(){w(t+u);},u);o=t+u;return v;};h.cancelAnimationFrame=function(t){clearTimeout(t);};}}(jQuery));function i(l){if(typeof l==="string"||l instanceof String){l=l.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"");}return l;}h.Foundation={name:"Foundation",version:"5.3.1",media_queries:{small:e(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:e(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:e(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:e(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:e(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:f("<style></style>").appendTo("head")[0].sheet,global:{namespace:b},init:function(p,m,s,o,l){var n=[p,s,o,l],q=[];this.rtl=/rtl/i.test(e("html").attr("dir"));this.scope=p||this.scope;this.set_namespace();if(m&&typeof m==="string"&&!/reflow/i.test(m)){if(this.libs.hasOwnProperty(m)){q.push(this.init_lib(m,n));}}else{for(var r in this.libs){q.push(this.init_lib(r,m));}}return p;},init_lib:function(m,l){if(this.libs.hasOwnProperty(m)){this.patch(this.libs[m]);if(l&&l.hasOwnProperty(m)){if(typeof this.libs[m].settings!=="undefined"){f.extend(true,this.libs[m].settings,l[m]);}else{if(typeof this.libs[m].defaults!=="undefined"){f.extend(true,this.libs[m].defaults,l[m]);}}return this.libs[m].init.apply(this.libs[m],[this.scope,l[m]]);}l=l instanceof Array?l:new Array(l);return this.libs[m].init.apply(this.libs[m],l);}return function(){};},patch:function(l){l.scope=this.scope;l.namespace=this.global.namespace;l.rtl=this.rtl;l.data_options=this.utils.data_options;l.attr_name=k;l.add_namespace=g;l.bindings=a;l.S=this.utils.S;},inherit:function(o,m){var l=m.split(" "),n=l.length;while(n--){if(this.utils.hasOwnProperty(l[n])){o[l[n]]=this.utils[l[n]];}}},set_namespace:function(){var l=(this.global.namespace===b)?f(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=(l===b||/false/i.test(l))?"":l;},libs:{},utils:{S:e,throttle:function(m,l){var n=null;return function(){var p=this,o=arguments;if(n==null){n=setTimeout(function(){m.apply(p,o);n=null;},l);}};},debounce:function(o,n,m){var p,l;return function(){var t=this,s=arguments;var r=function(){p=null;if(!m){l=o.apply(t,s);}};var q=m&&!p;clearTimeout(p);p=setTimeout(r,n);if(q){l=o.apply(t,s);}return l;};},data_options:function(n,q){q=q||"options";var l={},t,m,v,s=function(w){var p=Foundation.global.namespace;if(p.length>0){return w.data(p+"-"+q);}return w.data(q);};var r=s(n);if(typeof r==="object"){return r;}v=(r||":").split(";");t=v.length;function u(p){return !isNaN(p-0)&&p!==null&&p!==""&&p!==false&&p!==true;}function o(p){if(typeof p==="string"){return f.trim(p);}return p;}while(t--){m=v[t].split(":");m=[m[0],m.slice(1).join(":")];if(/true/i.test(m[1])){m[1]=true;}if(/false/i.test(m[1])){m[1]=false;}if(u(m[1])){if(m[1].indexOf(".")===-1){m[1]=parseInt(m[1],10);}else{m[1]=parseFloat(m[1]);}}if(m.length===2&&m[0].length>0){l[o(m[0])]=o(m[1]);}}return l;},register_media:function(m,l){if(Foundation.media_queries[m]===b){f("head").append('<meta class="'+l+'"/>');Foundation.media_queries[m]=i(f("."+l).css("font-family"));}},add_custom_rule:function(n,m){if(m===b&&Foundation.stylesheet){Foundation.stylesheet.insertRule(n,Foundation.stylesheet.cssRules.length);}else{var l=Foundation.media_queries[m];if(l!==b){Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[m]+"{ "+n+" }");}}},image_loaded:function(l,o){var m=this,n=l.length;if(n===0){o(l);}l.each(function(){c(m.S(this),function(){n-=1;if(n===0){o(l);}});});},random_str:function(){if(!this.fidx){this.fidx=0;}this.prefix=this.prefix||[(this.name||"F"),(+new Date).toString(36)].join("-");return this.prefix+(this.fidx++).toString(36);}}};f.fn.foundation=function(){var l=Array.prototype.slice.call(arguments,0);return this.each(function(){Foundation.init.apply(Foundation,[this].concat(l));return this;});};}(jQuery,window,window.document));(function(){function ar(b){function a(g,h,j,d,f,k){for(;f>=0&&k>f;f+=b){var c=d?d[f]:f;j=h(j,g[c],c,g);}return j;}return function(h,j,f,g){j=aE(j,g,4);var k=!av(h)&&at.keys(h),d=(k||h).length,l=b>0?0:d-1;return arguments.length<3&&(f=h[k?k[l]:l],l+=b),a(h,j,f,k,l,d);};}function al(a){return function(d,f,g){f=ah(f,g);for(var b=U(d),c=a>0?0:b-1;c>=0&&b>c;c+=a){if(f(d[c],c,d)){return c;}}return -1;};}function an(c,a,b){return function(h,f,g){var j=0,d=U(h);if("number"==typeof g){c>0?j=g>=0?g:Math.max(g+d,j):d=g>=0?Math.min(g+1,d):g+d+1;}else{if(b&&g&&d){return g=b(h,f),h[g]===f?g:-1;}}if(f!==f){return g=a(au.call(h,j,d),at.isNaN),g>=0?g+j:-1;}for(g=c>0?j:d-1;g>=0&&d>g;g+=c){if(h[g]===f){return g;}}return -1;};}function aB(g,c){var d=Z.length,f=g.constructor,a=at.isFunction(f)&&f.prototype||aF,b="constructor";for(at.has(g,b)&&!at.contains(c,b)&&c.push(b);d--;){b=Z[d],b in g&&g[b]!==a[b]&&!at.contains(c,b)&&c.push(b);}}var ak=this,ax=ak._,aq=Array.prototype,aF=Object.prototype,aD=Function.prototype,aA=aq.push,au=aq.slice,am=aF.toString,ap=aF.hasOwnProperty,ay=Array.isArray,aj=Object.keys,az=aD.bind,ag=Object.create,aC=function(){},at=function(a){return a instanceof at?a:this instanceof at?void (this._wrapped=a):new at(a);};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=at),exports._=at):ak._=at,at.VERSION="1.8.3";var aE=function(c,a,b){if(a===void 0){return c;}switch(null==b?3:b){case 1:return function(d){return c.call(a,d);};case 2:return function(d,f){return c.call(a,d,f);};case 3:return function(f,g,d){return c.call(a,f,g,d);};case 4:return function(g,h,d,f){return c.call(a,g,h,d,f);};}return function(){return c.apply(a,arguments);};},ah=function(c,a,b){return null==c?at.identity:at.isFunction(c)?aE(c,a,b):at.isObject(c)?at.matcher(c):at.property(c);};at.iteratee=function(b,a){return ah(b,a,1/0);};var aG=function(b,a){return function(j){var l=arguments.length;if(2>l||null==j){return j;}for(var g=1;l>g;g++){for(var h=arguments[g],m=b(h),d=m.length,n=0;d>n;n++){var k=m[n];a&&j[k]!==void 0||(j[k]=h[k]);}}return j;};},aw=function(b){if(!at.isObject(b)){return{};}if(ag){return ag(b);}aC.prototype=b;var a=new aC;return aC.prototype=null,a;},ai=function(a){return function(b){return null==b?void 0:b[a];};},ae=Math.pow(2,53)-1,U=ai("length"),av=function(b){var a=U(b);return"number"==typeof a&&a>=0&&ae>=a;};at.each=at.forEach=function(g,c,d){c=aE(c,d);var f,a;if(av(g)){for(f=0,a=g.length;a>f;f++){c(g[f],f,g);}}else{var b=at.keys(g);for(f=0,a=b.length;a>f;f++){c(g[b[f]],b[f],g);}}return g;},at.map=at.collect=function(k,f,g){f=ah(f,g);for(var h=!av(k)&&at.keys(k),c=(h||k).length,d=Array(c),j=0;c>j;j++){var b=h?h[j]:j;d[j]=f(k[b],b,k);}return d;},at.reduce=at.foldl=at.inject=ar(1),at.reduceRight=at.foldr=ar(-1),at.find=at.detect=function(d,a,b){var c;return c=av(d)?at.findIndex(d,a,b):at.findKey(d,a,b),c!==void 0&&c!==-1?d[c]:void 0;},at.filter=at.select=function(d,a,b){var c=[];return a=ah(a,b),at.each(d,function(g,f,e){a(g,f,e)&&c.push(g);}),c;},at.reject=function(c,a,b){return at.filter(c,at.negate(ah(a)),b);},at.every=at.all=function(h,c,d){c=ah(c,d);for(var f=!av(h)&&at.keys(h),a=(f||h).length,b=0;a>b;b++){var g=f?f[b]:b;if(!c(h[g],g,h)){return !1;}}return !0;},at.some=at.any=function(h,c,d){c=ah(c,d);for(var f=!av(h)&&at.keys(h),a=(f||h).length,b=0;a>b;b++){var g=f?f[b]:b;if(c(h[g],g,h)){return !0;}}return !1;},at.contains=at.includes=at.include=function(d,a,b,c){return av(d)||(d=at.values(d)),("number"!=typeof b||c)&&(b=0),at.indexOf(d,a,b)>=0;},at.invoke=function(d,a){var b=au.call(arguments,2),c=at.isFunction(a);return at.map(d,function(f){var e=c?a:f[a];return null==e?e:e.apply(f,b);});},at.pluck=function(b,a){return at.map(b,at.property(a));},at.where=function(b,a){return at.filter(b,at.matcher(a));},at.findWhere=function(b,a){return at.find(b,at.matcher(a));},at.max=function(f,m,b){var h,l,g=-1/0,d=-1/0;if(null==m&&null!=f){f=av(f)?f:at.values(f);for(var k=0,j=f.length;j>k;k++){h=f[k],h>g&&(g=h);}}else{m=ah(m,b),at.each(f,function(i,a,c){l=m(i,a,c),(l>d||l===-1/0&&g===-1/0)&&(g=i,d=l);});}return g;},at.min=function(f,m,b){var h,l,g=1/0,d=1/0;if(null==m&&null!=f){f=av(f)?f:at.values(f);for(var k=0,j=f.length;j>k;k++){h=f[k],g>h&&(g=h);}}else{m=ah(m,b),at.each(f,function(i,a,c){l=m(i,a,c),(d>l||1/0===l&&1/0===g)&&(g=i,d=l);});}return g;},at.shuffle=function(g){for(var c,d=av(g)?g:at.values(g),f=d.length,a=Array(f),b=0;f>b;b++){c=at.random(0,b),c!==b&&(a[b]=a[c]),a[c]=d[b];}return a;},at.sample=function(c,a,b){return null==a||b?(av(c)||(c=at.values(c)),c[at.random(c.length-1)]):at.shuffle(c).slice(0,Math.max(0,a));},at.sortBy=function(c,a,b){return a=ah(a,b),at.pluck(at.map(c,function(g,d,f){return{value:g,index:d,criteria:a(g,d,f)};}).sort(function(h,d){var f=h.criteria,g=d.criteria;if(f!==g){if(f>g||f===void 0){return 1;}if(g>f||g===void 0){return -1;}}return h.index-d.index;}),"value");};var aa=function(a){return function(c,d,f){var b={};return d=ah(d,f),at.each(c,function(h,g){var j=d(h,g,c);a(b,h,j);}),b;};};at.groupBy=aa(function(c,a,b){at.has(c,b)?c[b].push(a):c[b]=[a];}),at.indexBy=aa(function(c,a,b){c[b]=a;}),at.countBy=aa(function(c,a,b){at.has(c,b)?c[b]++:c[b]=1;}),at.toArray=function(a){return a?at.isArray(a)?au.call(a):av(a)?at.map(a,at.identity):at.values(a):[];},at.size=function(a){return null==a?0:av(a)?a.length:at.keys(a).length;},at.partition=function(f,b,c){b=ah(b,c);var d=[],a=[];return at.each(f,function(h,g,e){(b(h,g,e)?d:a).push(h);}),[d,a];},at.first=at.head=at.take=function(c,a,b){return null==c?void 0:null==a||b?c[0]:at.initial(c,c.length-a);},at.initial=function(c,a,b){return au.call(c,0,Math.max(0,c.length-(null==a||b?1:a)));},at.last=function(c,a,b){return null==c?void 0:null==a||b?c[c.length-1]:at.rest(c,Math.max(0,c.length-a));},at.rest=at.tail=at.drop=function(c,a,b){return au.call(c,null==a||b?1:a);},at.compact=function(a){return at.filter(a,at.identity);};var G=function(g,v,b,m){for(var s=[],j=0,d=m||0,q=U(g);q>d;d++){var p=g[d];if(av(p)&&(at.isArray(p)||at.isArguments(p))){v||(p=G(p,v,b));var k=0,h=p.length;for(s.length+=h;h>k;){s[j++]=p[k++];}}else{b||(s[j++]=p);}}return s;};at.flatten=function(b,a){return G(b,a,!1);},at.without=function(a){return at.difference(a,au.call(arguments,1));},at.uniq=at.unique=function(g,q,b,k){at.isBoolean(q)||(k=b,b=q,q=!1),null!=b&&(b=ah(b,k));for(var p=[],h=[],d=0,m=U(g);m>d;d++){var l=g[d],j=b?b(l,d,g):l;q?(d&&h===j||p.push(l),h=j):b?at.contains(h,j)||(h.push(j),p.push(l)):at.contains(p,l)||p.push(l);}return p;},at.union=function(){return at.uniq(G(arguments,!0,!0));},at.intersection=function(h){for(var c=[],d=arguments.length,f=0,a=U(h);a>f;f++){var b=h[f];if(!at.contains(c,b)){for(var g=1;d>g&&at.contains(arguments[g],b);g++){}g===d&&c.push(b);}}return c;},at.difference=function(b){var a=G(arguments,!0,!0,1);return at.filter(b,function(c){return !at.contains(a,c);});},at.zip=function(){return at.unzip(arguments);},at.unzip=function(d){for(var a=d&&at.max(d,U).length||0,b=Array(a),c=0;a>c;c++){b[c]=at.pluck(d,c);}return b;},at.object=function(f,b){for(var c={},d=0,a=U(f);a>d;d++){b?c[f[d]]=b[d]:c[f[d][0]]=f[d][1];}return c;},at.findIndex=al(1),at.findLastIndex=al(-1),at.sortedIndex=function(k,f,g,h){g=ah(g,h,1);for(var c=g(f),d=0,j=U(k);j>d;){var b=Math.floor((d+j)/2);g(k[b])<c?d=b+1:j=b;}return d;},at.indexOf=an(1,at.findIndex,at.sortedIndex),at.lastIndexOf=an(-1,at.findLastIndex),at.range=function(g,c,d){null==c&&(c=g||0,g=0),d=d||1;for(var f=Math.max(Math.ceil((c-g)/d),0),a=Array(f),b=0;f>b;b++,g+=d){a[b]=g;}return a;};var ab=function(h,c,d,f,a){if(!(f instanceof c)){return h.apply(d,a);}var b=aw(h.prototype),g=h.apply(b,a);return at.isObject(g)?g:b;};at.bind=function(d,a){if(az&&d.bind===az){return az.apply(d,au.call(arguments,1));}if(!at.isFunction(d)){throw new TypeError("Bind must be called on a function");}var b=au.call(arguments,2),c=function(){return ab(d,c,a,this,b.concat(au.call(arguments)));};return c;},at.partial=function(c){var a=au.call(arguments,1),b=function(){for(var g=0,d=a.length,f=Array(d),h=0;d>h;h++){f[h]=a[h]===at?arguments[g++]:a[h];}for(;g<arguments.length;){f.push(arguments[g++]);}return ab(c,b,this,this,f);};return b;},at.bindAll=function(d){var a,b,c=arguments.length;if(1>=c){throw new Error("bindAll must be passed function names");}for(a=1;c>a;a++){b=arguments[a],d[b]=at.bind(d[b],d);}return d;},at.memoize=function(c,a){var b=function(g){var d=b.cache,f=""+(a?a.apply(this,arguments):g);return at.has(d,f)||(d[f]=c.apply(this,arguments)),d[f];};return b.cache={},b;},at.delay=function(c,a){var b=au.call(arguments,2);return setTimeout(function(){return c.apply(null,b);},a);},at.defer=at.partial(at.delay,at,1),at.throttle=function(f,m,b){var h,l,g,d=null,k=0;b||(b={});var j=function(){k=b.leading===!1?0:at.now(),d=null,g=f.apply(h,l),d||(h=l=null);};return function(){var c=at.now();k||b.leading!==!1||(k=c);var a=m-(c-k);return h=this,l=arguments,0>=a||a>m?(d&&(clearTimeout(d),d=null),k=c,g=f.apply(h,l),d||(h=l=null)):d||b.trailing===!1||(d=setTimeout(j,a)),g;};},at.debounce=function(f,m,b){var h,l,g,d,k,j=function(){var a=at.now()-d;m>a&&a>=0?h=setTimeout(j,m-a):(h=null,b||(k=f.apply(g,l),h||(g=l=null)));};return function(){g=this,l=arguments,d=at.now();var a=b&&!h;return h||(h=setTimeout(j,m)),a&&(k=f.apply(g,l),g=l=null),k;};},at.wrap=function(b,a){return at.partial(a,b);},at.negate=function(a){return function(){return !a.apply(this,arguments);};},at.compose=function(){var b=arguments,a=b.length-1;return function(){for(var c=a,d=b[a].apply(this,arguments);c--;){d=b[c].call(this,d);}return d;};},at.after=function(b,a){return function(){return --b<1?a.apply(this,arguments):void 0;};},at.before=function(c,a){var b;return function(){return --c>0&&(b=a.apply(this,arguments)),1>=c&&(a=null),b;};},at.once=at.partial(at.before,2);var W=!{toString:null}.propertyIsEnumerable("toString"),Z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];at.keys=function(c){if(!at.isObject(c)){return[];}if(aj){return aj(c);}var a=[];for(var b in c){at.has(c,b)&&a.push(b);}return W&&aB(c,a),a;},at.allKeys=function(c){if(!at.isObject(c)){return[];}var a=[];for(var b in c){a.push(b);}return W&&aB(c,a),a;},at.values=function(f){for(var b=at.keys(f),c=b.length,d=Array(c),a=0;c>a;a++){d[a]=f[b[a]];}return d;},at.mapObject=function(k,f,g){f=ah(f,g);for(var h,c=at.keys(k),d=c.length,j={},b=0;d>b;b++){h=c[b],j[h]=f(k[h],h,k);}return j;},at.pairs=function(f){for(var b=at.keys(f),c=b.length,d=Array(c),a=0;c>a;a++){d[a]=[b[a],f[b[a]]];}return d;},at.invert=function(f){for(var b={},c=at.keys(f),d=0,a=c.length;a>d;d++){b[f[c[d]]]=c[d];}return b;},at.functions=at.methods=function(c){var a=[];for(var b in c){at.isFunction(c[b])&&a.push(b);}return a.sort();},at.extend=aG(at.allKeys),at.extendOwn=at.assign=aG(at.keys),at.findKey=function(h,c,d){c=ah(c,d);for(var f,a=at.keys(h),b=0,g=a.length;g>b;b++){if(f=a[b],c(h[f],f,h)){return f;}}},at.pick=function(g,v,b){var m,s,j={},d=g;if(null==d){return j;}at.isFunction(v)?(s=at.allKeys(d),m=aE(v,b)):(s=G(arguments,!1,!1,1),m=function(e,a,c){return a in c;},d=Object(d));for(var q=0,p=s.length;p>q;q++){var k=s[q],h=d[k];m(h,k,d)&&(j[k]=h);}return j;},at.omit=function(d,a,b){if(at.isFunction(a)){a=at.negate(a);}else{var c=at.map(G(arguments,!1,!1,1),String);a=function(f,e){return !at.contains(c,e);};}return at.pick(d,a,b);},at.defaults=aG(at.allKeys,!0),at.create=function(c,a){var b=aw(c);return a&&at.extendOwn(b,a),b;},at.clone=function(a){return at.isObject(a)?at.isArray(a)?a.slice():at.extend({},a):a;},at.tap=function(b,a){return a(b),b;},at.isMatch=function(h,c){var d=at.keys(c),f=d.length;if(null==h){return !f;}for(var a=Object(h),b=0;f>b;b++){var g=d[b];if(c[g]!==a[g]||!(g in a)){return !1;}}return !0;};var V=function(g,v,b,m){if(g===v){return 0!==g||1/g===1/v;}if(null==g||null==v){return g===v;}g instanceof at&&(g=g._wrapped),v instanceof at&&(v=v._wrapped);var s=am.call(g);if(s!==am.call(v)){return !1;}switch(s){case"[object RegExp]":case"[object String]":return""+g==""+v;case"[object Number]":return +g!==+g?+v!==+v:0===+g?1/+g===1/v:+g===+v;case"[object Date]":case"[object Boolean]":return +g===+v;}var j="[object Array]"===s;if(!j){if("object"!=typeof g||"object"!=typeof v){return !1;}var d=g.constructor,q=v.constructor;if(d!==q&&!(at.isFunction(d)&&d instanceof d&&at.isFunction(q)&&q instanceof q)&&"constructor" in g&&"constructor" in v){return !1;}}b=b||[],m=m||[];for(var p=b.length;p--;){if(b[p]===g){return m[p]===v;}}if(b.push(g),m.push(v),j){if(p=g.length,p!==v.length){return !1;}for(;p--;){if(!V(g[p],v[p],b,m)){return !1;}}}else{var k,h=at.keys(g);if(p=h.length,at.keys(v).length!==p){return !1;}for(;p--;){if(k=h[p],!at.has(v,k)||!V(g[k],v[k],b,m)){return !1;}}}return b.pop(),m.pop(),!0;};at.isEqual=function(b,a){return V(b,a);},at.isEmpty=function(a){return null==a?!0:av(a)&&(at.isArray(a)||at.isString(a)||at.isArguments(a))?0===a.length:0===at.keys(a).length;},at.isElement=function(a){return !(!a||1!==a.nodeType);},at.isArray=ay||function(a){return"[object Array]"===am.call(a);},at.isObject=function(b){var a=typeof b;return"function"===a||"object"===a&&!!b;},at.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){at["is"+a]=function(b){return am.call(b)==="[object "+a+"]";};}),at.isArguments(arguments)||(at.isArguments=function(a){return at.has(a,"callee");}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(at.isFunction=function(a){return"function"==typeof a||!1;}),at.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a));},at.isNaN=function(a){return at.isNumber(a)&&a!==+a;},at.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===am.call(a);},at.isNull=function(a){return null===a;},at.isUndefined=function(a){return a===void 0;},at.has=function(b,a){return null!=b&&ap.call(b,a);},at.noConflict=function(){return ak._=ax,this;},at.identity=function(a){return a;},at.constant=function(a){return function(){return a;};},at.noop=function(){},at.property=ai,at.propertyOf=function(a){return null==a?function(){}:function(b){return a[b];};},at.matcher=at.matches=function(a){return a=at.extendOwn({},a),function(b){return at.isMatch(b,a);};},at.times=function(f,b,c){var d=Array(Math.max(0,f));b=aE(b,c,1);for(var a=0;f>a;a++){d[a]=b(a);}return d;},at.random=function(b,a){return null==a&&(a=b,b=0),b+Math.floor(Math.random()*(a-b+1));},at.now=Date.now||function(){return(new Date).getTime();};var ad={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},C=at.invert(ad),H=function(f){var b=function(e){return f[e];},c="(?:"+at.keys(f).join("|")+")",d=RegExp(c),a=RegExp(c,"g");return function(e){return e=null==e?"":""+e,d.test(e)?e.replace(a,b):e;};};at.escape=H(ad),at.unescape=H(C),at.result=function(d,a,b){var c=null==d?void 0:d[a];return c===void 0&&(c=b),at.isFunction(c)?c.call(d):c;};var ao=0;at.uniqueId=function(b){var a=++ao+"";return b?b+a:a;},at.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Y=/(.)^/,af={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ac=/\\|'|\r|\n|\u2028|\u2029/g,X=function(a){return"\\"+af[a];};at.template=function(g,q,b){!q&&b&&(q=b),q=at.defaults({},q,at.templateSettings);var k=RegExp([(q.escape||Y).source,(q.interpolate||Y).source,(q.evaluate||Y).source].join("|")+"|$","g"),p=0,h="__p+='";g.replace(k,function(f,i,n,s,c){return h+=g.slice(p,c).replace(ac,X),p=c+f.length,i?h+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?h+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(h+="';\n"+s+"\n__p+='"),f;}),h+="';\n",q.variable||(h="with(obj||{}){\n"+h+"}\n"),h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{var d=new Function(q.variable||"obj","_",h);}catch(m){throw m.source=h,m;}var l=function(a){return d.call(this,a,at);},j=q.variable||"obj";return l.source="function("+j+"){\n"+h+"}",l;},at.chain=function(b){var a=at(b);return a._chain=!0,a;};var J=function(b,a){return b._chain?at(a).chain():a;};at.mixin=function(a){at.each(at.functions(a),function(b){var c=at[b]=a[b];at.prototype[b]=function(){var d=[this._wrapped];return aA.apply(d,arguments),J(this,c.apply(at,d));};});},at.mixin(at),at.each(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var a=aq[b];at.prototype[b]=function(){var c=this._wrapped;return a.apply(c,arguments),"shift"!==b&&"splice"!==b||0!==c.length||delete c[0],J(this,c);};}),at.each(["concat","join","slice"],function(b){var a=aq[b];at.prototype[b]=function(){return J(this,a.apply(this._wrapped,arguments));};}),at.prototype.value=function(){return this._wrapped;},at.prototype.valueOf=at.prototype.toJSON=at.prototype.value,at.prototype.toString=function(){return""+this._wrapped;},"function"==typeof define&&define.amd&&define("underscore",[],function(){return at;});}).call(this);(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b();}else{if(typeof define==="function"&&define.amd){define([],b);}else{var a;if(typeof window!=="undefined"){a=window;}else{if(typeof global!=="undefined"){a=global;}else{if(typeof self!=="undefined"){a=self;}else{a=this;}}}a.s=b();}}})(function(){var d,b,a;return function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0);}if(e){return e(q,!0);}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p;}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l);},i,i.exports,c,f,k,h);}return k[q].exports;}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j]);}return g;}({1:[function(h,j,g){var e=h("./trim");var i=h("./decapitalize");j.exports=function f(l,k){l=e(l).replace(/[-_\s]+(.)?/g,function(m,n){return n?n.toUpperCase():"";});if(k===true){return i(l);}else{return l;}};},{"./decapitalize":10,"./trim":65}],2:[function(f,h,e){var i=f("./helper/makeString");h.exports=function g(l,k){l=i(l);var j=!k?l.slice(1):l.slice(1).toLowerCase();return l.charAt(0).toUpperCase()+j;};},{"./helper/makeString":20}],3:[function(f,g,e){var i=f("./helper/makeString");g.exports=function h(j){return i(j).split("");};},{"./helper/makeString":20}],4:[function(g,h,f){h.exports=function e(j,i){if(j==null){return[];}j=String(j);i=~~i;return i>0?j.match(new RegExp(".{1,"+i+"}","g")):[j];};},{}],5:[function(g,j,f){var i=g("./capitalize");var e=g("./camelize");var k=g("./helper/makeString");j.exports=function h(l){l=k(l);return i(e(l.replace(/[\W_]/g," ")).replace(/\s/g,""));};},{"./camelize":1,"./capitalize":2,"./helper/makeString":20}],6:[function(g,i,f){var e=g("./trim");i.exports=function h(j){return e(j).replace(/\s\s+/g," ");};},{"./trim":65}],7:[function(f,g,e){var h=f("./helper/makeString");var k="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž",j="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";k+=k.toUpperCase();j+=j.toUpperCase();j=j.split("");k+="ß";j.push("ss");g.exports=function i(l){return h(l).replace(/.{1}/g,function(n){var m=k.indexOf(n);return m===-1?n:j[m];});};},{"./helper/makeString":20}],8:[function(f,g,e){var h=f("./helper/makeString");g.exports=function(j,i){j=h(j);i=h(i);if(j.length===0||i.length===0){return 0;}return j.split(i).length-1;};},{"./helper/makeString":20}],9:[function(g,h,f){var e=g("./trim");h.exports=function i(j){return e(j).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase();};},{"./trim":65}],10:[function(g,h,e){var i=g("./helper/makeString");h.exports=function f(j){j=i(j);return j.charAt(0).toLowerCase()+j.slice(1);};},{"./helper/makeString":20}],11:[function(f,g,e){var i=f("./helper/makeString");function j(n){var m=n.match(/^[\s\\t]*/gm);var k=m[0].length;for(var l=1;l<m.length;l++){k=Math.min(m[l].length,k);}return k;}g.exports=function h(n,m){n=i(n);var k=j(n);var l;if(k===0){return n;}if(typeof m==="string"){l=new RegExp("^"+m,"gm");}else{l=new RegExp("^[ \\t]{"+k+"}","gm");}return n.replace(l,"");};},{"./helper/makeString":20}],12:[function(g,h,f){var i=g("./helper/makeString");var j=g("./helper/toPositive");h.exports=function e(m,l,k){m=i(m);l=""+l;if(typeof k=="undefined"){k=m.length-l.length;}else{k=Math.min(j(k),m.length)-l.length;}return k>=0&&m.indexOf(l,k)===k;};},{"./helper/makeString":20,"./helper/toPositive":22}],13:[function(g,f,h){var e=g("./helper/makeString");var i=g("./helper/escapeChars");var l="[";for(var k in i){l+=k;}l+="]";var j=new RegExp(l,"g");f.exports=function m(n){return e(n).replace(j,function(o){return"&"+i[o]+";";});};},{"./helper/escapeChars":17,"./helper/makeString":20}],14:[function(f,g,e){g.exports=function(){var h={};for(var i in this){if(!this.hasOwnProperty(i)||i.match(/^(?:include|contains|reverse|join|map|wrap)$/)){continue;}h[i]=this[i];}return h;};},{}],15:[function(f,g,e){var i=f("./makeString");g.exports=function h(k,j){k=i(k);if(k.length===0){return"";}return k.slice(0,-1)+String.fromCharCode(k.charCodeAt(k.length-1)+j);};},{"./makeString":20}],16:[function(h,i,g){var e=h("./escapeRegExp");i.exports=function f(j){if(j==null){return"\\s";}else{if(j.source){return j.source;}else{return"["+e(j)+"]";}}};},{"./escapeRegExp":18}],17:[function(f,g,e){var h={"¢":"cent","£":"pound","¥":"yen","€":"euro","©":"copy","®":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};g.exports=h;},{}],18:[function(g,h,f){var i=g("./makeString");h.exports=function e(j){return i(j).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1");};},{"./makeString":20}],19:[function(g,h,e){var f={nbsp:" ",cent:"¢",pound:"£",yen:"¥",euro:"€",copy:"©",reg:"®",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};h.exports=f;},{}],20:[function(f,g,e){g.exports=function h(i){if(i==null){return"";}return""+i;};},{}],21:[function(f,g,e){g.exports=function h(j,k){if(k<1){return"";}var i="";while(k>0){if(k&1){i+=j;}k>>=1,j+=j;}return i;};},{}],22:[function(f,g,e){g.exports=function h(i){return i<0?0:+i||0;};},{}],23:[function(g,j,f){var i=g("./capitalize");var h=g("./underscored");var e=g("./trim");j.exports=function k(l){return i(e(h(l).replace(/_id$/,"").replace(/_/g," ")));};},{"./capitalize":2,"./trim":65,"./underscored":67}],24:[function(g,h,f){var i=g("./helper/makeString");h.exports=function e(k,j){if(j===""){return true;}return i(k).indexOf(j)!==-1;};},{"./helper/makeString":20}],25:[function(g,f,h){function o(p){if(!(this instanceof o)){return new o(p);}this._wrapped=p;}o.VERSION="3.3.4";o.isBlank=g("./isBlank");o.stripTags=g("./stripTags");o.capitalize=g("./capitalize");o.decapitalize=g("./decapitalize");o.chop=g("./chop");o.trim=g("./trim");o.clean=g("./clean");o.cleanDiacritics=g("./cleanDiacritics");o.count=g("./count");o.chars=g("./chars");o.swapCase=g("./swapCase");o.escapeHTML=g("./escapeHTML");o.unescapeHTML=g("./unescapeHTML");o.splice=g("./splice");o.insert=g("./insert");o.replaceAll=g("./replaceAll");o.include=g("./include");o.join=g("./join");o.lines=g("./lines");o.dedent=g("./dedent");o.reverse=g("./reverse");o.startsWith=g("./startsWith");o.endsWith=g("./endsWith");o.pred=g("./pred");o.succ=g("./succ");o.titleize=g("./titleize");o.camelize=g("./camelize");o.underscored=g("./underscored");o.dasherize=g("./dasherize");o.classify=g("./classify");o.humanize=g("./humanize");o.ltrim=g("./ltrim");o.rtrim=g("./rtrim");o.truncate=g("./truncate");o.prune=g("./prune");o.words=g("./words");o.pad=g("./pad");o.lpad=g("./lpad");o.rpad=g("./rpad");o.lrpad=g("./lrpad");o.sprintf=g("./sprintf");o.vsprintf=g("./vsprintf");o.toNumber=g("./toNumber");o.numberFormat=g("./numberFormat");o.strRight=g("./strRight");o.strRightBack=g("./strRightBack");o.strLeft=g("./strLeft");o.strLeftBack=g("./strLeftBack");o.toSentence=g("./toSentence");o.toSentenceSerial=g("./toSentenceSerial");o.slugify=g("./slugify");o.surround=g("./surround");o.quote=g("./quote");o.unquote=g("./unquote");o.repeat=g("./repeat");o.naturalCmp=g("./naturalCmp");o.levenshtein=g("./levenshtein");o.toBoolean=g("./toBoolean");o.exports=g("./exports");o.escapeRegExp=g("./helper/escapeRegExp");o.wrap=g("./wrap");o.map=g("./map");o.strip=o.trim;o.lstrip=o.ltrim;o.rstrip=o.rtrim;o.center=o.lrpad;o.rjust=o.lpad;o.ljust=o.rpad;o.contains=o.include;o.q=o.quote;o.toBool=o.toBoolean;o.camelcase=o.camelize;o.mapChars=o.map;o.prototype={value:function m(){return this._wrapped;}};function j(p,q){if(typeof q!=="function"){return;}o.prototype[p]=function(){var r=[this._wrapped].concat(Array.prototype.slice.call(arguments));var s=q.apply(null,r);return typeof s==="string"?new o(s):s;};}for(var n in o){j(n,o[n]);}j("tap",function k(p,q){return q(p);});function l(p){j(p,function(r){var q=Array.prototype.slice.call(arguments,1);return String.prototype[p].apply(r,q);});}var i=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var e in i){l(i[e]);}f.exports=o;},{"./camelize":1,"./capitalize":2,"./chars":3,"./chop":4,"./classify":5,"./clean":6,"./cleanDiacritics":7,"./count":8,"./dasherize":9,"./decapitalize":10,"./dedent":11,"./endsWith":12,"./escapeHTML":13,"./exports":14,"./helper/escapeRegExp":18,"./humanize":23,"./include":24,"./insert":26,"./isBlank":27,"./join":28,"./levenshtein":29,"./lines":30,"./lpad":31,"./lrpad":32,"./ltrim":33,"./map":34,"./naturalCmp":35,"./numberFormat":38,"./pad":39,"./pred":40,"./prune":41,"./quote":42,"./repeat":43,"./replaceAll":44,"./reverse":45,"./rpad":46,"./rtrim":47,"./slugify":48,"./splice":49,"./sprintf":50,"./startsWith":51,"./strLeft":52,"./strLeftBack":53,"./strRight":54,"./strRightBack":55,"./stripTags":56,"./succ":57,"./surround":58,"./swapCase":59,"./titleize":60,"./toBoolean":61,"./toNumber":62,"./toSentence":63,"./toSentenceSerial":64,"./trim":65,"./truncate":66,"./underscored":67,"./unescapeHTML":68,"./unquote":69,"./vsprintf":70,"./words":71,"./wrap":72}],26:[function(f,g,e){var i=f("./splice");g.exports=function h(l,j,k){return i(l,j,0,k);};},{"./splice":49}],27:[function(g,h,f){var i=g("./helper/makeString");h.exports=function e(j){return/^\s*$/.test(i(j));};},{"./helper/makeString":20}],28:[function(f,g,e){var h=f("./helper/makeString");var j=[].slice;g.exports=function i(){var k=j.call(arguments),l=k.shift();return k.join(h(l));};},{"./helper/makeString":20}],29:[function(f,g,e){var h=f("./helper/makeString");g.exports=function i(o,n){o=h(o);n=h(n);if(o===n){return 0;}if(!o||!n){return Math.max(o.length,n.length);}var r=new Array(n.length+1);for(var m=0;m<r.length;++m){r[m]=m;}for(m=0;m<o.length;++m){var q=m+1;for(var k=0;k<n.length;++k){var p=q;q=r[k]+(o.charAt(m)===n.charAt(k)?0:1);var l=p+1;if(q>l){q=l;}l=r[k+1]+1;if(q>l){q=l;}r[k]=p;}r[k]=q;}return q;};},{"./helper/makeString":20}],30:[function(g,h,f){h.exports=function e(i){if(i==null){return[];}return String(i).split(/\r\n?|\n/);};},{}],31:[function(g,h,e){var i=g("./pad");h.exports=function f(l,k,j){return i(l,k,j);};},{"./pad":39}],32:[function(f,g,e){var i=f("./pad");g.exports=function h(l,k,j){return i(l,k,j,"both");};},{"./pad":39}],33:[function(h,i,g){var j=h("./helper/makeString");var f=h("./helper/defaultToWhiteSpace");var e=String.prototype.trimLeft;i.exports=function k(m,l){m=j(m);if(!l&&e){return e.call(m);}l=f(l);return m.replace(new RegExp("^"+l+"+"),"");};},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],34:[function(f,g,e){var h=f("./helper/makeString");g.exports=function(i,j){i=h(i);if(i.length===0||typeof j!=="function"){return i;}return i.replace(/./g,j);};},{"./helper/makeString":20}],35:[function(f,g,e){g.exports=function h(n,m){if(n==m){return 0;}if(!n){return -1;}if(!m){return 1;}var l=/(\.\d+|\d+|\D+)/g,k=String(n).match(l),j=String(m).match(l),p=Math.min(k.length,j.length);for(var o=0;o<p;o++){var t=k[o],s=j[o];if(t!==s){var r=+t;var q=+s;if(r===r&&q===q){return r>q?1:-1;}return t<s?-1:1;}}if(k.length!=j.length){return k.length-j.length;}return n<m?-1:1;};},{}],36:[function(f,g,e){(function(k){var i={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function m(){var o=arguments[0],n=m.cache;if(!(n[o]&&n.hasOwnProperty(o))){n[o]=m.parse(o);}return m.format.call(null,n[o],arguments);}m.format=function(w,v){var A=1,y=w.length,s="",B,o=[],t,q,u,p,x,z,r=true,n="";for(t=0;t<y;t++){s=h(w[t]);if(s==="string"){o[o.length]=w[t];}else{if(s==="array"){u=w[t];if(u[2]){B=v[A];for(q=0;q<u[2].length;q++){if(!B.hasOwnProperty(u[2][q])){throw new Error(m("[sprintf] property '%s' does not exist",u[2][q]));}B=B[u[2][q]];}}else{if(u[1]){B=v[u[1]];}else{B=v[A++];}}if(h(B)=="function"){B=B();}if(i.not_string.test(u[8])&&i.not_json.test(u[8])&&(h(B)!="number"&&isNaN(B))){throw new TypeError(m("[sprintf] expecting number but found %s",h(B)));}if(i.number.test(u[8])){r=B>=0;}switch(u[8]){case"b":B=B.toString(2);break;case"c":B=String.fromCharCode(B);break;case"d":case"i":B=parseInt(B,10);break;case"j":B=JSON.stringify(B,null,u[6]?parseInt(u[6]):0);break;case"e":B=u[7]?B.toExponential(u[7]):B.toExponential();break;case"f":B=u[7]?parseFloat(B).toFixed(u[7]):parseFloat(B);break;case"g":B=u[7]?parseFloat(B).toPrecision(u[7]):parseFloat(B);break;case"o":B=B.toString(8);break;case"s":B=(B=String(B))&&u[7]?B.substring(0,u[7]):B;break;case"u":B=B>>>0;break;case"x":B=B.toString(16);break;case"X":B=B.toString(16).toUpperCase();break;}if(i.json.test(u[8])){o[o.length]=B;}else{if(i.number.test(u[8])&&(!r||u[3])){n=r?"+":"-";B=B.toString().replace(i.sign,"");}else{n="";}x=u[4]?u[4]==="0"?"0":u[4].charAt(1):" ";z=u[6]-(n+B).length;p=u[6]?z>0?j(x,z):"":"";o[o.length]=u[5]?n+B+p:x==="0"?n+p+B:p+n+B;}}}}return o.join("");};m.cache={};m.parse=function(n){var q=n,r=[],t=[],s=0;while(q){if((r=i.text.exec(q))!==null){t[t.length]=r[0];}else{if((r=i.modulo.exec(q))!==null){t[t.length]="%";}else{if((r=i.placeholder.exec(q))!==null){if(r[2]){s|=1;var u=[],p=r[2],o=[];if((o=i.key.exec(p))!==null){u[u.length]=o[1];while((p=p.substring(o[0].length))!==""){if((o=i.key_access.exec(p))!==null){u[u.length]=o[1];}else{if((o=i.index_access.exec(p))!==null){u[u.length]=o[1];}else{throw new SyntaxError("[sprintf] failed to parse named argument key");}}}}else{throw new SyntaxError("[sprintf] failed to parse named argument key");}r[2]=u;}else{s|=2;}if(s===3){throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");}t[t.length]=r;}else{throw new SyntaxError("[sprintf] unexpected placeholder");}}}q=q.substring(r[0].length);}return t;};var l=function(o,n,p){p=(n||[]).slice(0);p.splice(0,0,o);return m.apply(null,p);};function h(n){return Object.prototype.toString.call(n).slice(8,-1).toLowerCase();}function j(n,o){return Array(o+1).join(n);}if(typeof e!=="undefined"){e.sprintf=m;e.vsprintf=l;}else{k.sprintf=m;k.vsprintf=l;if(typeof d==="function"&&d.amd){d(function(){return{sprintf:m,vsprintf:l};});}}})(typeof window==="undefined"?this:window);},{}],37:[function(f,g,e){(function(j){g.exports=i;function i(m,n){if(h("noDeprecation")){return m;}var l=false;function k(){if(!l){if(h("throwDeprecation")){throw new Error(n);}else{if(h("traceDeprecation")){console.trace(n);}else{console.warn(n);}}l=true;}return m.apply(this,arguments);}return k;}function h(l){try{if(!j.localStorage){return false;}}catch(k){return false;}var m=j.localStorage[l];if(null==m){return false;}return String(m).toLowerCase()==="true";}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{}],38:[function(g,h,f){h.exports=function e(l,o,i,m){if(isNaN(l)||l==null){return"";}l=l.toFixed(~~o);m=typeof m=="string"?m:",";var n=l.split("."),k=n[0],j=n[1]?(i||".")+n[1]:"";return k.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+m)+j;};},{}],39:[function(f,g,e){var h=f("./helper/makeString");var i=f("./helper/strRepeat");g.exports=function j(o,m,k,l){o=h(o);m=~~m;var n=0;if(!k){k=" ";}else{if(k.length>1){k=k.charAt(0);}}switch(l){case"right":n=m-o.length;return o+i(k,n);case"both":n=m-o.length;return i(k,Math.ceil(n/2))+o+i(k,Math.floor(n/2));default:n=m-o.length;return i(k,n)+o;}};},{"./helper/makeString":20,"./helper/strRepeat":21}],40:[function(g,h,f){var i=g("./helper/adjacent");h.exports=function e(j){return i(j,-1);};},{"./helper/adjacent":15}],41:[function(h,i,g){var j=h("./helper/makeString");var f=h("./rtrim");i.exports=function e(n,m,o){n=j(n);m=~~m;o=o!=null?String(o):"...";if(n.length<=m){return n;}var k=function(p){return p.toUpperCase()!==p.toLowerCase()?"A":" ";},l=n.slice(0,m+1).replace(/.(?=\W*\w*$)/g,k);if(l.slice(l.length-2).match(/\w\w/)){l=l.replace(/\s*\S+$/,"");}else{l=f(l.slice(0,l.length-1));}return(l+o).length>n.length?n:n.slice(0,l.length)+o;};},{"./helper/makeString":20,"./rtrim":47}],42:[function(h,i,g){var f=h("./surround");i.exports=function e(k,j){return f(k,j||'"');};},{"./surround":58}],43:[function(f,g,e){var h=f("./helper/makeString");var j=f("./helper/strRepeat");g.exports=function i(m,n,l){m=h(m);n=~~n;if(l==null){return j(m,n);}for(var k=[];n>0;k[--n]=m){}return k.join(l);};},{"./helper/makeString":20,"./helper/strRepeat":21}],44:[function(g,h,f){var i=g("./helper/makeString");h.exports=function e(o,n,k,m){var j=m===true?"gi":"g";var l=new RegExp(n,j);return i(o).replace(l,k);};},{"./helper/makeString":20}],45:[function(g,h,e){var i=g("./chars");h.exports=function f(j){return i(j).reverse().join("");};},{"./chars":3}],46:[function(f,g,e){var i=f("./pad");g.exports=function h(l,k,j){return i(l,k,j,"right");};},{"./pad":39}],47:[function(h,j,g){var k=h("./helper/makeString");var f=h("./helper/defaultToWhiteSpace");var i=String.prototype.trimRight;j.exports=function e(m,l){m=k(m);if(!l&&i){return i.call(m);}l=f(l);return m.replace(new RegExp(l+"+$"),"");};},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],48:[function(h,i,g){var f=h("./trim");var j=h("./dasherize");var k=h("./cleanDiacritics");i.exports=function e(l){return f(j(k(l).replace(/[^\w\s-]/g,"-").toLowerCase()),"-");};},{"./cleanDiacritics":7,"./dasherize":9,"./trim":65}],49:[function(f,g,e){var h=f("./chars");g.exports=function i(n,k,m,l){var j=h(n);j.splice(~~k,~~m,l);return j.join("");};},{"./chars":3}],50:[function(f,g,e){var h=f("util-deprecate");g.exports=h(f("sprintf-js").sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.");},{"sprintf-js":36,"util-deprecate":37}],51:[function(f,h,e){var i=f("./helper/makeString");var j=f("./helper/toPositive");h.exports=function g(m,l,k){m=i(m);l=""+l;k=k==null?0:Math.min(j(k),m.length);return m.lastIndexOf(l,k)===k;};},{"./helper/makeString":20,"./helper/toPositive":22}],52:[function(f,g,e){var h=f("./helper/makeString");g.exports=function i(k,j){k=h(k);j=h(j);var l=!j?-1:k.indexOf(j);return ~l?k.slice(0,l):k;};},{"./helper/makeString":20}],53:[function(f,g,e){var h=f("./helper/makeString");g.exports=function i(k,j){k=h(k);j=h(j);var l=k.lastIndexOf(j);return ~l?k.slice(0,l):k;};},{"./helper/makeString":20}],54:[function(f,g,e){var i=f("./helper/makeString");g.exports=function h(k,j){k=i(k);j=i(j);var l=!j?-1:k.indexOf(j);return ~l?k.slice(l+j.length,k.length):k;};},{"./helper/makeString":20}],55:[function(g,h,e){var i=g("./helper/makeString");h.exports=function f(k,j){k=i(k);j=i(j);var l=!j?-1:k.lastIndexOf(j);return ~l?k.slice(l+j.length,k.length):k;};},{"./helper/makeString":20}],56:[function(f,g,e){var h=f("./helper/makeString");g.exports=function i(j){return h(j).replace(/<\/?[^>]+>/g,"");};},{"./helper/makeString":20}],57:[function(g,h,f){var i=g("./helper/adjacent");h.exports=function e(j){return i(j,1);};},{"./helper/adjacent":15}],58:[function(g,h,f){h.exports=function e(i,j){return[j,i,j].join("");};},{}],59:[function(g,h,f){var i=g("./helper/makeString");h.exports=function e(j){return i(j).replace(/\S/g,function(k){return k===k.toUpperCase()?k.toLowerCase():k.toUpperCase();});};},{"./helper/makeString":20}],60:[function(f,g,e){var h=f("./helper/makeString");g.exports=function i(j){return h(j).toLowerCase().replace(/(?:^|\s|-)\S/g,function(k){return k.toUpperCase();});};},{"./helper/makeString":20}],61:[function(h,i,g){var f=h("./trim");function j(m,k){var l,n,o=m.toLowerCase();k=[].concat(k);for(l=0;l<k.length;l+=1){n=k[l];if(!n){continue;}if(n.test&&n.test(m)){return true;}if(n.toLowerCase()===o){return true;}}}i.exports=function e(m,l,k){if(typeof m==="number"){m=""+m;}if(typeof m!=="string"){return !!m;}m=f(m);if(j(m,l||["true","1"])){return true;}if(j(m,k||["false","0"])){return false;}};},{"./trim":65}],62:[function(g,h,f){h.exports=function e(j,i){if(j==null){return 0;}var k=Math.pow(10,isFinite(i)?i:0);return Math.round(j*k)/k;};},{}],63:[function(g,h,f){var e=g("./rtrim");h.exports=function i(o,n,l,k){n=n||", ";l=l||" and ";var j=o.slice(),m=j.pop();if(o.length>2&&k){l=e(n)+l;}return j.length?j.join(n)+l+m:m;};},{"./rtrim":47}],64:[function(f,g,e){var h=f("./toSentence");g.exports=function i(l,k,j){return h(l,k,j,true);};},{"./toSentence":63}],65:[function(h,i,g){var k=h("./helper/makeString");var f=h("./helper/defaultToWhiteSpace");var j=String.prototype.trim;i.exports=function e(m,l){m=k(m);if(!l&&j){return j.call(m);}l=f(l);return m.replace(new RegExp("^"+l+"+|"+l+"+$","g"),"");};},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],66:[function(f,h,e){var i=f("./helper/makeString");h.exports=function g(l,k,j){l=i(l);j=j||"...";k=~~k;return l.length>k?l.slice(0,k)+j:l;};},{"./helper/makeString":20}],67:[function(g,i,f){var e=g("./trim");i.exports=function h(j){return e(j).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();};},{"./trim":65}],68:[function(g,h,e){var i=g("./helper/makeString");var f=g("./helper/htmlEntities");h.exports=function j(k){return i(k).replace(/\&([^;]+);/g,function(l,n){var m;if(n in f){return f[n];}else{if(m=n.match(/^#x([\da-fA-F]+)$/)){return String.fromCharCode(parseInt(m[1],16));}else{if(m=n.match(/^#(\d+)$/)){return String.fromCharCode(~~m[1]);}else{return l;}}}});};},{"./helper/htmlEntities":19,"./helper/makeString":20}],69:[function(f,h,e){h.exports=function g(j,i){i=i||'"';if(j[0]===i&&j[j.length-1]===i){return j.slice(1,j.length-1);}else{return j;}};},{}],70:[function(f,g,e){var h=f("util-deprecate");g.exports=h(f("sprintf-js").vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.");},{"sprintf-js":36,"util-deprecate":37}],71:[function(h,i,g){var f=h("./isBlank");var e=h("./trim");i.exports=function j(l,k){if(f(l)){return[];}return e(l,k).split(k||/\s+/);};},{"./isBlank":27,"./trim":65}],72:[function(f,g,e){var i=f("./helper/makeString");g.exports=function h(o,s){o=i(o);s=s||{};var j=s.width||75;var p=s.seperator||"\n";var r=s.cut||false;var q=s.preserveSpaces||false;var k=s.trailingSpaces||false;var t;if(j<=0){return o;}else{if(!r){var n=o.split(" ");var l=0;t="";while(n.length>0){if(1+n[0].length+l>j){if(l>0){if(q){t+=" ";l++;}else{if(k){while(l<j){t+=" ";l++;}}}t+=p;l=0;}}if(l>0){t+=" ";l++;}t+=n[0];l+=n[0].length;n.shift();}if(k){while(l<j){t+=" ";l++;}}return t;}else{var m=0;t="";while(m<o.length){if(m%j==0&&m>0){t+=p;}t+=o.charAt(m);m++;}if(k){while(m%j>0){t+=" ";m++;}}return t;}}};},{"./helper/makeString":20}]},{},[25])(25);});(function(G){var V,aK="2.8.3",ba=typeof global!=="undefined"?global:this,av,ad=Math.round,aP=Object.prototype.hasOwnProperty,ak,z=0,j=1,a2=2,y=3,aH=4,w=5,Z=6,at={},aV=[],au=(typeof module!=="undefined"&&module.exports),e=/^\/?Date\((\-?\d+)/i,bd=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,aM=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ay=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,aj=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,k=/\d\d?/,al=/\d{1,3}/,H=/\d{1,4}/,bj=/[+\-]?\d{1,6}/,a8=/\d+/,M=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,r=/Z|[\+\-]\d\d:?\d\d/gi,n=/T/i,aX=/[\+\-]?\d+(\.\d{1,3})?/,bp=/\d{1,2}/,ai=/\d/,u=/\d\d/,bc=/\d{3}/,aW=/\d{4}/,ap=/[+-]?\d{6}/,ag=/[+-]?\d+/,aT=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,aa="YYYY-MM-DDTHH:mm:ssZ",bb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],K=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ah=/([\+\-]|\d\d)/gi,aO="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),F={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},f={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},a7={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ar={},A={s:45,m:45,h:22,d:26,M:11},a1="DDD w W M D d".split(" "),aw="M D H h m s w W".split(" "),a3={M:function(){return this.month()+1;},MMM:function(i){return this.localeData().monthsShort(this,i);},MMMM:function(i){return this.localeData().months(this,i);},D:function(){return this.date();},DDD:function(){return this.dayOfYear();},d:function(){return this.day();},dd:function(i){return this.localeData().weekdaysMin(this,i);},ddd:function(i){return this.localeData().weekdaysShort(this,i);},dddd:function(i){return this.localeData().weekdays(this,i);},w:function(){return this.week();},W:function(){return this.isoWeek();},YY:function(){return N(this.year()%100,2);},YYYY:function(){return N(this.year(),4);},YYYYY:function(){return N(this.year(),5);},YYYYYY:function(){var bq=this.year(),i=bq>=0?"+":"-";return i+N(Math.abs(bq),6);},gg:function(){return N(this.weekYear()%100,2);},gggg:function(){return N(this.weekYear(),4);},ggggg:function(){return N(this.weekYear(),5);},GG:function(){return N(this.isoWeekYear()%100,2);},GGGG:function(){return N(this.isoWeekYear(),4);},GGGGG:function(){return N(this.isoWeekYear(),5);},e:function(){return this.weekday();},E:function(){return this.isoWeekday();},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),true);},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),false);},H:function(){return this.hours();},h:function(){return this.hours()%12||12;},m:function(){return this.minutes();},s:function(){return this.seconds();},S:function(){return P(this.milliseconds()/100);},SS:function(){return N(P(this.milliseconds()/10),2);},SSS:function(){return N(this.milliseconds(),3);},SSSS:function(){return N(this.milliseconds(),3);},Z:function(){var bq=-this.zone(),i="+";if(bq<0){bq=-bq;i="-";}return i+N(P(bq/60),2)+":"+N(P(bq)%60,2);},ZZ:function(){var bq=-this.zone(),i="+";if(bq<0){bq=-bq;i="-";}return i+N(P(bq/60),2)+N(P(bq)%60,2);},z:function(){return this.zoneAbbr();},zz:function(){return this.zoneName();},X:function(){return this.unix();},Q:function(){return this.quarter();}},a={},ab=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function aY(bq,i,br){switch(arguments.length){case 2:return bq!=null?bq:i;case 3:return bq!=null?bq:i!=null?i:br;default:throw new Error("Implement me");}}function a4(bq,i){return aP.call(bq,i);}function an(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false};}function bo(i){if(V.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+i);}}function bm(bq,i){var br=true;return aI(function(){if(br){bo(bq);br=false;}return i.apply(this,arguments);},i);}function g(i,bq){if(!a[i]){bo(bq);a[i]=true;}}function S(bq,i){return function(br){return N(bq.call(this,br),i);};}function l(i,bq){return function(br){return this.localeData().ordinal(i.call(this,br),bq);};}while(a1.length){ak=a1.pop();a3[ak+"o"]=l(a3[ak],ak);}while(aw.length){ak=aw.pop();a3[ak+ak]=S(a3[ak],2);}a3.DDDD=S(a3.DDD,3);function af(){}function O(bq,i){if(i!==false){bg(bq);}aR(this,bq);this._d=new Date(+bq._d);}function am(bu){var bw=o(bu),bv=bw.year||0,bq=bw.quarter||0,br=bw.month||0,i=bw.week||0,bz=bw.day||0,bx=bw.hour||0,bt=bw.minute||0,by=bw.second||0,bs=bw.millisecond||0;this._milliseconds=+bs+by*1000+bt*60000+bx*3600000;this._days=+bz+i*7;this._months=+br+bq*3+bv*12;this._data={};this._locale=V.localeData();this._bubble();}function aI(br,bq){for(var bs in bq){if(a4(bq,bs)){br[bs]=bq[bs];}}if(a4(bq,"toString")){br.toString=bq.toString;}if(a4(bq,"valueOf")){br.valueOf=bq.valueOf;}return br;}function aR(bu,bt){var bq,bs,br;if(typeof bt._isAMomentObject!=="undefined"){bu._isAMomentObject=bt._isAMomentObject;}if(typeof bt._i!=="undefined"){bu._i=bt._i;}if(typeof bt._f!=="undefined"){bu._f=bt._f;}if(typeof bt._l!=="undefined"){bu._l=bt._l;}if(typeof bt._strict!=="undefined"){bu._strict=bt._strict;}if(typeof bt._tzm!=="undefined"){bu._tzm=bt._tzm;}if(typeof bt._isUTC!=="undefined"){bu._isUTC=bt._isUTC;}if(typeof bt._offset!=="undefined"){bu._offset=bt._offset;}if(typeof bt._pf!=="undefined"){bu._pf=bt._pf;}if(typeof bt._locale!=="undefined"){bu._locale=bt._locale;}if(aV.length>0){for(bq in aV){bs=aV[bq];br=bt[bs];if(typeof br!=="undefined"){bu[bs]=br;}}}return bu;}function p(i){if(i<0){return Math.ceil(i);}else{return Math.floor(i);}}function N(bt,bs,br){var bq=""+Math.abs(bt),i=bt>=0;while(bq.length<bs){bq="0"+bq;}return(i?(br?"+":""):"-")+bq;}function d(br,i){var bq={milliseconds:0,months:0};bq.months=i.month()-br.month()+(i.year()-br.year())*12;if(br.clone().add(bq.months,"M").isAfter(i)){--bq.months;}bq.milliseconds=+i-+(br.clone().add(bq.months,"M"));return bq;}function ac(br,i){var bq;i=B(i,br);if(br.isBefore(i)){bq=d(br,i);}else{bq=d(i,br);bq.milliseconds=-bq.milliseconds;bq.months=-bq.months;}return bq;}function W(bq,i){return function(bu,bt){var bs,br;if(bt!==null&&!isNaN(+bt)){g(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period).");br=bu;bu=bt;bt=br;}bu=typeof bu==="string"?+bu:bu;bs=V.duration(bu,bt);J(this,bs,bq);return this;};}function J(br,bu,bt,bs){var bq=bu._milliseconds,bv=bu._days,i=bu._months;bs=bs==null?true:bs;if(bq){br._d.setTime(+br._d+bq*bt);}if(bv){aZ(br,"Date",bn(br,"Date")+bv*bt);}if(i){bi(br,bn(br,"Month")+i*bt);}if(bs){V.updateOffset(br,bv||i);}}function b(i){return Object.prototype.toString.call(i)==="[object Array]";}function h(i){return Object.prototype.toString.call(i)==="[object Date]"||i instanceof Date;}function a0(bv,bu,br){var bq=Math.min(bv.length,bu.length),bs=Math.abs(bv.length-bu.length),bw=0,bt;for(bt=0;bt<bq;bt++){if((br&&bv[bt]!==bu[bt])||(!br&&P(bv[bt])!==P(bu[bt]))){bw++;}}return bw+bs;}function a6(bq){if(bq){var i=bq.toLowerCase().replace(/(.)s$/,"$1");bq=f[bq]||a7[i]||i;}return bq;}function o(br){var bq={},i,bs;for(bs in br){if(a4(br,bs)){i=a6(bs);if(i){bq[i]=br[bs];}}}return bq;}function aE(bq){var i,br;if(bq.indexOf("week")===0){i=7;br="day";}else{if(bq.indexOf("month")===0){i=12;br="month";}else{return;}}V[bq]=function(bw,bt){var bv,bs,bx=V._locale[bq],bu=[];if(typeof bw==="number"){bt=bw;bw=G;}bs=function(bz){var by=V().utc().set(br,bz);return bx.call(V._locale,by,bw||"");};if(bt!=null){return bs(bt);}else{for(bv=0;bv<i;bv++){bu.push(bs(bv));}return bu;}};}function P(i){var br=+i,bq=0;if(br!==0&&isFinite(br)){if(br>=0){bq=Math.floor(br);}else{bq=Math.ceil(br);}}return bq;}function be(i,bq){return new Date(Date.UTC(i,bq+1,0)).getUTCDate();}function aN(i,br,bq){return E(V([i,11,31+br-bq]),br,bq).week;}function a9(i){return aS(i)?366:365;}function aS(i){return(i%4===0&&i%100!==0)||i%400===0;}function bg(i){var bq;if(i._a&&i._pf.overflow===-2){bq=i._a[j]<0||i._a[j]>11?j:i._a[a2]<1||i._a[a2]>be(i._a[z],i._a[j])?a2:i._a[y]<0||i._a[y]>23?y:i._a[aH]<0||i._a[aH]>59?aH:i._a[w]<0||i._a[w]>59?w:i._a[Z]<0||i._a[Z]>999?Z:-1;if(i._pf._overflowDayOfYear&&(bq<z||bq>a2)){bq=a2;}i._pf.overflow=bq;}}function aJ(i){if(i._isValid==null){i._isValid=!isNaN(i._d.getTime())&&i._pf.overflow<0&&!i._pf.empty&&!i._pf.invalidMonth&&!i._pf.nullInput&&!i._pf.invalidFormat&&!i._pf.userInvalidated;if(i._strict){i._isValid=i._isValid&&i._pf.charsLeftOver===0&&i._pf.unusedTokens.length===0;}}return i._isValid;}function aU(i){return i?i.toLowerCase().replace("_","-"):i;}function aB(bv){var bt=0,br,bu,bq,bs;while(bt<bv.length){bs=aU(bv[bt]).split("-");br=bs.length;bu=aU(bv[bt+1]);bu=bu?bu.split("-"):null;while(br>0){bq=c(bs.slice(0,br).join("-"));if(bq){return bq;}if(bu&&bu.length>=br&&a0(bs,bu,true)>=br-1){break;}br--;}bt++;}return null;}function c(i){var br=null;if(!at[i]&&au){try{br=V.locale();require("./locale/"+i);V.locale(br);}catch(bq){}}return at[i];}function B(i,bq){return bq._isUTC?V(i).zone(bq._offset||0):V(i).local();}aI(af.prototype,{set:function(bq){var bs,br;for(br in bq){bs=bq[br];if(typeof bs==="function"){this[br]=bs;}else{this["_"+br]=bs;}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(i){return this._months[i.month()];},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(i){return this._monthsShort[i.month()];},monthsParse:function(bq){var br,bt,bs;if(!this._monthsParse){this._monthsParse=[];}for(br=0;br<12;br++){if(!this._monthsParse[br]){bt=V.utc([2000,br]);bs="^"+this.months(bt,"")+"|^"+this.monthsShort(bt,"");this._monthsParse[br]=new RegExp(bs.replace(".",""),"i");}if(this._monthsParse[br].test(bq)){return br;}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(i){return this._weekdays[i.day()];},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(i){return this._weekdaysShort[i.day()];},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(i){return this._weekdaysMin[i.day()];},weekdaysParse:function(bt){var bq,bs,br;if(!this._weekdaysParse){this._weekdaysParse=[];}for(bq=0;bq<7;bq++){if(!this._weekdaysParse[bq]){bs=V([2000,1]).day(bq);br="^"+this.weekdays(bs,"")+"|^"+this.weekdaysShort(bs,"")+"|^"+this.weekdaysMin(bs,"");this._weekdaysParse[bq]=new RegExp(br.replace(".",""),"i");}if(this._weekdaysParse[bq].test(bt)){return bq;}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(bq){var i=this._longDateFormat[bq];if(!i&&this._longDateFormat[bq.toUpperCase()]){i=this._longDateFormat[bq.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(br){return br.slice(1);});this._longDateFormat[bq]=i;}return i;},isPM:function(i){return((i+"").toLowerCase().charAt(0)==="p");},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(i,bq,br){if(i>11){return br?"pm":"PM";}else{return br?"am":"AM";}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(bq,br){var i=this._calendar[bq];return typeof i==="function"?i.apply(br):i;},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(bs,br,bq,bt){var i=this._relativeTime[bq];return(typeof i==="function")?i(bs,br,bq,bt):i.replace(/%d/i,bs);},pastFuture:function(br,i){var bq=this._relativeTime[br>0?"future":"past"];return typeof bq==="function"?bq(i):bq.replace(/%s/i,i);},ordinal:function(i){return this._ordinal.replace("%d",i);},_ordinal:"%d",preparse:function(i){return i;},postformat:function(i){return i;},week:function(i){return E(i,this._week.dow,this._week.doy).week;},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate;}});function aq(i){if(i.match(/\[[\s\S]/)){return i.replace(/^\[|\]$/g,"");}return i.replace(/\\/g,"");}function v(bs){var bt=bs.match(ay),bq,br;for(bq=0,br=bt.length;bq<br;bq++){if(a3[bt[bq]]){bt[bq]=a3[bt[bq]];}else{bt[bq]=aq(bt[bq]);}}return function(bu){var i="";for(bq=0;bq<br;bq++){i+=bt[bq] instanceof Function?bt[bq].call(bu,bs):bt[bq];}return i;};}function ax(i,bq){if(!i.isValid()){return i.localeData().invalidDate();}bq=bk(bq,i.localeData());if(!ar[bq]){ar[bq]=v(bq);}return ar[bq](i);}function bk(bt,bq){var br=5;function bs(i){return bq.longDateFormat(i)||i;}aj.lastIndex=0;while(br>=0&&aj.test(bt)){bt=bt.replace(aj,bs);aj.lastIndex=0;br-=1;}return bt;}function aC(bs,br){var bq,i=br._strict;switch(bs){case"Q":return ai;case"DDDD":return bc;case"YYYY":case"GGGG":case"gggg":return i?aW:H;case"Y":case"G":case"g":return ag;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?ap:bj;case"S":if(i){return ai;}case"SS":if(i){return u;}case"SSS":if(i){return bc;}case"DDD":return al;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return M;case"a":case"A":return br._locale._meridiemParse;case"X":return aX;case"Z":case"ZZ":return r;case"T":return n;case"SSSS":return a8;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?u:k;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return k;case"Do":return bp;default:bq=new RegExp(bh(aG(bs.replace("\\","")),"i"));return bq;}}function C(bq){bq=bq||"";var i=(bq.match(r)||[]),bt=i[i.length-1]||[],bs=(bt+"").match(ah)||["-",0,0],br=+(bs[1]*60)+P(bs[2]);return bs[0]==="+"?-br:br;}function aF(bt,br,bs){var bq,i=bs._a;switch(bt){case"Q":if(br!=null){i[j]=(P(br)-1)*3;}break;case"M":case"MM":if(br!=null){i[j]=P(br)-1;}break;case"MMM":case"MMMM":bq=bs._locale.monthsParse(br);if(bq!=null){i[j]=bq;}else{bs._pf.invalidMonth=br;}break;case"D":case"DD":if(br!=null){i[a2]=P(br);}break;case"Do":if(br!=null){i[a2]=P(parseInt(br,10));}break;case"DDD":case"DDDD":if(br!=null){bs._dayOfYear=P(br);}break;case"YY":i[z]=V.parseTwoDigitYear(br);break;case"YYYY":case"YYYYY":case"YYYYYY":i[z]=P(br);break;case"a":case"A":bs._isPm=bs._locale.isPM(br);break;case"H":case"HH":case"h":case"hh":i[y]=P(br);break;case"m":case"mm":i[aH]=P(br);break;case"s":case"ss":i[w]=P(br);break;case"S":case"SS":case"SSS":case"SSSS":i[Z]=P(("0."+br)*1000);break;case"X":bs._d=new Date(parseFloat(br)*1000);break;case"Z":case"ZZ":bs._useUTC=true;bs._tzm=C(br);break;case"dd":case"ddd":case"dddd":bq=bs._locale.weekdaysParse(br);if(bq!=null){bs._w=bs._w||{};bs._w.d=bq;}else{bs._pf.invalidWeekday=br;}break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":bt=bt.substr(0,1);case"gggg":case"GGGG":case"GGGGG":bt=bt.substr(0,2);if(br){bs._w=bs._w||{};bs._w[bt]=P(br);}break;case"gg":case"GG":bs._w=bs._w||{};bs._w[bt]=V.parseTwoDigitYear(br);}}function X(br){var i,bt,bs,bu,bw,bv,bq;i=br._w;if(i.GG!=null||i.W!=null||i.E!=null){bw=1;bv=4;bt=aY(i.GG,br._a[z],E(V(),1,4).year);bs=aY(i.W,1);bu=aY(i.E,1);}else{bw=br._locale._week.dow;bv=br._locale._week.doy;bt=aY(i.gg,br._a[z],E(V(),bw,bv).year);bs=aY(i.w,1);if(i.d!=null){bu=i.d;if(bu<bw){++bs;}}else{if(i.e!=null){bu=i.e+bw;}else{bu=bw;}}}bq=x(bt,bs,bu,bv,bw);br._a[z]=bq.year;br._dayOfYear=bq.dayOfYear;}function ao(bu){var bv,bt,bs=[],br,bq;if(bu._d){return;}br=q(bu);if(bu._w&&bu._a[a2]==null&&bu._a[j]==null){X(bu);}if(bu._dayOfYear){bq=aY(bu._a[z],br[z]);if(bu._dayOfYear>a9(bq)){bu._pf._overflowDayOfYear=true;}bt=L(bq,0,bu._dayOfYear);bu._a[j]=bt.getUTCMonth();bu._a[a2]=bt.getUTCDate();}for(bv=0;bv<3&&bu._a[bv]==null;++bv){bu._a[bv]=bs[bv]=br[bv];}for(;bv<7;bv++){bu._a[bv]=bs[bv]=(bu._a[bv]==null)?(bv===2?1:0):bu._a[bv];}bu._d=(bu._useUTC?L:az).apply(null,bs);if(bu._tzm!=null){bu._d.setUTCMinutes(bu._d.getUTCMinutes()+bu._tzm);}}function aL(bq){var i;if(bq._d){return;}i=o(bq._i);bq._a=[i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond];ao(bq);}function q(bq){var i=new Date();if(bq._useUTC){return[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()];}else{return[i.getFullYear(),i.getMonth(),i.getDate()];}}function U(bs){if(bs._f===V.ISO_8601){aA(bs);return;}bs._a=[];bs._pf.empty=true;var bv=""+bs._i,bu,br,by,bt,bx,bq=bv.length,bw=0;by=bk(bs._f,bs._locale).match(ay)||[];for(bu=0;bu<by.length;bu++){bt=by[bu];br=(bv.match(aC(bt,bs))||[])[0];if(br){bx=bv.substr(0,bv.indexOf(br));if(bx.length>0){bs._pf.unusedInput.push(bx);}bv=bv.slice(bv.indexOf(br)+br.length);bw+=br.length;}if(a3[bt]){if(br){bs._pf.empty=false;}else{bs._pf.unusedTokens.push(bt);}aF(bt,br,bs);}else{if(bs._strict&&!br){bs._pf.unusedTokens.push(bt);}}}bs._pf.charsLeftOver=bq-bw;if(bv.length>0){bs._pf.unusedInput.push(bv);}if(bs._isPm&&bs._a[y]<12){bs._a[y]+=12;}if(bs._isPm===false&&bs._a[y]===12){bs._a[y]=0;}ao(bs);bg(bs);}function aG(i){return i.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(bq,bu,bt,bs,br){return bu||bt||bs||br;});}function bh(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");}function a5(bq){var bu,bs,bt,br,bv;if(bq._f.length===0){bq._pf.invalidFormat=true;bq._d=new Date(NaN);return;}for(br=0;br<bq._f.length;br++){bv=0;bu=aR({},bq);if(bq._useUTC!=null){bu._useUTC=bq._useUTC;}bu._pf=an();bu._f=bq._f[br];U(bu);if(!aJ(bu)){continue;}bv+=bu._pf.charsLeftOver;bv+=bu._pf.unusedTokens.length*10;bu._pf.score=bv;if(bt==null||bv<bt){bt=bv;bs=bu;}}aI(bq,bs||bu);}function aA(bt){var bu,bq,bs=bt._i,br=aT.exec(bs);if(br){bt._pf.iso=true;for(bu=0,bq=bb.length;bu<bq;bu++){if(bb[bu][1].exec(bs)){bt._f=bb[bu][0]+(br[6]||" ");break;}}for(bu=0,bq=K.length;bu<bq;bu++){if(K[bu][1].exec(bs)){bt._f+=K[bu][0];break;}}if(bs.match(r)){bt._f+="Z";}U(bt);}else{bt._isValid=false;}}function m(i){aA(i);if(i._isValid===false){delete i._isValid;V.createFromInputFallback(i);}}function I(bq,bt){var bs=[],br;for(br=0;br<bq.length;++br){bs.push(bt(bq[br],br));}return bs;}function T(br){var bq=br._i,i;if(bq===G){br._d=new Date();}else{if(h(bq)){br._d=new Date(+bq);}else{if((i=e.exec(bq))!==null){br._d=new Date(+i[1]);}else{if(typeof bq==="string"){m(br);}else{if(b(bq)){br._a=I(bq.slice(0),function(bs){return parseInt(bs,10);});ao(br);}else{if(typeof(bq)==="object"){aL(br);}else{if(typeof(bq)==="number"){br._d=new Date(bq);}else{V.createFromInputFallback(br);}}}}}}}}function az(bw,i,bu,bt,bv,bs,br){var bq=new Date(bw,i,bu,bt,bv,bs,br);if(bw<1970){bq.setFullYear(bw);}return bq;}function L(bq){var i=new Date(Date.UTC.apply(null,arguments));if(bq<1970){i.setUTCFullYear(bq);}return i;}function bf(bq,i){if(typeof bq==="string"){if(!isNaN(bq)){bq=parseInt(bq,10);}else{bq=i.weekdaysParse(bq);if(typeof bq!=="number"){return null;}}}return bq;}function aQ(bq,bs,br,bt,i){return i.relativeTime(bs||1,!!br,bq,bt);}function D(bt,bq,bx){var br=V.duration(bt).abs(),by=ad(br.as("s")),bs=ad(br.as("m")),bw=ad(br.as("h")),bz=ad(br.as("d")),i=ad(br.as("M")),bu=ad(br.as("y")),bv=by<A.s&&["s",by]||bs===1&&["m"]||bs<A.m&&["mm",bs]||bw===1&&["h"]||bw<A.h&&["hh",bw]||bz===1&&["d"]||bz<A.d&&["dd",bz]||i===1&&["M"]||i<A.M&&["MM",i]||bu===1&&["y"]||["yy",bu];bv[2]=bq;bv[3]=+bt>0;bv[4]=bx;return aQ.apply({},bv);}function E(bt,br,bu){var bq=bu-br,i=bu-bt.day(),bs;if(i>bq){i-=7;}if(i<bq-7){i+=7;}bs=V(bt).add(i,"d");return{week:Math.ceil(bs.dayOfYear()/7),year:bs.year()};}function x(bt,bs,bu,bw,i){var bv=L(bt,0,1).getUTCDay(),br,bq;bv=bv===0?7:bv;bu=bu!=null?bu:i;br=i-bv+(bv>bw?7:0)-(bv<i?7:0);bq=7*(bs-1)+(bu-i)+br+1;return{year:bq>0?bt:bt-1,dayOfYear:bq>0?bq:a9(bt-1)+bq};}function R(bq){var i=bq._i,br=bq._f;bq._locale=bq._locale||V.localeData(bq._l);if(i===null||(br===G&&i==="")){return V.invalid({nullInput:true});}if(typeof i==="string"){bq._i=i=bq._locale.preparse(i);}if(V.isMoment(i)){return new O(i,true);}else{if(br){if(b(br)){a5(bq);}else{U(bq);}}else{T(bq);}}return new O(bq);}V=function(br,bs,i,bq){var bt;if(typeof(i)==="boolean"){bq=i;i=G;}bt={};bt._isAMomentObject=true;bt._i=br;bt._f=bs;bt._l=i;bt._strict=bq;bt._isUTC=false;bt._pf=an();return R(bt);};V.suppressDeprecationWarnings=false;V.createFromInputFallback=bm("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(i){i._d=new Date(i._i);});function aD(bs,bt){var br,bq;if(bt.length===1&&b(bt[0])){bt=bt[0];}if(!bt.length){return V();}br=bt[0];for(bq=1;bq<bt.length;++bq){if(bt[bq][bs](br)){br=bt[bq];}}return br;}V.min=function(){var i=[].slice.call(arguments,0);return aD("isBefore",i);};V.max=function(){var i=[].slice.call(arguments,0);return aD("isAfter",i);};V.utc=function(br,bs,i,bq){var bt;if(typeof(i)==="boolean"){bq=i;i=G;}bt={};bt._isAMomentObject=true;bt._useUTC=true;bt._isUTC=true;bt._l=i;bt._i=br;bt._f=bs;bt._strict=bq;bt._pf=an();return R(bt).utc();};V.unix=function(i){return V(i*1000);};V.duration=function(br,bv){var bw=br,bu=null,bq,bt,bs,i;if(V.isDuration(br)){bw={ms:br._milliseconds,d:br._days,M:br._months};}else{if(typeof br==="number"){bw={};if(bv){bw[bv]=br;}else{bw.milliseconds=br;}}else{if(!!(bu=bd.exec(br))){bq=(bu[1]==="-")?-1:1;bw={y:0,d:P(bu[a2])*bq,h:P(bu[y])*bq,m:P(bu[aH])*bq,s:P(bu[w])*bq,ms:P(bu[Z])*bq};}else{if(!!(bu=aM.exec(br))){bq=(bu[1]==="-")?-1:1;bs=function(by){var bx=by&&parseFloat(by.replace(",","."));return(isNaN(bx)?0:bx)*bq;};bw={y:bs(bu[2]),M:bs(bu[3]),d:bs(bu[4]),h:bs(bu[5]),m:bs(bu[6]),s:bs(bu[7]),w:bs(bu[8])};}else{if(typeof bw==="object"&&("from" in bw||"to" in bw)){i=ac(V(bw.from),V(bw.to));bw={};bw.ms=i.milliseconds;bw.M=i.months;}}}}}bt=new am(bw);if(V.isDuration(br)&&a4(br,"_locale")){bt._locale=br._locale;}return bt;};V.version=aK;V.defaultFormat=aa;V.ISO_8601=function(){};V.momentProperties=aV;V.updateOffset=function(){};V.relativeTimeThreshold=function(i,bq){if(A[i]===G){return false;}if(bq===G){return A[i];}A[i]=bq;return true;};V.lang=bm("moment.lang is deprecated. Use moment.locale instead.",function(i,bq){return V.locale(i,bq);});V.locale=function(bq,i){var br;if(bq){if(typeof(i)!=="undefined"){br=V.defineLocale(bq,i);}else{br=V.localeData(bq);}if(br){V.duration._locale=V._locale=br;}}return V._locale._abbr;};V.defineLocale=function(bq,i){if(i!==null){i.abbr=bq;if(!at[bq]){at[bq]=new af();}at[bq].set(i);V.locale(bq);return at[bq];}else{delete at[bq];return null;}};V.langData=bm("moment.langData is deprecated. Use moment.localeData instead.",function(i){return V.localeData(i);});V.localeData=function(bq){var i;if(bq&&bq._locale&&bq._locale._abbr){bq=bq._locale._abbr;}if(!bq){return V._locale;}if(!b(bq)){i=c(bq);if(i){return i;}bq=[bq];}return aB(bq);};V.isMoment=function(i){return i instanceof O||(i!=null&&a4(i,"_isAMomentObject"));};V.isDuration=function(i){return i instanceof am;};for(ak=ab.length-1;ak>=0;--ak){aE(ab[ak]);}V.normalizeUnits=function(i){return a6(i);};V.invalid=function(bq){var i=V.utc(NaN);if(bq!=null){aI(i._pf,bq);}else{i._pf.userInvalidated=true;}return i;};V.parseZone=function(){return V.apply(null,arguments).parseZone();};V.parseTwoDigitYear=function(i){return P(i)+(P(i)>68?1900:2000);};aI(V.fn=O.prototype,{clone:function(){return V(this);},valueOf:function(){return +this._d+((this._offset||0)*60000);},unix:function(){return Math.floor(+this/1000);},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");},toDate:function(){return this._offset?new Date(+this):this._d;},toISOString:function(){var i=V(this).utc();if(0<i.year()&&i.year()<=9999){return ax(i,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]");}else{return ax(i,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");}},toArray:function(){var i=this;return[i.year(),i.month(),i.date(),i.hours(),i.minutes(),i.seconds(),i.milliseconds()];},isValid:function(){return aJ(this);},isDSTShifted:function(){if(this._a){return this.isValid()&&a0(this._a,(this._isUTC?V.utc(this._a):V(this._a)).toArray())>0;}return false;},parsingFlags:function(){return aI({},this._pf);},invalidAt:function(){return this._pf.overflow;},utc:function(i){return this.zone(0,i);},local:function(i){if(this._isUTC){this.zone(0,i);this._isUTC=false;if(i){this.add(this._dateTzOffset(),"m");}}return this;},format:function(bq){var i=ax(this,bq||V.defaultFormat);return this.localeData().postformat(i);},add:W(1,"add"),subtract:W(-1,"subtract"),diff:function(bt,bs,i){var bv=B(bt,this),bq=(this.zone()-bv.zone())*60000,bw,br,bu;bs=a6(bs);if(bs==="year"||bs==="month"){bw=(this.daysInMonth()+bv.daysInMonth())*43200000;br=((this.year()-bv.year())*12)+(this.month()-bv.month());bu=(this-V(this).startOf("month"))-(bv-V(bv).startOf("month"));bu-=((this.zone()-V(this).startOf("month").zone())-(bv.zone()-V(bv).startOf("month").zone()))*60000;br+=bu/bw;if(bs==="year"){br=br/12;}}else{bw=(this-bv);br=bs==="second"?bw/1000:bs==="minute"?bw/60000:bs==="hour"?bw/3600000:bs==="day"?(bw-bq)/86400000:bs==="week"?(bw-bq)/604800000:bw;}return i?br:p(br);},from:function(bq,i){return V.duration({to:this,from:bq}).locale(this.locale()).humanize(!i);},fromNow:function(i){return this.from(V(),i);},calendar:function(bt){var bq=bt||V(),i=B(bq,this).startOf("day"),bs=this.diff(i,"days",true),br=bs<-6?"sameElse":bs<-1?"lastWeek":bs<0?"lastDay":bs<1?"sameDay":bs<2?"nextDay":bs<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(br,this));},isLeapYear:function(){return aS(this.year());},isDST:function(){return(this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone());},day:function(bq){var i=this._isUTC?this._d.getUTCDay():this._d.getDay();if(bq!=null){bq=bf(bq,this.localeData());return this.add(bq-i,"d");}else{return i;}},month:t("Month",true),startOf:function(i){i=a6(i);switch(i){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0);}if(i==="week"){this.weekday(0);}else{if(i==="isoWeek"){this.isoWeekday(1);}}if(i==="quarter"){this.month(Math.floor(this.month()/3)*3);}return this;},endOf:function(i){i=a6(i);return this.startOf(i).add(1,(i==="isoWeek"?"week":i)).subtract(1,"ms");},isAfter:function(bq,i){i=a6(typeof i!=="undefined"?i:"millisecond");if(i==="millisecond"){bq=V.isMoment(bq)?bq:V(bq);return +this>+bq;}else{return +this.clone().startOf(i)>+V(bq).startOf(i);}},isBefore:function(bq,i){i=a6(typeof i!=="undefined"?i:"millisecond");if(i==="millisecond"){bq=V.isMoment(bq)?bq:V(bq);return +this<+bq;}else{return +this.clone().startOf(i)<+V(bq).startOf(i);}},isSame:function(bq,i){i=a6(i||"millisecond");if(i==="millisecond"){bq=V.isMoment(bq)?bq:V(bq);return +this===+bq;}else{return +this.clone().startOf(i)===+B(bq,this).startOf(i);}},min:bm("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(i){i=V.apply(null,arguments);return i<this?this:i;}),max:bm("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(i){i=V.apply(null,arguments);return i>this?this:i;}),zone:function(i,bs){var br=this._offset||0,bq;if(i!=null){if(typeof i==="string"){i=C(i);}if(Math.abs(i)<16){i=i*60;}if(!this._isUTC&&bs){bq=this._dateTzOffset();}this._offset=i;this._isUTC=true;if(bq!=null){this.subtract(bq,"m");}if(br!==i){if(!bs||this._changeInProgress){J(this,V.duration(br-i,"m"),1,false);}else{if(!this._changeInProgress){this._changeInProgress=true;V.updateOffset(this,true);this._changeInProgress=null;}}}}else{return this._isUTC?br:this._dateTzOffset();}return this;},zoneAbbr:function(){return this._isUTC?"UTC":"";},zoneName:function(){return this._isUTC?"Coordinated Universal Time":"";},parseZone:function(){if(this._tzm){this.zone(this._tzm);}else{if(typeof this._i==="string"){this.zone(this._i);}}return this;},hasAlignedHourOffset:function(i){if(!i){i=0;}else{i=V(i).zone();}return(this.zone()-i)%60===0;},daysInMonth:function(){return be(this.year(),this.month());},dayOfYear:function(i){var bq=ad((V(this).startOf("day")-V(this).startOf("year"))/86400000)+1;return i==null?bq:this.add((i-bq),"d");},quarter:function(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3);},weekYear:function(i){var bq=E(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return i==null?bq:this.add((i-bq),"y");},isoWeekYear:function(i){var bq=E(this,1,4).year;return i==null?bq:this.add((i-bq),"y");},week:function(i){var bq=this.localeData().week(this);return i==null?bq:this.add((i-bq)*7,"d");},isoWeek:function(i){var bq=E(this,1,4).week;return i==null?bq:this.add((i-bq)*7,"d");},weekday:function(i){var bq=(this.day()+7-this.localeData()._week.dow)%7;return i==null?bq:this.add(i-bq,"d");},isoWeekday:function(i){return i==null?this.day()||7:this.day(this.day()%7?i:i-7);},isoWeeksInYear:function(){return aN(this.year(),1,4);},weeksInYear:function(){var i=this.localeData()._week;return aN(this.year(),i.dow,i.doy);},get:function(i){i=a6(i);return this[i]();},set:function(i,bq){i=a6(i);if(typeof this[i]==="function"){this[i](bq);}return this;},locale:function(bq){var i;if(bq===G){return this._locale._abbr;}else{i=V.localeData(bq);if(i!=null){this._locale=i;}return this;}},lang:bm("moment().lang() is deprecated. Use moment().localeData() instead.",function(i){if(i===G){return this.localeData();}else{return this.locale(i);}}),localeData:function(){return this._locale;},_dateTzOffset:function(){return Math.round(this._d.getTimezoneOffset()/15)*15;}});function bi(i,bq){var br;if(typeof bq==="string"){bq=i.localeData().monthsParse(bq);if(typeof bq!=="number"){return i;}}br=Math.min(i.date(),be(i.year(),bq));i._d["set"+(i._isUTC?"UTC":"")+"Month"](bq,br);return i;}function bn(bq,i){return bq._d["get"+(bq._isUTC?"UTC":"")+i]();}function aZ(bq,i,br){if(i==="Month"){return bi(bq,br);}else{return bq._d["set"+(bq._isUTC?"UTC":"")+i](br);}}function t(i,bq){return function(br){if(br!=null){aZ(this,i,br);V.updateOffset(this,bq);return this;}else{return bn(this,i);}};}V.fn.millisecond=V.fn.milliseconds=t("Milliseconds",false);V.fn.second=V.fn.seconds=t("Seconds",false);V.fn.minute=V.fn.minutes=t("Minutes",false);V.fn.hour=V.fn.hours=t("Hours",true);V.fn.date=t("Date",true);V.fn.dates=bm("dates accessor is deprecated. Use date instead.",t("Date",true));V.fn.year=t("FullYear",true);V.fn.years=bm("years accessor is deprecated. Use year instead.",t("FullYear",true));V.fn.days=V.fn.day;V.fn.months=V.fn.month;V.fn.weeks=V.fn.week;V.fn.isoWeeks=V.fn.isoWeek;V.fn.quarters=V.fn.quarter;V.fn.toJSON=V.fn.toISOString;function s(i){return i*400/146097;}function bl(i){return i*146097/400;}aI(V.duration.fn=am.prototype,{_bubble:function(){var br=this._milliseconds,bw=this._days,i=this._months,bu=this._data,bv,bt,bq,bs=0;bu.milliseconds=br%1000;bv=p(br/1000);bu.seconds=bv%60;bt=p(bv/60);bu.minutes=bt%60;bq=p(bt/60);bu.hours=bq%24;bw+=p(bq/24);bs=p(s(bw));bw-=p(bl(bs));i+=p(bw/30);bw%=30;bs+=p(i/12);i%=12;bu.days=bw;bu.months=i;bu.years=bs;},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this;},weeks:function(){return p(this.days()/7);},valueOf:function(){return this._milliseconds+this._days*86400000+(this._months%12)*2592000000+P(this._months/12)*31536000000;},humanize:function(bq){var i=D(this,!bq,this.localeData());if(bq){i=this.localeData().pastFuture(+this,i);}return this.localeData().postformat(i);},add:function(i,br){var bq=V.duration(i,br);this._milliseconds+=bq._milliseconds;this._days+=bq._days;this._months+=bq._months;this._bubble();return this;},subtract:function(i,br){var bq=V.duration(i,br);this._milliseconds-=bq._milliseconds;this._days-=bq._days;this._months-=bq._months;this._bubble();return this;},get:function(i){i=a6(i);return this[i.toLowerCase()+"s"]();},as:function(bq){var br,i;bq=a6(bq);if(bq==="month"||bq==="year"){br=this._days+this._milliseconds/86400000;i=this._months+s(br)*12;return bq==="month"?i:i/12;}else{br=this._days+bl(this._months/12);switch(bq){case"week":return br/7+this._milliseconds/604800000;case"day":return br+this._milliseconds/86400000;case"hour":return br*24+this._milliseconds/3600000;case"minute":return br*24*60+this._milliseconds/60000;case"second":return br*24*60*60+this._milliseconds/1000;case"millisecond":return Math.floor(br*24*60*60*1000)+this._milliseconds;default:throw new Error("Unknown unit "+bq);}}},lang:V.fn.lang,locale:V.fn.locale,toIsoString:bm("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString();}),toISOString:function(){var bs=Math.abs(this.years()),i=Math.abs(this.months()),bu=Math.abs(this.days()),bq=Math.abs(this.hours()),br=Math.abs(this.minutes()),bt=Math.abs(this.seconds()+this.milliseconds()/1000);if(!this.asSeconds()){return"P0D";}return(this.asSeconds()<0?"-":"")+"P"+(bs?bs+"Y":"")+(i?i+"M":"")+(bu?bu+"D":"")+((bq||br||bt)?"T":"")+(bq?bq+"H":"")+(br?br+"M":"")+(bt?bt+"S":"");},localeData:function(){return this._locale;}});V.duration.fn.toString=V.duration.fn.toISOString;function ae(i){V.duration.fn[i]=function(){return this._data[i];};}for(ak in F){if(a4(F,ak)){ae(ak.toLowerCase());}}V.duration.fn.asMilliseconds=function(){return this.as("ms");};V.duration.fn.asSeconds=function(){return this.as("s");};V.duration.fn.asMinutes=function(){return this.as("m");};V.duration.fn.asHours=function(){return this.as("h");};V.duration.fn.asDays=function(){return this.as("d");};V.duration.fn.asWeeks=function(){return this.as("weeks");};V.duration.fn.asMonths=function(){return this.as("M");};V.duration.fn.asYears=function(){return this.as("y");};V.locale("en",{ordinal:function(br){var i=br%10,bq=(P(br%100/10)===1)?"th":(i===1)?"st":(i===2)?"nd":(i===3)?"rd":"th";return br+bq;}});function Y(i){if(typeof ender!=="undefined"){return;}av=ba.moment;if(i){ba.moment=bm("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",V);}else{ba.moment=V;}}if(au){module.exports=V;}else{if(typeof define==="function"&&define.amd){define("moment",function(bq,i,br){if(br.config&&br.config()&&br.config().noGlobal===true){ba.moment=av;}return V;});Y(true);}else{Y();}}}).call(this);
/*! jQuery UI - v1.12.1 - 2016-12-05
* http://jqueryui.com
* Includes: effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery);})(function(b){b.ui=b.ui||{},b.ui.version="1.12.1";var d="ui-effects-",a="ui-effects-style",c="ui-effects-animated",g=b;b.effects={effect:{}},function(E,z){function w(l,o,h){var n=D[o.type]||{};return null==l?h||!o.def?null:o.def:(l=n.floor?~~l:parseFloat(l),isNaN(l)?o.def:n.mod?(l+n.mod)%n.mod:0>l?0:l>n.max?n.max:l);}function F(e){var h=x(),l=h._rgba=[];return e=e.toLowerCase(),y(v,function(p,G){var n,u=G.re.exec(e),i=u&&G.parse(u),s=G.space||"rgba";return i?(n=h[s](i),h[B[s].cache]=n[B[s].cache],l=h._rgba=n._rgba,!1):z;}),l.length?("0,0,0,0"===l.join()&&E.extend(l,m.transparent),h):m[e];}function q(l,n,h){return h=(h+1)%1,1>6*h?l+6*(n-l)*h:1>2*h?n:2>3*h?l+6*(n-l)*(2/3-h):l;}var m,C="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",j=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]];}}],x=E.Color=function(o,h,l,p){return new E.Color.fn.parse(o,h,l,p);},B={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},D={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},A=x.support={},k=E("<p>")[0],y=E.each;k.style.cssText="background-color:rgba(1,1,1,.5)",A.rgba=k.style.backgroundColor.indexOf("rgba")>-1,y(B,function(h,i){i.cache="_"+h,i.props.alpha={idx:3,type:"percent",def:1};}),x.fn=E.extend(x.prototype,{parse:function(G,h,o,e){if(G===z){return this._rgba=[null,null,null,null],this;}(G.jquery||G.nodeType)&&(G=E(G).css(h),h=z);var i=this,t=E.type(G),s=this._rgba=[];return h!==z&&(G=[G,h,o,e],t="array"),"string"===t?this.parse(F(G)||m._default):"array"===t?(y(B.rgba.props,function(l,n){s[n.idx]=w(G[n.idx],n);}),this):"object"===t?(G instanceof x?y(B,function(l,n){G[n.cache]&&(i[n.cache]=G[n.cache].slice());}):y(B,function(n,l){var p=l.cache;y(l.props,function(r,u){if(!i[p]&&l.to){if("alpha"===r||null==G[r]){return;}i[p]=l.to(i._rgba);}i[p][u.idx]=w(G[r],u,!0);}),i[p]&&0>E.inArray(null,i[p].slice(0,3))&&(i[p][3]=1,l.from&&(i._rgba=l.from(i[p])));}),this):z;},is:function(h){var e=x(h),l=!0,o=this;return y(B,function(n,s){var i,p=e[s.cache];return p&&(i=o[s.cache]||s.to&&s.to(o._rgba)||[],y(s.props,function(u,r){return null!=p[r.idx]?l=p[r.idx]===i[r.idx]:z;})),l;}),l;},_space:function(){var h=[],i=this;return y(B,function(e,l){i[l.cache]&&h.push(e);}),h.pop();},transition:function(p,H){var u=x(p),J=u._space(),I=B[J],i=0===this.alpha()?x("transparent"):this,G=i[I.cache]||I.to(i._rgba),h=G.slice();return u=u[I.cache],y(I.props,function(l,L){var s=L.idx,e=G[s],r=u[s],K=D[L.type]||{};null!==r&&(null===e?h[s]=r:(K.mod&&(r-e>K.mod/2?e+=K.mod:e-r>K.mod/2&&(e-=K.mod)),h[s]=w((r-e)*H+e,L)));}),this[J](h);},blend:function(o){if(1===this._rgba[3]){return this;}var h=this._rgba.slice(),l=h.pop(),p=x(o)._rgba;return x(E.map(h,function(i,n){return(1-l)*p[n]+l*i;}));},toRgbaString:function(){var l="rgba(",h=E.map(this._rgba,function(i,n){return null==i?n>2?1:0:i;});return 1===h[3]&&(h.pop(),l="rgb("),l+h.join()+")";},toHslaString:function(){var l="hsla(",h=E.map(this.hsla(),function(i,n){return null==i&&(i=n>2?1:0),n&&3>n&&(i=Math.round(100*i)+"%"),i;});return 1===h[3]&&(h.pop(),l="hsl("),l+h.join()+")";},toHexString:function(n){var h=this._rgba.slice(),l=h.pop();return n&&h.push(~~(255*l)),"#"+E.map(h,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e;}).join("");},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString();}}),x.fn.parse.prototype=x.fn,B.hsla.to=function(P){if(null==P[0]||null==P[1]||null==P[2]){return[null,null,null,P[3]];}var L,J,R=P[0]/255,H=P[1]/255,G=P[2]/255,N=P[3],p=Math.max(R,H,G),I=Math.min(R,H,G),K=p-I,M=p+I,O=0.5*M;return L=I===p?0:R===p?60*(H-G)/K+360:H===p?60*(G-R)/K+120:60*(R-H)/K+240,J=0===K?0:0.5>=O?K/M:K/(2-M),[Math.round(L)%360,J,O,null==N?1:N];},B.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2]){return[null,null,null,n[3]];}var G=n[0]/360,l=n[1],p=n[2],H=n[3],h=0.5>=p?p*(1+l):p+l-p*l,u=2*p-h;return[Math.round(255*q(u,h,G+1/3)),Math.round(255*q(u,h,G)),Math.round(255*q(u,h,G-1/3)),H];},y(B,function(i,t){var p=t.props,h=t.cache,e=t.to,r=t.from;x.fn[i]=function(o){if(e&&!this[h]&&(this[h]=e(this._rgba)),o===z){return this[h].slice();}var I,G=E.type(o),l="array"===G||"object"===G?o:arguments,H=this[h].slice();return y(p,function(n,J){var u=l["object"===G?n:J.idx];null==u&&(u=H[J.idx]),H[J.idx]=w(u,J);}),r?(I=x(r(H)),I[h]=H,I):x(H);},y(p,function(n,l){x.fn[n]||(x.fn[n]=function(J){var H,u=E.type(J),s="alpha"===n?this._hsla?"hsla":"rgba":i,G=this[s](),I=G[l.idx];return"undefined"===u?I:("function"===u&&(J=J.call(this,I),u=E.type(J)),null==J&&l.empty?this:("string"===u&&(H=j.exec(J),H&&(J=I+parseFloat(H[2])*("+"===H[1]?1:-1))),G[l.idx]=J,this[s](G)));});});}),x.hook=function(l){var h=l.split(" ");y(h,function(o,n){E.cssHooks[n]={set:function(t,G){var u,p,s="";if("transparent"!==G&&("string"!==E.type(G)||(u=F(G)))){if(G=x(u||G),!A.rgba&&1!==G._rgba[3]){for(p="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&p&&p.style;){try{s=E.css(p,"backgroundColor"),p=p.parentNode;}catch(i){}}G=G.blend(s&&"transparent"!==s?s:"_default");}G=G.toRgbaString();}try{t.style[n]=G;}catch(i){}}},E.fx.step[n]=function(i){i.colorInit||(i.start=x(i.elem,n),i.end=x(i.end),i.colorInit=!0),E.cssHooks[n].set(i.elem,i.start.transition(i.end,i.pos));};});},x.hook(C),E.cssHooks.borderColor={expand:function(h){var i={};return y(["Top","Right","Bottom","Left"],function(e,l){i["border"+l+"Color"]=h;}),i;}},m=E.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};}(g),function(){function k(q){var m,p,t=q.ownerDocument.defaultView?q.ownerDocument.defaultView.getComputedStyle(q,null):q.currentStyle,r={};if(t&&t.length&&t[0]&&t[t[0]]){for(p=t.length;p--;){m=t[p],"string"==typeof t[m]&&(r[b.camelCase(m)]=t[m]);}}else{for(m in t){"string"==typeof t[m]&&(r[m]=t[m]);}}return r;}function h(q,o){var p,r,m={};for(p in o){r=o[p],q[p]!==r&&(l[p]||(b.fx.step[p]||!isNaN(parseFloat(r)))&&(m[p]=r));}return m;}var j=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(n,m){b.fx.step[m]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(g.style(e.elem,m,e.end),e.setAttr=!0);};}),b.fn.addBack||(b.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e));}),b.effects.animateClass=function(q,p,i,m){var e=b.speed(p,i,m);return this.queue(function(){var u,n=b(this),t=n.attr("class")||"",s=e.children?n.find("*").addBack():n;s=s.map(function(){var o=b(this);return{el:o,start:k(this)};}),u=function(){b.each(j,function(o,r){q[r]&&n[r+"Class"](q[r]);});},u(),s=s.map(function(){return this.end=k(this.el[0]),this.diff=h(this.start,this.end),this;}),n.attr("class",t),s=s.map(function(){var v=this,o=b.Deferred(),r=b.extend({},e,{queue:!1,complete:function(){o.resolve(v);}});return this.el.animate(this.diff,r),o.promise();}),b.when.apply(b,s.get()).done(function(){u(),b.each(arguments,function(){var o=this.el;b.each(this.diff,function(r){o.css(r,"");});}),e.complete.call(n[0]);});});},b.fn.extend({addClass:function(i){return function(e,m,q,p){return m?b.effects.animateClass.call(this,{add:e},m,q,p):i.apply(this,arguments);};}(b.fn.addClass),removeClass:function(i){return function(e,m,q,p){return arguments.length>1?b.effects.animateClass.call(this,{remove:e},m,q,p):i.apply(this,arguments);};}(b.fn.removeClass),toggleClass:function(i){return function(m,p,r,q,e){return"boolean"==typeof p||void 0===p?r?b.effects.animateClass.call(this,p?{add:m}:{remove:m},r,q,e):i.apply(this,arguments):b.effects.animateClass.call(this,{toggle:m},p,r,q);};}(b.fn.toggleClass),switchClass:function(q,m,p,t,r){return b.effects.animateClass.call(this,{add:m,remove:q},p,t,r);}});}(),function(){function i(l,j,k,m){return b.isPlainObject(l)&&(j=l,l=l.effect),l={effect:l},null==j&&(j={}),b.isFunction(j)&&(m=j,k=null,j={}),("number"==typeof j||b.fx.speeds[j])&&(m=k,k=j,j={}),b.isFunction(k)&&(m=k,k=null),j&&b.extend(l,j),k=k||j.duration,l.duration=b.fx.off?0:"number"==typeof k?k:k in b.fx.speeds?b.fx.speeds[k]:b.fx.speeds._default,l.complete=m||j.complete,l;}function h(j){return !j||"number"==typeof j||b.fx.speeds[j]?!0:"string"!=typeof j||b.effects.effect[j]?b.isFunction(j)?!0:"object"!=typeof j||j.effect?!1:!0:!0;}function e(k,m){var j=m.outerWidth(),l=m.outerHeight(),q=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,p=q.exec(k)||["",0,j,l,0];return{top:parseFloat(p[1])||0,right:"auto"===p[2]?j:parseFloat(p[2]),bottom:"auto"===p[3]?l:parseFloat(p[3]),left:parseFloat(p[4])||0};}b.expr&&b.expr.filters&&b.expr.filters.animated&&(b.expr.filters.animated=function(j){return function(k){return !!b(k).data(c)||j(k);};}(b.expr.filters.animated)),b.uiBackCompat!==!1&&b.extend(b.effects,{save:function(k,j){for(var l=0,m=j.length;m>l;l++){null!==j[l]&&k.data(d+j[l],k[0].style[j[l]]);}},restore:function(k,j){for(var l,p=0,m=j.length;m>p;p++){null!==j[p]&&(l=k.data(d+j[p]),k.css(j[p],l));}},setMode:function(j,k){return"toggle"===k&&(k=j.is(":hidden")?"show":"hide"),k;},createWrapper:function(m){if(m.parent().is(".ui-effects-wrapper")){return m.parent();}var k={width:m.outerWidth(!0),height:m.outerHeight(!0),"float":m.css("float")},l=b("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),q={width:m.width(),height:m.height()},p=document.activeElement;try{p.id;}catch(j){p=document.body;}return m.wrap(l),(m[0]===p||b.contains(m[0],p))&&b(p).trigger("focus"),l=m.parent(),"static"===m.css("position")?(l.css({position:"relative"}),m.css({position:"relative"})):(b.extend(k,{position:m.css("position"),zIndex:m.css("z-index")}),b.each(["top","left","bottom","right"],function(n,o){k[o]=m.css(o),isNaN(parseInt(k[o],10))&&(k[o]="auto");}),m.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),m.css(q),l.css(k).show();},removeWrapper:function(k){var j=document.activeElement;return k.parent().is(".ui-effects-wrapper")&&(k.parent().replaceWith(k),(k[0]===j||b.contains(k[0],j))&&b(j).trigger("focus")),k;}}),b.extend(b.effects,{version:"1.12.1",define:function(l,j,k){return k||(k=j,j="effect"),b.effects.effect[l]=k,b.effects.effect[l].mode=j,k;},scaledDimensions:function(k,m,j){if(0===m){return{height:0,width:0,outerHeight:0,outerWidth:0};}var l="horizontal"!==j?(m||100)/100:1,o="vertical"!==j?(m||100)/100:1;return{height:k.height()*o,width:k.width()*l,outerHeight:k.outerHeight()*o,outerWidth:k.outerWidth()*l};},clipToBox:function(j){return{width:j.clip.right-j.clip.left,height:j.clip.bottom-j.clip.top,left:j.clip.left,top:j.clip.top};},unshift:function(k,m,j){var l=k.queue();m>1&&l.splice.apply(l,[1,0].concat(l.splice(m,j))),k.dequeue();},saveStyle:function(j){j.data(a,j[0].style.cssText);},restoreStyle:function(j){j[0].style.cssText=j.data(a)||"",j.removeData(a);},mode:function(k,l){var j=k.is(":hidden");return"toggle"===l&&(l=j?"show":"hide"),(j?"hide"===l:"show"===l)&&(l="none"),l;},getBaseline:function(k,m){var j,l;switch(k[0]){case"top":j=0;break;case"middle":j=0.5;break;case"bottom":j=1;break;default:j=k[0]/m.height;}switch(k[1]){case"left":l=0;break;case"center":l=0.5;break;case"right":l=1;break;default:l=k[1]/m.width;}return{x:l,y:j};},createPlaceholder:function(j){var k,m=j.css("position"),l=j.position();return j.css({marginTop:j.css("marginTop"),marginBottom:j.css("marginBottom"),marginLeft:j.css("marginLeft"),marginRight:j.css("marginRight")}).outerWidth(j.outerWidth()).outerHeight(j.outerHeight()),/^(static|relative)/.test(m)&&(m="absolute",k=b("<"+j[0].nodeName+">").insertAfter(j).css({display:/^(inline|ruby)/.test(j.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:j.css("marginTop"),marginBottom:j.css("marginBottom"),marginLeft:j.css("marginLeft"),marginRight:j.css("marginRight"),"float":j.css("float")}).outerWidth(j.outerWidth()).outerHeight(j.outerHeight()).addClass("ui-effects-placeholder"),j.data(d+"placeholder",k)),j.css({position:m,left:l.left,top:l.top}),k;},removePlaceholder:function(k){var j=d+"placeholder",l=k.data(j);l&&(l.remove(),k.removeData(j));},cleanUp:function(j){b.effects.restoreStyle(j),b.effects.removePlaceholder(j);},setTransition:function(l,j,k,m){return m=m||{},b.each(j,function(p,n){var q=l.cssUnit(n);q[0]>0&&(m[n]=q[0]*k+q[1]);}),m;}}),b.fn.extend({effect:function(){function q(x){function y(){o.removeData(c),b.effects.cleanUp(o),"hide"===n.mode&&o.hide(),u();}function u(){b.isFunction(p)&&p.call(o[0]),b.isFunction(x)&&x();}var o=b(this);n.mode=w.shift(),b.uiBackCompat===!1||v?"none"===n.mode?(o[t](),u()):k.call(o[0],n,y):(o.is(":hidden")?"hide"===t:"show"===t)?(o[t](),u()):k.call(o[0],n,u);}var n=i.apply(this,arguments),k=b.effects.effect[n.effect],v=k.mode,j=n.queue,m=j||"fx",p=n.complete,t=n.mode,w=[],s=function(o){var l=b(this),r=b.effects.mode(l,t)||v;l.data(c,!0),w.push(r),v&&("show"===r||r===v&&"hide"===r)&&l.show(),v&&"none"===r||b.effects.saveStyle(l),b.isFunction(o)&&o();};return b.fx.off||!k?t?this[t](n.duration,p):this.each(function(){p&&p.call(this);}):j===!1?this.each(s).each(q):this.queue(m,s).queue(m,q);},show:function(j){return function(l){if(h(l)){return j.apply(this,arguments);}var k=i.apply(this,arguments);return k.mode="show",this.effect.call(this,k);};}(b.fn.show),hide:function(j){return function(l){if(h(l)){return j.apply(this,arguments);}var k=i.apply(this,arguments);return k.mode="hide",this.effect.call(this,k);};}(b.fn.hide),toggle:function(j){return function(l){if(h(l)||"boolean"==typeof l){return j.apply(this,arguments);}var k=i.apply(this,arguments);return k.mode="toggle",this.effect.call(this,k);};}(b.fn.toggle),cssUnit:function(l){var j=this.css(l),k=[];return b.each(["em","px","%","pt"],function(m,n){j.indexOf(n)>0&&(k=[parseFloat(j),n]);}),k;},cssClip:function(j){return j?this.css("clip","rect("+j.top+"px "+j.right+"px "+j.bottom+"px "+j.left+"px)"):e(this.css("clip"),this);},transfer:function(v,q){var A=b(this),m=b(v.to),k="fixed"===m.css("position"),y=b("body"),j=k?y.scrollTop():0,p=k?y.scrollLeft():0,t=m.offset(),x={top:t.top-j,left:t.left-p,height:m.innerHeight(),width:m.innerWidth()},z=A.offset(),w=b("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(v.className).css({top:z.top-j,left:z.left-p,height:A.innerHeight(),width:A.innerWidth(),position:k?"fixed":"absolute"}).animate(x,v.duration,v.easing,function(){w.remove(),b.isFunction(q)&&q();});}}),b.fx.step.clip=function(j){j.clipInit||(j.start=b(j.elem).cssClip(),"string"==typeof j.end&&(j.end=e(j.end,j.elem)),j.clipInit=!0),b(j.elem).cssClip({top:j.pos*(j.end.top-j.start.top)+j.start.top,right:j.pos*(j.end.right-j.start.right)+j.start.right,bottom:j.pos*(j.end.bottom-j.start.bottom)+j.start.bottom,left:j.pos*(j.end.left-j.start.left)+j.start.left});};}(),function(){var h={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(j,e){h[e]=function(i){return Math.pow(i,j+2);};}),b.extend(h,{Sine:function(e){return 1-Math.cos(e*Math.PI/2);},Circ:function(e){return 1-Math.sqrt(1-e*e);},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15);},Back:function(e){return e*e*(3*e-2);},Bounce:function(k){for(var l,j=4;((l=Math.pow(2,--j))-1)/11>k;){}return 1/Math.pow(4,3-j)-7.5625*Math.pow((3*l-2)/22-k,2);}}),b.each(h,function(k,j){b.easing["easeIn"+k]=j,b.easing["easeOut"+k]=function(e){return 1-j(1-e);},b.easing["easeInOut"+k]=function(e){return 0.5>e?j(2*e)/2:1-j(-2*e+2)/2;};});}();var f=b.effects;b.effects.define("blind","hide",function(q,k){var m={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},u=b(this),t=q.direction||"up",j=u.cssClip(),p={clip:b.extend({},j)},h=b.effects.createPlaceholder(u);p.clip[m[t][0]]=p.clip[m[t][1]],"show"===q.mode&&(u.cssClip(p.clip),h&&h.css(b.effects.clipToBox(p)),p.clip=j),h&&h.animate(b.effects.clipToBox(p),q.duration,q.easing),u.animate(p,{queue:!1,duration:q.duration,easing:q.easing,complete:k});}),b.effects.define("bounce",function(F,B){var q,y,x,J=b(this),t=F.mode,A="hide"===t,C="show"===t,H=F.direction||"up",k=F.distance,G=F.times||5,w=2*G+(C||A?1:0),E=F.duration/w,D=F.easing,z="up"===H||"down"===H?"top":"left",K="up"===H||"left"===H,j=0,I=J.queue().length;for(b.effects.createPlaceholder(J),x=J.css(z),k||(k=J["top"===z?"outerHeight":"outerWidth"]()/3),C&&(y={opacity:1},y[z]=x,J.css("opacity",0).css(z,K?2*-k:2*k).animate(y,E,D)),A&&(k/=Math.pow(2,G-1)),y={},y[z]=x;G>j;j++){q={},q[z]=(K?"-=":"+=")+k,J.animate(q,E,D).animate(y,E,D),k=A?2*k:k/2;}A&&(q={opacity:0},q[z]=(K?"-=":"+=")+k,J.animate(q,E,D)),J.queue(B),b.effects.unshift(J,I,w+1);}),b.effects.define("clip","hide",function(u,q){var w,m={},k=b(this),v=u.direction||"vertical",j="both"===v,p=j||"horizontal"===v,t=j||"vertical"===v;w=k.cssClip(),m.clip={top:t?(w.bottom-w.top)/2:w.top,right:p?(w.right-w.left)/2:w.right,bottom:t?(w.bottom-w.top)/2:w.bottom,left:p?(w.right-w.left)/2:w.left},b.effects.createPlaceholder(k),"show"===u.mode&&(k.cssClip(m.clip),m.clip=w),k.animate(m,{queue:!1,duration:u.duration,easing:u.easing,complete:q});}),b.effects.define("drop","hide",function(v,q){var z,m=b(this),k=v.mode,x="show"===k,j=v.direction||"left",p="up"===j||"down"===j?"top":"left",t="up"===j||"left"===j?"-=":"+=",w="+="===t?"-=":"+=",y={opacity:0};b.effects.createPlaceholder(m),z=v.distance||m["top"===p?"outerHeight":"outerWidth"](!0)/2,y[p]=t+z,x&&(m.css(y),y[p]=w+z,y.opacity=1),m.animate(y,{queue:!1,duration:v.duration,easing:v.easing,complete:q});}),b.effects.define("explode","hide",function(F,B){function q(){I.push(this),I.length===k*G&&y();}function y(){w.css({visibility:"visible"}),b(I).remove(),B();}var x,J,t,A,C,H,k=F.pieces?Math.round(Math.sqrt(F.pieces)):3,G=k,w=b(this),E=F.mode,D="show"===E,z=w.show().css("visibility","hidden").offset(),K=Math.ceil(w.outerWidth()/G),j=Math.ceil(w.outerHeight()/k),I=[];for(x=0;k>x;x++){for(A=z.top+x*j,H=x-(k-1)/2,J=0;G>J;J++){t=z.left+J*K,C=J-(G-1)/2,w.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-J*K,top:-x*j}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:K,height:j,left:t+(D?C*K:0),top:A+(D?H*j:0),opacity:D?0:1}).animate({left:t+(D?0:C*K),top:A+(D?0:H*j),opacity:D?1:0},F.duration||500,F.easing,q);}}}),b.effects.define("fade","toggle",function(k,h){var j="show"===k.mode;b(this).css("opacity",j?0:1).animate({opacity:j?1:0},{queue:!1,duration:k.duration,easing:k.easing,complete:h});}),b.effects.define("fold","hide",function(B,x){var H=b(this),t=B.mode,q="show"===t,E="hide"===t,j=B.size||15,w=/([0-9]+)%/.exec(j),y=!!B.horizFirst,D=y?["right","bottom"]:["bottom","right"],G=B.duration/2,C=b.effects.createPlaceholder(H),k=H.cssClip(),A={clip:b.extend({},k)},z={clip:b.extend({},k)},v=[k[D[0]],k[D[1]]],F=H.queue().length;w&&(j=parseInt(w[1],10)/100*v[E?0:1]),A.clip[D[0]]=j,z.clip[D[0]]=j,z.clip[D[1]]=0,q&&(H.cssClip(z.clip),C&&C.css(b.effects.clipToBox(z)),z.clip=k),H.queue(function(e){C&&C.animate(b.effects.clipToBox(A),G,B.easing).animate(b.effects.clipToBox(z),G,B.easing),e();}).animate(A,G,B.easing).animate(z,G,B.easing).queue(x),b.effects.unshift(H,F,4);}),b.effects.define("highlight","show",function(k,h){var j=b(this),l={backgroundColor:j.css("backgroundColor")};"hide"===k.mode&&(l.opacity=0),b.effects.saveStyle(j),j.css({backgroundImage:"none",backgroundColor:k.color||"#ffff99"}).animate(l,{queue:!1,duration:k.duration,easing:k.easing,complete:h});}),b.effects.define("size",function(F,B){var q,y,x,I=b(this),t=["fontSize"],A=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],C=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],H=F.mode,k="effect"!==H,G=F.scale||"both",w=F.origin||["middle","center"],E=I.css("position"),D=I.position(),z=b.effects.scaledDimensions(I),J=F.from||z,j=F.to||b.effects.scaledDimensions(I,0);b.effects.createPlaceholder(I),"show"===H&&(x=J,J=j,j=x),y={from:{y:J.height/z.height,x:J.width/z.width},to:{y:j.height/z.height,x:j.width/z.width}},("box"===G||"both"===G)&&(y.from.y!==y.to.y&&(J=b.effects.setTransition(I,A,y.from.y,J),j=b.effects.setTransition(I,A,y.to.y,j)),y.from.x!==y.to.x&&(J=b.effects.setTransition(I,C,y.from.x,J),j=b.effects.setTransition(I,C,y.to.x,j))),("content"===G||"both"===G)&&y.from.y!==y.to.y&&(J=b.effects.setTransition(I,t,y.from.y,J),j=b.effects.setTransition(I,t,y.to.y,j)),w&&(q=b.effects.getBaseline(w,z),J.top=(z.outerHeight-J.outerHeight)*q.y+D.top,J.left=(z.outerWidth-J.outerWidth)*q.x+D.left,j.top=(z.outerHeight-j.outerHeight)*q.y+D.top,j.left=(z.outerWidth-j.outerWidth)*q.x+D.left),I.css(J),("content"===G||"both"===G)&&(A=A.concat(["marginTop","marginBottom"]).concat(t),C=C.concat(["marginLeft","marginRight"]),I.find("*[width]").each(function(){var h=b(this),l=b.effects.scaledDimensions(h),m={height:l.height*y.from.y,width:l.width*y.from.x,outerHeight:l.outerHeight*y.from.y,outerWidth:l.outerWidth*y.from.x},e={height:l.height*y.to.y,width:l.width*y.to.x,outerHeight:l.height*y.to.y,outerWidth:l.width*y.to.x};y.from.y!==y.to.y&&(m=b.effects.setTransition(h,A,y.from.y,m),e=b.effects.setTransition(h,A,y.to.y,e)),y.from.x!==y.to.x&&(m=b.effects.setTransition(h,C,y.from.x,m),e=b.effects.setTransition(h,C,y.to.x,e)),k&&b.effects.saveStyle(h),h.css(m),h.animate(e,F.duration,F.easing,function(){k&&b.effects.restoreStyle(h);});})),I.animate(j,{queue:!1,duration:F.duration,easing:F.easing,complete:function(){var h=I.offset();0===j.opacity&&I.css("opacity",J.opacity),k||(I.css("position","static"===E?"relative":E).offset(h),b.effects.saveStyle(I)),B();}});}),b.effects.define("scale",function(l,j){var k=b(this),p=l.mode,m=parseInt(l.percent,10)||(0===parseInt(l.percent,10)?0:"effect"!==p?0:100),h=b.extend(!0,{from:b.effects.scaledDimensions(k),to:b.effects.scaledDimensions(k,m,l.direction||"both"),origin:l.origin||["middle","center"]},l);l.fade&&(h.from.opacity=1,h.to.opacity=0),b.effects.effect.size.call(this,h,j);}),b.effects.define("puff","hide",function(k,h){var j=b.extend(!0,{},k,{fade:!0,percent:parseInt(k.percent,10)||150});b.effects.effect.scale.call(this,j,h);}),b.effects.define("pulsate","show",function(v,q){var A=b(this),m=v.mode,k="show"===m,y="hide"===m,j=k||y,p=2*(v.times||5)+(j?1:0),t=v.duration/p,x=0,z=1,w=A.queue().length;for((k||!A.is(":visible"))&&(A.css("opacity",0).show(),x=1);p>z;z++){A.animate({opacity:x},t,v.easing),x=1-x;}A.animate({opacity:x},t,v.easing),A.queue(q),b.effects.unshift(A,w,p+1);}),b.effects.define("shake",function(z,v){var E=1,q=b(this),m=z.direction||"left",C=z.distance||20,j=z.times||3,t=2*j+1,w=Math.round(z.duration/t),B="up"===m||"down"===m?"top":"left",D="up"===m||"left"===m,A={},k={},y={},x=q.queue().length;for(b.effects.createPlaceholder(q),A[B]=(D?"-=":"+=")+C,k[B]=(D?"+=":"-=")+2*C,y[B]=(D?"-=":"+=")+2*C,q.animate(A,w,z.easing);j>E;E++){q.animate(k,w,z.easing).animate(y,w,z.easing);}q.animate(k,w,z.easing).animate(A,w/2,z.easing).queue(v),b.effects.unshift(q,x,t+1);}),b.effects.define("slide","show",function(v,q){var A,m,k=b(this),y={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},j=v.mode,p=v.direction||"left",t="up"===p||"down"===p?"top":"left",x="up"===p||"left"===p,z=v.distance||k["top"===t?"outerHeight":"outerWidth"](!0),w={};b.effects.createPlaceholder(k),A=k.cssClip(),m=k.position()[t],w[t]=(x?-1:1)*z+m,w.clip=k.cssClip(),w.clip[y[p][1]]=w.clip[y[p][0]],"show"===j&&(k.cssClip(w.clip),k.css(t,w[t]),w.clip=A,w[t]=m),k.animate(w,{queue:!1,duration:v.duration,easing:v.easing,complete:q});});var f;b.uiBackCompat!==!1&&(f=b.effects.define("transfer",function(j,h){b(this).transfer(j,h);}));});(function(c,b,a,d){Foundation.libs.tooltip={name:"tooltip",version:"5.3.1",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:false,hover_delay:200,show_on:"all",tip_template:function(e,f){return'<span data-selector="'+e+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+f+'<span class="nub"></span></span>';}},cache:{},init:function(f,g,e){Foundation.inherit(this,"random_str");this.bindings(g,e);},should_show:function(g,f){var e=c.extend({},this.settings,this.data_options(g));if(e.show_on==="all"){return true;}else{if(this.small()&&e.show_on==="small"){return true;}else{if(this.medium()&&e.show_on==="medium"){return true;}else{if(this.large()&&e.show_on==="large"){return true;}}}}return false;},medium:function(){return matchMedia(Foundation.media_queries.medium).matches;},large:function(){return matchMedia(Foundation.media_queries.large).matches;},events:function(e){var f=this,g=f.S;f.create(this.S(e));c(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(k){var j=g(this),i=c.extend({},f.settings,f.data_options(j)),h=false;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(k.type)&&g(k.target).is("a")){return false;}if(/mouse/i.test(k.type)&&f.ie_touch(k)){return false;}if(j.hasClass("open")){if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(k.type)){k.preventDefault();}f.hide(j);}else{if(i.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(k.type)){return;}else{if(!i.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(k.type)){k.preventDefault();g(i.tooltip_class+".open").hide();h=true;}}if(/enter|over/i.test(k.type)){this.timer=setTimeout(function(){var l=f.showTip(j);}.bind(this),f.settings.hover_delay);}else{if(k.type==="mouseout"||k.type==="mouseleave"){clearTimeout(this.timer);f.hide(j);}else{f.showTip(j);}}}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(h){if(/mouse/i.test(h.type)&&f.ie_touch(h)){return false;}if(c(this).data("tooltip-open-event-type")=="touch"&&h.type=="mouseleave"){return;}else{if(c(this).data("tooltip-open-event-type")=="mouse"&&/MSPointerDown|touchstart/i.test(h.type)){f.convert_to_touch(c(this));}else{f.hide(c(this));}}}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(h){f.hide(g(this));});},ie_touch:function(f){return false;},showTip:function(e){var f=this.getTip(e);if(this.should_show(e,f)){return this.show(e);}return;},getTip:function(f){var e=this.selector(f),g=c.extend({},this.settings,this.data_options(f)),h=null;if(e){h=this.S('span[data-selector="'+e+'"]'+g.tooltip_class);}return(typeof h==="object")?h:false;},selector:function(e){var g=e.attr("id"),f=e.attr(this.attr_name())||e.attr("data-selector");if((g&&g.length<1||!g)&&typeof f!="string"){f=this.random_str(6);e.attr("data-selector",f);}return(g&&g.length>0)?g:f;},create:function(e){var g=this,i=c.extend({},this.settings,this.data_options(e)),f=this.settings.tip_template;if(typeof i.tip_template==="string"&&b.hasOwnProperty(i.tip_template)){f=b[i.tip_template];}var j=c(f(this.selector(e),c("<div></div>").html(e.attr("title")).html())),h=this.inheritable_classes(e);j.addClass(h).appendTo(i.append_to);if(Modernizr.touch){j.append('<span class="tap-to-close">'+i.touch_close_text+"</span>");j.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(k){g.hide(e);});}e.removeAttr("title").attr("title","");},reposition:function(j,m,h){var e,n,l,i,g,k;m.css("visibility","hidden").show();e=j.data("width");n=m.children(".nub");l=n.outerHeight();i=n.outerHeight();if(this.small()){m.css({width:"100%"});}else{m.css({width:(e)?e:"auto"});}k=function(t,s,p,o,r,q){return t.css({top:(s)?s:"auto",bottom:(o)?o:"auto",left:(r)?r:"auto",right:(p)?p:"auto"}).end();};k(m,(j.offset().top+j.outerHeight()+10),"auto","auto",j.offset().left);if(this.small()){k(m,(j.offset().top+j.outerHeight()+10),"auto","auto",12.5,c(this.scope).width());m.addClass("tip-override");k(n,-l,"auto","auto",j.offset().left);}else{var f=j.offset().left;if(Foundation.rtl){n.addClass("rtl");f=j.offset().left+j.outerWidth()-m.outerWidth();}k(m,(j.offset().top+j.outerHeight()+10),"auto","auto",f);m.removeClass("tip-override");if(h&&h.indexOf("tip-top")>-1){if(Foundation.rtl){n.addClass("rtl");}k(m,(j.offset().top-m.outerHeight()),"auto","auto",f).removeClass("tip-override");}else{if(h&&h.indexOf("tip-left")>-1){k(m,(j.offset().top+(j.outerHeight()/2)-(m.outerHeight()/2)),"auto","auto",(j.offset().left-m.outerWidth()-l)).removeClass("tip-override");n.removeClass("rtl");}else{if(h&&h.indexOf("tip-right")>-1){k(m,(j.offset().top+(j.outerHeight()/2)-(m.outerHeight()/2)),"auto","auto",(j.offset().left+j.outerWidth()+l)).removeClass("tip-override");n.removeClass("rtl");}}}}m.css("visibility","visible").hide();},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches;},inheritable_classes:function(e){var h=c.extend({},this.settings,this.data_options(e)),i=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(h.additional_inheritable_classes),g=e.attr("class"),f=g?c.map(g.split(" "),function(k,j){if(c.inArray(k,i)!==-1){return k;}}).join(" "):"";return c.trim(f);},convert_to_touch:function(e){var f=this,h=f.getTip(e),g=c.extend({},f.settings,f.data_options(e));if(h.find(".tap-to-close").length===0){h.append('<span class="tap-to-close">'+g.touch_close_text+"</span>");h.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(i){f.hide(e);});}e.data("tooltip-open-event-type","touch");},show:function(e){var f=this.getTip(e);if(e.data("tooltip-open-event-type")=="touch"){this.convert_to_touch(e);}this.reposition(e,f,e.attr("class"));e.addClass("open");f.fadeIn(150);},hide:function(e){var f=this.getTip(e);f.fadeOut(150,function(){f.find(".tap-to-close").remove();f.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose");e.removeClass("open");});},off:function(){var e=this;this.S(this.scope).off(".fndtn.tooltip");this.S(this.settings.tooltip_class).each(function(f){c("["+e.attr_name()+"]").eq(f).attr("title",c(this).text());}).remove();},reflow:function(){}};}(jQuery,window,window.document));(function(c,b,a,d){Foundation.libs.dropdown={name:"dropdown",version:"5.3.1",settings:{active_class:"open",align:"bottom",is_hover:false,opened:function(){},closed:function(){}},init:function(f,g,e){Foundation.inherit(this,"throttle");this.bindings(g,e);},events:function(g){var e=this,f=e.S;f(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(i){var h=f(this).data(e.attr_name(true)+"-init")||e.settings;if(!h.is_hover||Modernizr.touch){i.preventDefault();e.toggle(c(this));}}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(k){var j=f(this),l,i;clearTimeout(e.timeout);if(j.data(e.data_attr())){l=f("#"+j.data(e.data_attr()));i=j;}else{l=j;i=f("["+e.attr_name()+"='"+l.attr("id")+"']");}var h=i.data(e.attr_name(true)+"-init")||e.settings;if(f(k.target).data(e.data_attr())&&h.is_hover){e.closeall.call(e);}if(h.is_hover){e.open.apply(e,[l,i]);}}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(i){var h=f(this);e.timeout=setTimeout(function(){if(h.data(e.data_attr())){var j=h.data(e.data_attr(true)+"-init")||e.settings;if(j.is_hover){e.close.call(e,f("#"+h.data(e.data_attr())));}}else{var k=f("["+e.attr_name()+'="'+f(this).attr("id")+'"]'),j=k.data(e.attr_name(true)+"-init")||e.settings;if(j.is_hover){e.close.call(e,h);}}}.bind(this),150);}).on("click.fndtn.dropdown",function(i){var h=f(i.target).closest("["+e.attr_name()+"-content]");if(f(i.target).data(e.data_attr())||f(i.target).parent().data(e.data_attr())){return;}if(!(f(i.target).data("revealId"))&&(h.length>0&&(f(i.target).is("["+e.attr_name()+"-content]")||c.contains(h.first()[0],i.target)))){i.stopPropagation();return;}e.close.call(e,f("["+e.attr_name()+"-content]"));}).on("opened.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.opened.call(this);}).on("closed.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.closed.call(this);});f(b).off(".dropdown").on("resize.fndtn.dropdown",e.throttle(function(){e.resize.call(e);},50));this.resize();},close:function(f){var e=this;f.each(function(){if(e.S(this).hasClass(e.settings.active_class)){e.S(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(e.settings.active_class).prev("["+e.attr_name()+"]").removeClass(e.settings.active_class).removeData("target");e.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[f]);}});},closeall:function(){var e=this;c.each(e.S("["+this.attr_name()+"-content]"),function(){e.close.call(e,e.S(this));});},open:function(f,e){this.css(f.addClass(this.settings.active_class),e);f.prev("["+this.attr_name()+"]").addClass(this.settings.active_class);f.data("target",e.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[f,e]);},data_attr:function(){if(this.namespace.length>0){return this.namespace+"-"+this.name;}return this.name;},toggle:function(e){var f=this.S("#"+e.data(this.data_attr()));if(f.length===0){return;}this.close.call(this,this.S("["+this.attr_name()+"-content]").not(f));if(f.hasClass(this.settings.active_class)){this.close.call(this,f);if(f.data("target")!==e.get(0)){this.open.call(this,f,e);}}else{this.open.call(this,f,e);}},resize:function(){var f=this.S("["+this.attr_name()+"-content].open"),e=this.S("["+this.attr_name()+"='"+f.attr("id")+"']");if(f.length&&e.length){this.css(f,e);}},css:function(i,h){var e=Math.max((h.width()-i.width())/2,8);this.clear_idx();if(this.small()){var g=this.dirs.bottom.call(i,h);i.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:g.top});i.css(Foundation.rtl?"right":"left",e);}else{var f=h.data(this.attr_name(true)+"-init")||this.settings;this.style(i,h,f);}return i;},style:function(h,g,f){var e=c.extend({position:"absolute"},this.dirs[f.align].call(h,g,f));h.attr("style","").css(e);},dirs:{_base:function(e){var f=this.offsetParent(),h=f.offset(),g=e.offset();g.top-=h.top;g.left-=h.left;return g;},top:function(f,g){var e=Foundation.libs.dropdown,h=e.dirs._base.call(this,f),i=8;this.addClass("drop-top");if(f.outerWidth()<this.outerWidth()||e.small()){e.adjust_pip(i,h);}if(Foundation.rtl){return{left:h.left-this.outerWidth()+f.outerWidth(),top:h.top-this.outerHeight()};}return{left:h.left,top:h.top-this.outerHeight()};},bottom:function(f,g){var e=Foundation.libs.dropdown,h=e.dirs._base.call(this,f),i=8;if(f.outerWidth()<this.outerWidth()||e.small()){e.adjust_pip(i,h);}if(e.rtl){return{left:h.left-this.outerWidth()+f.outerWidth(),top:h.top+f.outerHeight()};}return{left:h.left,top:h.top+f.outerHeight()};},left:function(e,f){var g=Foundation.libs.dropdown.dirs._base.call(this,e);this.addClass("drop-left");return{left:g.left-this.outerWidth(),top:g.top};},right:function(e,f){var g=Foundation.libs.dropdown.dirs._base.call(this,e);this.addClass("drop-right");return{left:g.left+e.outerWidth(),top:g.top};}},adjust_pip:function(k,j){var f=Foundation.stylesheet;if(this.small()){k+=j.left-8;}this.rule_idx=f.cssRules.length;var h=".f-dropdown.open:before",g=".f-dropdown.open:after",e="left: "+k+"px;",i="left: "+(k-1)+"px;";if(f.insertRule){f.insertRule([h,"{",e,"}"].join(" "),this.rule_idx);f.insertRule([g,"{",i,"}"].join(" "),this.rule_idx+1);}else{f.addRule(h,e,this.rule_idx);f.addRule(g,i,this.rule_idx+1);}},clear_idx:function(){var e=Foundation.stylesheet;if(this.rule_idx){e.deleteRule(this.rule_idx);e.deleteRule(this.rule_idx);delete this.rule_idx;}},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches;},off:function(){this.S(this.scope).off(".fndtn.dropdown");this.S("html, body").off(".fndtn.dropdown");this.S(b).off(".fndtn.dropdown");this.S("[data-dropdown-content]").off(".fndtn.dropdown");},reflow:function(){}};}(jQuery,window,window.document));(function(c,b,a,d){Foundation.libs.tab={name:"tab",version:"5.3.1",settings:{active_class:"active",callback:function(){},deep_linking:false,scroll_to_content:true,is_hover:false},default_tab_hashes:[],init:function(h,i,f){var e=this,g=this.S;this.bindings(i,f);this.handle_location_hash_change();g("["+this.attr_name()+"] > .active > a",this.scope).each(function(){e.default_tab_hashes.push(this.hash);});},events:function(){var e=this,f=this.S;f(this.scope).off(".tab").on("click.fndtn.tab","["+this.attr_name()+"] > * > a",function(h){var g=f(this).closest("["+e.attr_name()+"]").data(e.attr_name(true)+"-init");if(!g.is_hover||Modernizr.touch){h.preventDefault();h.stopPropagation();e.toggle_active_tab(f(this).parent());}}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(h){var g=f(this).closest("["+e.attr_name()+"]").data(e.attr_name(true)+"-init");if(g.is_hover){e.toggle_active_tab(f(this).parent());}});f(b).on("hashchange.fndtn.tab",function(g){g.preventDefault();e.handle_location_hash_change();});},handle_location_hash_change:function(){var e=this,f=this.S;f("["+this.attr_name()+"]",this.scope).each(function(){var i=f(this).data(e.attr_name(true)+"-init");if(i.deep_linking){var k=e.scope.location.hash;if(k!=""){var h=f(k);if(h.hasClass("content")&&h.parent().hasClass("tab-content")){e.toggle_active_tab(c("["+e.attr_name()+"] > * > a[href="+k+"]").parent());}else{var g=h.closest(".content").attr("id");if(g!=d){e.toggle_active_tab(c("["+e.attr_name()+"] > * > a[href=#"+g+"]").parent(),k);}}}else{for(var j in e.default_tab_hashes){e.toggle_active_tab(c("["+e.attr_name()+"] > * > a[href="+e.default_tab_hashes[j]+"]").parent());}}}});},toggle_active_tab:function(e,i){var g=this.S,l=e.closest("["+this.attr_name()+"]"),h=e.children("a").first(),n="#"+h.attr("href").split("#")[1],j=g(n),m=e.siblings(),f=l.data(this.attr_name(true)+"-init");if(g(this).data(this.data_attr("tab-content"))){n="#"+g(this).data(this.data_attr("tab-content")).split("#")[1];j=g(n);}if(f.deep_linking){var k=c("body,html").scrollTop();if(i!=d){b.location.hash=i;}else{b.location.hash=n;}if(f.scroll_to_content){if(i==d||i==n){e.parent()[0].scrollIntoView();}else{g(n)[0].scrollIntoView();}}else{if(i==d||i==n){c("body,html").scrollTop(k);}}}e.addClass(f.active_class).triggerHandler("opened");m.removeClass(f.active_class);j.siblings().removeClass(f.active_class).end().addClass(f.active_class);f.callback(e);j.triggerHandler("toggled",[e]);l.triggerHandler("toggled",[j]);},data_attr:function(e){if(this.namespace.length>0){return this.namespace+"-"+e;}return e;},off:function(){},reflow:function(){}};}(jQuery,window,window.document));(function(d,c,a,e){Foundation.libs.reveal={name:"reveal",version:"5.3.1",locked:false,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:true,close_on_esc:true,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:d(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(g,h,f){d.extend(true,this.settings,h,f);this.bindings(h,f);},events:function(h){var f=this,g=f.S;g(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(l){l.preventDefault();if(!f.locked){var j=g(this),k=j.data(f.data_attr("reveal-ajax"));f.locked=true;if(typeof k==="undefined"){f.open.call(f,j);}else{var i=k===true?j.attr("href"):k;f.open.call(f,j,{url:i});}}});g(a).on("click.fndtn.reveal",this.close_targets(),function(j){j.preventDefault();if(!f.locked){var i=g("["+f.attr_name()+"].open").data(f.attr_name(true)+"-init"),k=g(j.target)[0]===g("."+i.bg_class)[0];if(k){if(i.close_on_background_click){j.stopPropagation();}else{return;}}f.locked=true;f.close.call(f,k?g("["+f.attr_name()+"].open"):g(this).closest("["+f.attr_name()+"]"));}});if(g("["+f.attr_name()+"]",this.scope).length>0){g(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video);}else{g(this.scope).on("open.fndtn.reveal","["+f.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+f.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+f.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+f.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+f.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+f.attr_name()+"]",this.close_video);}return true;},key_up_on:function(g){var f=this;f.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(j){var h=f.S("["+f.attr_name()+"].open"),i=h.data(f.attr_name(true)+"-init")||f.settings;if(i&&j.which===27&&i.close_on_esc&&!f.locked){f.close.call(f,h);}});return true;},key_up_off:function(f){this.S("body").off("keyup.fndtn.reveal");return true;},open:function(j,k){var g=this,i;d("body").css("overflow","hidden");if(j){if(typeof j.selector!=="undefined"){i=g.S("#"+j.data(g.data_attr("reveal-id"))).first();}else{i=g.S(this.scope);k=j;}}else{i=g.S(this.scope);}var h=i.data(g.attr_name(true)+"-init");h=h||this.settings;if(i.hasClass("open")&&j.attr("data-reveal-id")==i.attr("id")){return g.close(i);}if(!i.hasClass("open")){var f=g.S("["+g.attr_name()+"].open");if(typeof i.data("css-top")==="undefined"){i.data("css-top",parseInt(i.css("top"),10)).data("offset",this.cache_offset(i));}this.key_up_on(i);i.trigger("open").trigger("open.fndtn.reveal");if(f.length<1){this.toggle_bg(i,true);}if(typeof k==="string"){k={url:k};}if(typeof k==="undefined"||!k.url){if(f.length>0){this.hide(f,h.css.close);}this.show(i,h.css.open);}else{var l=typeof k.success!=="undefined"?k.success:null;d.extend(k,{success:function(n,o,m){if(d.isFunction(l)){l(n,o,m);}i.html(n);g.S(i).foundation("section","reflow");g.S(i).children().foundation();if(f.length>0){g.hide(f,h.css.close);}g.show(i,h.css.open);}});d.ajax(k);}}},close:function(h){var h=h&&h.length?h:this.S(this.scope),g=this.S("["+this.attr_name()+"].open"),f=h.data(this.attr_name(true)+"-init")||this.settings;d("body").css("overflow","scroll");if(g.length>0){this.locked=true;this.key_up_off(h);h.trigger("close").trigger("close.fndtn.reveal");this.toggle_bg(h,false);this.hide(g,f.css.close,f);}},close_targets:function(){var f="."+this.settings.dismiss_modal_class;if(this.settings.close_on_background_click){return f+", ."+this.settings.bg_class;}return f;},toggle_bg:function(f,g){if(this.S("."+this.settings.bg_class).length===0){this.settings.bg=d("<div />",{"class":this.settings.bg_class}).appendTo("body").hide();}var h=this.settings.bg.filter(":visible").length>0;if(g!=h){if(g==e?h:!g){this.hide(this.settings.bg);}else{this.show(this.settings.bg);}}},show:function(k,i){if(i){var j=k.data(this.attr_name(true)+"-init")||this.settings,h=j.root_element;if(k.parent(h).length===0){var l=k.wrap('<div style="display: none;" />').parent();k.on("closed.fndtn.reveal.wrapped",function(){k.detach().appendTo(l);k.unwrap().unbind("closed.fndtn.reveal.wrapped");});k.detach().appendTo(h);}var g=b(j.animation);if(!g.animate){this.locked=false;}if(g.pop){i.top=d(c).scrollTop()-k.data("offset")+"px";var f={top:d(c).scrollTop(),opacity:1};return setTimeout(function(){return k.css(i).animate(f,j.animation_speed,"linear",function(){this.locked=false;k.trigger("opened").trigger("opened.fndtn.reveal");}.bind(this)).addClass("open");}.bind(this),j.animation_speed/2);}if(g.fade){i.top=d(c).scrollTop();var f={opacity:1};return setTimeout(function(){return k.css(i).animate(f,j.animation_speed,"linear",function(){this.locked=false;k.trigger("opened").trigger("opened.fndtn.reveal");}.bind(this)).addClass("open");}.bind(this),j.animation_speed/2);}return k.css(i).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal");}var j=this.settings;if(b(j.animation).fade){return k.fadeIn(j.animation_speed/2);}this.locked=false;return k.show();},hide:function(j,h){if(h){var i=j.data(this.attr_name(true)+"-init");i=i||this.settings;var g=b(i.animation);if(!g.animate){this.locked=false;}if(g.pop){var f={top:-d(c).scrollTop()-j.data("offset")+"px",opacity:0};return setTimeout(function(){return j.animate(f,i.animation_speed,"linear",function(){this.locked=false;j.css(h).trigger("closed").trigger("closed.fndtn.reveal");}.bind(this)).removeClass("open");}.bind(this),i.animation_speed/2);}if(g.fade){var f={opacity:0};return setTimeout(function(){return j.animate(f,i.animation_speed,"linear",function(){this.locked=false;j.css(h).trigger("closed").trigger("closed.fndtn.reveal");}.bind(this)).removeClass("open");}.bind(this),i.animation_speed/2);}return j.hide().css(h).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal");}var i=this.settings;if(b(i.animation).fade){return j.fadeOut(i.animation_speed/2);}return j.hide();},close_video:function(h){var g=d(".flex-video",h.target),f=d("iframe",g);if(f.length>0){f.attr("data-src",f[0].src);f.attr("src",f.attr("src"));g.hide();}},open_video:function(h){var g=d(".flex-video",h.target),f=g.find("iframe");if(f.length>0){var j=f.attr("data-src");if(typeof j==="string"){f[0].src=f.attr("data-src");}else{var i=f[0].src;f[0].src=e;f[0].src=i;}g.show();}},data_attr:function(f){if(this.namespace.length>0){return this.namespace+"-"+f;}return f;},cache_offset:function(f){var g=f.show().height()+parseInt(f.css("top"),10);f.hide();return g;},off:function(){d(this.scope).off(".fndtn.reveal");},reflow:function(){}};function b(h){var g=/fade/i.test(h);var f=/pop/i.test(h);return{animate:g||f,pop:f,fade:g};}}(jQuery,window,window.document));(function(c,b,a,d){Foundation.libs.slider={name:"slider",version:"5.5.3",settings:{start:0,end:100,step:1,precision:2,initial:null,display_selector:"",vertical:false,trigger_input_change:false,on_change:function(){}},cache:{},init:function(f,g,e){Foundation.inherit(this,"throttle");this.bindings(g,e);this.reflow();},events:function(){var e=this;c(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+e.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(f){if(!e.cache.active){f.preventDefault();e.set_active_slider(c(f.target));}}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(g){if(!!e.cache.active){g.preventDefault();if(c.data(e.cache.active[0],"settings").vertical){var f=0;if(!g.pageY){f=b.scrollY;}e.calculate_position(e.cache.active,e.get_cursor_position(g,"y")+f);}else{e.calculate_position(e.cache.active,e.get_cursor_position(g,"x"));}}}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(h){if(!e.cache.active){var g=c(h.target).attr("role")==="slider"?c(h.target):c(h.target).closest(".range-slider").find("[role='slider']");if(g.length&&(!g.parent().hasClass("disabled")&&!g.parent().attr("disabled"))){e.set_active_slider(g);if(c.data(e.cache.active[0],"settings").vertical){var f=0;if(!h.pageY){f=b.scrollY;}e.calculate_position(e.cache.active,e.get_cursor_position(h,"y")+f);}else{e.calculate_position(e.cache.active,e.get_cursor_position(h,"x"));}}}e.remove_active_slider();}).on("change.fndtn.slider",function(f){e.settings.on_change();});e.S(b).on("resize.fndtn.slider",e.throttle(function(f){e.reflow();},300));this.S("["+this.attr_name()+"]").each(function(){var g=c(this),h=g.children(".range-slider-handle")[0],f=e.initialize_settings(h);if(f.display_selector!=""){c(f.display_selector).each(function(){if(c(this).attr("value")){c(this).off("change").on("change",function(){g.foundation("slider","set_value",c(this).val());});}});}});},get_cursor_position:function(i,h){var j="page"+h.toUpperCase(),g="client"+h.toUpperCase(),f;if(typeof i[j]!=="undefined"){f=i[j];}else{if(typeof i.originalEvent[g]!=="undefined"){f=i.originalEvent[g];}else{if(i.originalEvent.touches&&i.originalEvent.touches[0]&&typeof i.originalEvent.touches[0][g]!=="undefined"){f=i.originalEvent.touches[0][g];}else{if(i.currentPoint&&typeof i.currentPoint[h]!=="undefined"){f=i.currentPoint[h];}}}}return f;},set_active_slider:function(e){this.cache.active=e;},remove_active_slider:function(){this.cache.active=null;},calculate_position:function(l,j){var f=this,h=c.data(l[0],"settings"),g=c.data(l[0],"handle_l"),e=c.data(l[0],"handle_o"),k=c.data(l[0],"bar_l"),i=c.data(l[0],"bar_o");requestAnimationFrame(function(){var n;if(Foundation.rtl&&!h.vertical){n=f.limit_to(((i+k-j)/k),0,1);}else{n=f.limit_to(((j-i)/k),0,1);}n=h.vertical?1-n:n;var m=f.normalized_value(n,h.start,h.end,h.step,h.precision);f.set_ui(l,m);});},set_ui:function(f,m){var i=c.data(f[0],"settings"),g=c.data(f[0],"handle_l"),h=c.data(f[0],"bar_l"),n=this.normalized_percentage(m,i.start,i.end),l=n*(h-g)-1,j=n*100,e=f.parent(),k=f.parent().children("input[type=hidden]");if(Foundation.rtl&&!i.vertical){l=-l;}l=i.vertical?-l+h-g+1:l;this.set_translate(f,l,i.vertical);if(i.vertical){f.siblings(".range-slider-active-segment").css("height",j+"%");}else{f.siblings(".range-slider-active-segment").css("width",j+"%");}e.attr(this.attr_name(),m).trigger("change.fndtn.slider");k.val(m);if(i.trigger_input_change){k.trigger("change.fndtn.slider");}if(!f[0].hasAttribute("aria-valuemin")){f.attr({"aria-valuemin":i.start,"aria-valuemax":i.end});}f.attr("aria-valuenow",m);if(i.display_selector!=""){c(i.display_selector).each(function(){if(this.hasAttribute("value")){c(this).val(m);}else{c(this).text(m);}});}},normalized_percentage:function(f,g,e){return Math.min(1,(f-g)/(e-g));},normalized_value:function(f,e,h,g,j){var i=h-e,l=f*i,k=(l-(l%g))/g,m=l%g,n=(m>=g*0.5?g:0);return((k*g+n)+e).toFixed(j);},set_translate:function(f,g,e){if(e){c(f).css("-webkit-transform","translateY("+g+"px)").css("-moz-transform","translateY("+g+"px)").css("-ms-transform","translateY("+g+"px)").css("-o-transform","translateY("+g+"px)").css("transform","translateY("+g+"px)");}else{c(f).css("-webkit-transform","translateX("+g+"px)").css("-moz-transform","translateX("+g+"px)").css("-ms-transform","translateX("+g+"px)").css("-o-transform","translateX("+g+"px)").css("transform","translateX("+g+"px)");}},limit_to:function(g,f,e){return Math.min(Math.max(g,f),e);},initialize_settings:function(g){var f=c.extend({},this.settings,this.data_options(c(g).parent())),e;if(f.precision===null){e=(""+f.step).match(/\.([\d]*)/);f.precision=e&&e[1]?e[1].length:0;}if(f.vertical){c.data(g,"bar_o",c(g).parent().offset().top);c.data(g,"bar_l",c(g).parent().outerHeight());c.data(g,"handle_o",c(g).offset().top);c.data(g,"handle_l",c(g).outerHeight());}else{c.data(g,"bar_o",c(g).parent().offset().left);c.data(g,"bar_l",c(g).parent().outerWidth());c.data(g,"handle_o",c(g).offset().left);c.data(g,"handle_l",c(g).outerWidth());}c.data(g,"bar",c(g).parent());return c.data(g,"settings",f);},set_initial_position:function(g){var f=c.data(g.children(".range-slider-handle")[0],"settings"),e=((typeof f.initial=="number"&&!isNaN(f.initial))?f.initial:Math.floor((f.end-f.start)*0.5/f.step)*f.step+f.start),h=g.children(".range-slider-handle");this.set_ui(h,e);},set_value:function(f){var e=this;c("["+e.attr_name()+"]",this.scope).each(function(){c(this).attr(e.attr_name(),f);});if(!!c(this.scope).attr(e.attr_name())){c(this.scope).attr(e.attr_name(),f);}e.reflow();},reflow:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var f=c(this).children(".range-slider-handle")[0],g=c(this).attr(e.attr_name());e.initialize_settings(f);if(g){e.set_ui(c(f),parseFloat(g));}else{e.set_initial_position(c(this));}});}};}(jQuery,window,window.document));
/*!
 * imagesLoaded PACKAGED v3.1.7
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
/*!
 * EventEmitter v4.2.6 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){function c(){}var l=c.prototype;var v=this;var x=v.EventEmitter;function h(z,A){var y=z.length;while(y--){if(z[y].listener===A){return y;}}return -1;}function j(y){return function z(){return this[y].apply(this,arguments);};}l.getListeners=function t(y){var B=this._getEvents();var z;var A;if(typeof y==="object"){z={};for(A in B){if(B.hasOwnProperty(A)&&y.test(A)){z[A]=B[A];}}}else{z=B[y]||(B[y]=[]);}return z;};l.flattenListeners=function r(A){var y=[];var z;for(z=0;z<A.length;z+=1){y.push(A[z].listener);}return y;};l.getListenersAsObject=function e(y){var A=this.getListeners(y);var z;if(A instanceof Array){z={};z[y]=A;}return z||A;};l.addListener=function f(y,B){var A=this.getListenersAsObject(y);var C=typeof B==="object";var z;for(z in A){if(A.hasOwnProperty(z)&&h(A[z],B)===-1){A[z].push(C?B:{listener:B,once:false});}}return this;};l.on=j("addListener");l.addOnceListener=function a(y,z){return this.addListener(y,{listener:z,once:true});};l.once=j("addOnceListener");l.defineEvent=function p(y){this.getListeners(y);return this;};l.defineEvents=function q(y){for(var z=0;z<y.length;z+=1){this.defineEvent(y[z]);}return this;};l.removeListener=function b(y,C){var B=this.getListenersAsObject(y);var z;var A;for(A in B){if(B.hasOwnProperty(A)){z=h(B[A],C);if(z!==-1){B[A].splice(z,1);}}}return this;};l.off=j("removeListener");l.addListeners=function m(y,z){return this.manipulateListeners(false,y,z);};l.removeListeners=function s(y,z){return this.manipulateListeners(true,y,z);};l.manipulateListeners=function g(z,A,C){var B;var D;var E=z?this.removeListener:this.addListener;var y=z?this.removeListeners:this.addListeners;if(typeof A==="object"&&!(A instanceof RegExp)){for(B in A){if(A.hasOwnProperty(B)&&(D=A[B])){if(typeof D==="function"){E.call(this,B,D);}else{y.call(this,B,D);}}}}else{B=C.length;while(B--){E.call(this,A,C[B]);}}return this;};l.removeEvent=function o(y){var B=typeof y;var A=this._getEvents();var z;if(B==="string"){delete A[y];}else{if(B==="object"){for(z in A){if(A.hasOwnProperty(z)&&y.test(z)){delete A[z];}}}else{delete this._events;}}return this;};l.removeAllListeners=j("removeEvent");l.emitEvent=function u(y,A){var D=this.getListenersAsObject(y);var E;var C;var B;var z;for(B in D){if(D.hasOwnProperty(B)){C=D[B].length;while(C--){E=D[B][C];if(E.once===true){this.removeListener(y,E.listener);}z=E.listener.apply(this,A||[]);if(z===this._getOnceReturnValue()){this.removeListener(y,E.listener);}}}}return this;};l.trigger=j("emitEvent");l.emit=function k(y){var z=Array.prototype.slice.call(arguments,1);return this.emitEvent(y,z);};l.setOnceReturnValue=function i(y){this._onceReturnValue=y;return this;};l._getOnceReturnValue=function n(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue;}else{return true;}};l._getEvents=function d(){return this._events||(this._events={});};c.noConflict=function w(){v.EventEmitter=x;return c;};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return c;});}else{if(typeof module==="object"&&module.exports){module.exports=c;}else{this.EventEmitter=c;}}}.call(this));
/*!
 * eventie v1.0.4
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
(function(e){var b=document.documentElement;var f=function(){};function a(h){var g=e.event;g.target=g.target||g.srcElement||h;return g;}if(b.addEventListener){f=function(i,h,g){i.addEventListener(h,g,false);};}else{if(b.attachEvent){f=function(i,h,g){i[h+g]=g.handleEvent?function(){var j=a(i);g.handleEvent.call(g,j);}:function(){var j=a(i);g.call(i,j);};i.attachEvent("on"+h,i[h+g]);};}}var d=function(){};if(b.removeEventListener){d=function(i,h,g){i.removeEventListener(h,g,false);};}else{if(b.detachEvent){d=function(j,h,g){j.detachEvent("on"+h,j[h+g]);try{delete j[h+g];}catch(i){j[h+g]=undefined;}};}}var c={bind:f,unbind:d};if(typeof define==="function"&&define.amd){define("eventie/eventie",c);}else{e.eventie=c;}})(this);
/*!
 * imagesLoaded v3.1.7
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(b,a){if(typeof define==="function"&&define.amd){define(["eventEmitter/EventEmitter","eventie/eventie"],function(d,c){return a(b,d,c);});}else{if(typeof exports==="object"){module.exports=a(b,require("eventEmitter"),require("eventie"));}else{b.imagesLoaded=a(b,b.EventEmitter,b.eventie);}}})(window,function factory(i,m,l){var g=i.jQuery;var e=i.console;var c=typeof e!=="undefined";function j(p,o){for(var q in o){p[q]=o[q];}return p;}var n=Object.prototype.toString;function h(o){return n.call(o)==="[object Array]";}function d(r){var q=[];if(h(r)){q=r;}else{if(typeof r.length==="number"){for(var p=0,o=r.length;p<o;p++){q.push(r[p]);}}else{q.push(r);}}return q;}function f(q,p,o){if(!(this instanceof f)){return new f(q,p);}if(typeof q==="string"){q=document.querySelectorAll(q);}this.elements=d(q);this.options=j({},this.options);if(typeof p==="function"){o=p;}else{j(this.options,p);}if(o){this.on("always",o);}this.getImages();if(g){this.jqDeferred=new g.Deferred();}var r=this;setTimeout(function(){r.check();});}f.prototype=new m();f.prototype.options={};f.prototype.getImages=function(){this.images=[];for(var s=0,o=this.elements.length;s<o;s++){var t=this.elements[s];if(t.nodeName==="IMG"){this.addImage(t);}var p=t.nodeType;if(!p||!(p===1||p===9||p===11)){continue;}var v=t.querySelectorAll("img");for(var r=0,u=v.length;r<u;r++){var q=v[r];this.addImage(q);}}};f.prototype.addImage=function(o){var p=new k(o);this.images.push(p);};f.prototype.check=function(){var t=this;var p=0;var r=this.images.length;this.hasAnyBroken=false;if(!r){this.complete();return;}function q(v,u){if(t.options.debug&&c){e.log("confirm",v,u);}t.progress(v);p++;if(p===r){t.complete();}return true;}for(var o=0;o<r;o++){var s=this.images[o];s.on("confirm",q);s.check();}};f.prototype.progress=function(o){this.hasAnyBroken=this.hasAnyBroken||!o.isLoaded;var p=this;setTimeout(function(){p.emit("progress",p,o);if(p.jqDeferred&&p.jqDeferred.notify){p.jqDeferred.notify(p,o);}});};f.prototype.complete=function(){var o=this.hasAnyBroken?"fail":"done";this.isComplete=true;var p=this;setTimeout(function(){p.emit(o,p);p.emit("always",p);if(p.jqDeferred){var q=p.hasAnyBroken?"reject":"resolve";p.jqDeferred[q](p);}});};if(g){g.fn.imagesLoaded=function(p,q){var o=new f(this,p,q);return o.jqDeferred.promise(g(this));};}function k(o){this.img=o;}k.prototype=new m();k.prototype.check=function(){var o=b[this.img.src]||new a(this.img.src);if(o.isConfirmed){this.confirm(o.isLoaded,"cached was confirmed");return;}if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return;}var p=this;o.on("confirm",function(q,r){p.confirm(q.isLoaded,r);return true;});o.check();};k.prototype.confirm=function(o,p){this.isLoaded=o;this.emit("confirm",this,p);};var b={};function a(o){this.src=o;b[o]=this;}a.prototype=new m();a.prototype.check=function(){if(this.isChecked){return;}var o=new Image();l.bind(o,"load",this);l.bind(o,"error",this);o.src=this.src;this.isChecked=true;};a.prototype.handleEvent=function(o){var p="on"+o.type;if(this[p]){this[p](o);}};a.prototype.onload=function(o){this.confirm(true,"onload");this.unbindProxyEvents(o);};a.prototype.onerror=function(o){this.confirm(false,"onerror");this.unbindProxyEvents(o);};a.prototype.confirm=function(o,p){this.isConfirmed=true;this.isLoaded=o;this.emit("confirm",this,p);};a.prototype.unbindProxyEvents=function(o){l.unbind(o.target,"load",this);l.unbind(o.target,"error",this);};return f;});(function(b){var a;toggle_component={settings:{toggle_trigger:"[data-js-toggle=toggle_trigger]",toggle_target:"[data-js-toggle=toggle_target]",toggle_add:"[data-js-toggle=toggle_add]",speed:0},init:function(){this.toggle();},toggle:function(){a=this.settings;b(a.toggle_trigger).on("click",function(){b(this).siblings(a.toggle_trigger).addBack().toggle(a.speed);b(this).siblings(a.toggle_target).toggle(a.speed);b(this).siblings(a.toggle_add).toggle(a.speed);});}};})(jQuery);(function(a){truncate_elem={remove_overflowed:function(f){var e,g,d,b,c;g="&hellip;";d=a(f);b=[];e=a(d[0]).offset().top;d.children().each(function(){if(a(this).offset().top>e){b.push(this);return a(this).addClass("remove");}});c=b[0];a(c).prev().append(g);a(".remove").css("visibility","hidden");}};})(jQuery);(function(b){var a;tooltip_hover={settings:{hover_trigger:"[data-js-tooltip-hover=trigger]",hover_target:"[data-js-tooltip-hover=target]",class_trigger:"highlighted",class_target:"visible",class_shim:"shim"},init:function(){this.action();},action:function(){a=this.settings;b(a.hover_trigger).off("mouseenter mouseleave").mouseenter(function(){b(this).addClass(a.class_trigger).find(a.hover_target).addClass(a.class_target).before("<div class="+a.class_shim+"> </div>");}).mouseleave(function(){b(this).removeClass(a.class_trigger).find(a.hover_target).removeClass(a.class_target);b(".shim").remove();});}};})(jQuery);
/*!
 * hoverIntent r7 // 2013.03.11 // jQuery 1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2013 Brian Cherne
 */
(function(a){a.fn.hoverIntent=function(m,d,h){var j={interval:100,sensitivity:7,timeout:0};if(typeof m==="object"){j=a.extend(j,m);}else{if(a.isFunction(d)){j=a.extend(j,{over:m,out:d,selector:h});}else{j=a.extend(j,{over:m,out:m,selector:d});}}var l,k,g,f;var e=function(n){l=n.pageX;k=n.pageY;};var c=function(o,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if((Math.abs(g-l)+Math.abs(f-k))<j.sensitivity){a(n).off("mousemove.hoverIntent",e);n.hoverIntent_s=1;return j.over.apply(n,[o]);}else{g=l;f=k;n.hoverIntent_t=setTimeout(function(){c(o,n);},j.interval);}};var i=function(o,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);n.hoverIntent_s=0;return j.out.apply(n,[o]);};var b=function(p){var o=jQuery.extend({},p);var n=this;if(n.hoverIntent_t){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);}if(p.type=="mouseenter"){g=o.pageX;f=o.pageY;a(n).on("mousemove.hoverIntent",e);if(n.hoverIntent_s!=1){n.hoverIntent_t=setTimeout(function(){c(o,n);},j.interval);}}else{a(n).off("mousemove.hoverIntent",e);if(n.hoverIntent_s==1){n.hoverIntent_t=setTimeout(function(){i(o,n);},j.timeout);}}};return this.on({"mouseenter.hoverIntent":b,"mouseleave.hoverIntent":b},j.selector);};})(jQuery);(function(a){a.fn.menu_drop=function(c,b){b=a.extend({},d,b);var d={child:".dropdown"};if(c==="show"){this.addClass("hover");a(b.child,this).css("visibility","visible");return this;}if(c==="hide"){this.removeClass("hover");a(b.child,this).css("visibility","hidden");return this;}};}(jQuery));(function(a){hover_delay={init:function(){var b=a("li.has-dropdown");var c=".hover";if(a("html.touch:not(.desktop)").length){b.on("touchstart",function(d){a(this).menu_drop("show").siblings(c).menu_drop("hide");d.stopPropagation();a(document).one("touchstart",function(){b.menu_drop("hide");});});}else{b.hoverIntent(function(){a(this).menu_drop("show");},function(){a(this).menu_drop("hide");});}}};})(jQuery);(function(b){var a;placeholder_style={settings:{input:"#navsearch input#search",placeholder_class:"placeholder",parent:"form"},init:function(){a=this.settings;b(a.input).focusin(function(){b(this).parents(a.parent).addClass(a.placeholder_class);});b(a.input).focusout(function(){b(this).parents(a.parent).removeClass(a.placeholder_class);});}};})(jQuery);
/*! Copyright (c) 2013 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.1.3
 *
 * Requires: 1.2.2+
 */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery);})(function(f){function c(q){var j,k=q||window.event,v=[].slice.call(arguments,1),m=0,p=0,o=0,e=0,n=0;return q=f.event.fix(k),q.type="mousewheel",k.wheelDelta&&(m=k.wheelDelta),k.detail&&(m=-1*k.detail),k.deltaY&&(o=-1*k.deltaY,m=o),k.deltaX&&(p=k.deltaX,m=-1*p),void 0!==k.wheelDeltaY&&(o=k.wheelDeltaY),void 0!==k.wheelDeltaX&&(p=-1*k.wheelDeltaX),e=Math.abs(m),(!g||g>e)&&(g=e),n=Math.max(Math.abs(o),Math.abs(p)),(!h||h>n)&&(h=n),j=m>0?"floor":"ceil",m=Math[j](m/g),p=Math[j](p/h),o=Math[j](o/h),v.unshift(q,m,p,o),(f.event.dispatch||f.event.handle).apply(this,v);}var g,h,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],b="onwheel" in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(f.event.fixHooks){for(var d=a.length;d;){f.event.fixHooks[a[--d]]=f.event.mouseHooks;}}f.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=b.length;i;){this.addEventListener(b[--i],c,!1);}}else{this.onmousewheel=c;}},teardown:function(){if(this.removeEventListener){for(var i=b.length;i;){this.removeEventListener(b[--i],c,!1);}}else{this.onmousewheel=null;}}},f.fn.extend({mousewheel:function(i){return i?this.bind("mousewheel",i):this.trigger("mousewheel");},unmousewheel:function(i){return this.unbind("mousewheel",i);}});});(function(a){(function b(){var C=200;var d=siteUrlPrefix+"taxonomy/";var r=a("#taxonomy-browser").attr("data-search-url")+"/";var w={};var F=[];var J={};var v={};var f=null;var g=null;var K=null;var H=true;var z=100;var G=300;var l=100;var E=function(){H=false;};function m(N){c(N);if((typeof(w[N])!="undefined")){return w[N];}else{return[];}}function I(O,P){if(P<=(F.length-1)){n(P);}var N=m(O);F.push(O);t(O,N);}function t(P,N){p(P,N);var S=a(".levels-position .level").length;var O=a(".levels-position").position().left;var T=Math.abs(O/K);var R=S-(3)-T;if((R>0)){L("-="+(K*R));}}function p(P,O){function R(S){return a.map(S,function(T){if(T==="ROOT"){return;}return{name:T,isLeaf:v[T]===0,link:k(T),count:J[T]};});}if(P==="/"){P="ROOT";}var N=B({parent_term:P,items:R(O),level:F.length,view_all_link:k(P),view_all_total:J[P]});a(".levels-position").append(N);s(a(".level").last());}function h(P){var R=a(P.target);if(R.hasClass("no-children")){return true;}P.preventDefault();var N=R.data("level");I(i(R),N);var O=R.closest(".level");O.find("li").removeClass("active");R.closest("li").addClass("active");}function q(O){O.preventDefault();var P=a(O.target);if(!P.hasClass("active")||a(".levels-position").is(":animated")){return false;}var N=(P.hasClass("next"))?"-=":"+=";var R=N+a(".level").outerWidth(true);L(R);a(":focus").blur();}function j(S){S.preventDefault();cancelClick=setTimeout(E,z);var R=a(S.target);var P=R.siblings(".level-scroll");var O=P.children("ul").height();var U=P.scrollTop();var N=800;var T=R.hasClass("up")?U:O-U;N=Math.round(T*N/O);P.animate({scrollTop:R.hasClass("up")?0:O},N);}function D(P){P.preventDefault();var O=a(P.target);var N=O.siblings(".level-scroll");clearTimeout(cancelClick);N.stop();if(H){var R=N.scrollTop();N.animate({scrollTop:O.hasClass("up")?R-l:R+l},G);}H=true;}function e(S,U,P,N){S.preventDefault();var R=Math[(N<0?"floor":"ceil")](N/60);var O=R*10;var T=a(this).scrollTop();a(this).scrollTop(T-O);}function L(N){a(".levels-position").stop().animate({left:N},C,M);}function M(){var O=Math.round(a(".levels-position").position().left);var R=a(".levels-position .level").length;var T=Math.abs(O/K);var P=R-3-T;var S=a(".prev");var N=a(".next");if(T>0){S.show().addClass("active");}else{S.hide().removeClass("active");}if(P>0){N.show().addClass("active");}else{N.hide().removeClass("active");}}function A(O,P){clearTimeout(g);O.removeClass("level-active-over");var R=(O.data("level")<=F.length);var N=(P&&(P.data("level")<O.data("level")));if(R||N){O.removeClass("level-active");O.addClass("level-selection");}f=null;}function s(N){clearTimeout(g);if(f!==null&&f.data("level")!==N.data("level")){A(f,N);}N.removeClass("level-selection");N.addClass("level-active level-active-over");f=N;}function B(P){var O=a.map(P.items,function(T,S){return["<li>",'<a href="'+T.link+'"'+(T.isLeaf?' class="no-children"':"")+' data-level="'+P.level+'">',T.name+" "+(T.isLeaf?"("+T.count+")":""),"</a>","</li>"].join("\n");});var R=P.parent_term;if(R==="ROOT"){R="All Subject Areas";}var N=['<div class="level" data-level="'+P.level+'">','<div class="level-title">'+R+"</div>",'<div class="level-top">','<a href="'+P.view_all_link+'">View All Articles ('+P.view_all_total+")</a>","</div>",'<a href="#" class="up"></a>','<div class="level-scroll">',"<ul>",O.join("\n"),"</ul>","</div>",'<a href="#" class="down"></a>'];if(P.items.length<5){N[5]='<a href="#" class="up hide-active-scroll"></a>';N[11]='<a href="#" class="down hide-active-scroll"></a>';}N.push(["</div>"]);return N.join("\n");}function k(O){var N=r;if((typeof(O)!=="undefined")&&(O!=="ROOT")){O=""+O;N=N+encodeURIComponent(O.replace(new RegExp("\\s","g"),"_").toLowerCase());}return N;}function i(N){return a.trim(N.html().replace(/\([0-9]+\)/g,""));}function c(R){function N(W,T,aa){var Z=[];for(var X=0;X<W.length;X++){var U=W[X].subject;var ab=U.split("/");var Y=ab[ab.length-1];Z.push(Y);var S=W[X].articleCount;if(S!=undefined&&S>0){J[Y]=S;}else{J[Y]=0;}var V=W[X].childCount;if(V!=undefined&&V>0){v[Y]=V;}else{v[Y]=0;}w[Y]=[];}w[R]=Z.sort();}function P(S,U,T){a(".subject-area").unbind("click",x).attr("title","Error: No subject terms available!").addClass("disabled");a("subject-area").on("click",function(V){V.preventDefault();return false;});}var O=u();if(R!="/"){O+="c="+R;}O=O.replace(/\s/g,"_");a.ajax({url:O,type:"GET",dataType:"json",async:false}).then(N,P);return true;}function u(){var N=d+"?";for(var O=1;O<F.length;O++){N+="c="+F[O]+"&";}return N;}function n(N){while(a(".levels .level").length>N){a(".levels .level").last().remove();F.pop();}}function o(O){if($tb.queue().length>0){return;}O=O||false;var N=$tb.is(":hidden");if(O||!N){if(!N){$tb.slideUp();}}else{$tb.slideDown();}}function x(N){N.preventDefault();N.stopPropagation();o();}function y(){a(".level-active").hover(function(){a(this).addClass("level-active-over");},function(){a(this).removeClass("level-active-over");});a(".subject-area").on("click",x);a(document).bind("click",function(O){o(true);});$tb.click(function(O){O.stopPropagation();});var N=a(".levels-position");if(!(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch)){N.on("mouseenter",".level",function(O){s(a(O.currentTarget));});N.on("mousedown",".level > a",j);N.on("mouseup",".level > a",D);}N.on("mousewheel",".level-scroll",e);N.on("click",".level > a",function(O){O.preventDefault();});N.on("click","ul li a",h);a("#taxonomy-browser").find(".prev, .next").click(q);}a(document).ready(function(){$tb=a("#taxonomy-browser");y();I("/",0);K=Math.round(a(".levels-position .level").outerWidth(true));});})();})(jQuery);!function(a){if("function"==typeof bootstrap){bootstrap("promise",a);}else{if("object"==typeof exports&&"object"==typeof module){module.exports=a();}else{if("function"==typeof define&&define.amd){define(a);}else{if("undefined"!=typeof ses){if(!ses.ok()){return;}ses.makeQ=a;}else{if("undefined"==typeof window&&"undefined"==typeof self){throw new Error("This environment was not anticipated by Q. Please file a bug.");}var c="undefined"!=typeof window?window:self,b=c.Q;c.Q=a(),c.Q.noConflict=function(){return c.Q=b,this;};}}}}}(function(){function aO(a){return function(){return ap.apply(a,arguments);};}function aU(a){return a===Object(a);}function a4(a){return"[object StopIteration]"===aY(a)||a instanceof bb;}function aQ(b,f){if(ae&&f.stack&&"object"==typeof b&&null!==b&&b.stack&&-1===b.stack.indexOf(aG)){for(var d=[],c=f;c;c=c.source){c.stack&&d.unshift(c.stack);}d.unshift(b.stack);var a=d.join("\n"+aG+"\n");b.stack=aT(a);}}function aT(a){for(var f=a.split("\n"),c=[],b=0;b<f.length;++b){var d=f[b];a7(d)||a0(d)||!d||c.push(d);}return c.join("\n");}function a0(a){return -1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:");}function aN(a){var d=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(d){return[d[1],Number(d[2])];}var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c){return[c[1],Number(c[2])];}var b=/.*@(.+):(\d+)$/.exec(a);return b?[b[1],Number(b[2])]:void 0;}function a7(a){var d=aN(a);if(!d){return !1;}var c=d[0],b=d[1];return c===at&&b>=aR&&aD>=b;}function aP(){if(ae){try{throw new Error;}catch(a){var d=a.stack.split("\n"),c=d[0].indexOf("@")>0?d[1]:d[2],b=aN(c);if(!b){return;}return at=b[0],b[1];}}}function a3(a,c,b){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(c+" is deprecated, use "+b+" instead.",new Error("").stack),a.apply(a,arguments);};}function aS(a){return a instanceof a1?a:a2(a)?al(a):aw(a);}function a9(){function c(e){h=e,b.source=e,ad(f,function(j,i){aS.nextTick(function(){e.promiseDispatch.apply(e,i);});},void 0),f=void 0,d=void 0;}var h,f=[],d=[],g=aa(a9.prototype),b=aa(a1.prototype);if(b.promiseDispatch=function(k,l,j){var e=ao(arguments);f?(f.push(e),"when"===l&&j[1]&&d.push(j[1])):aS.nextTick(function(){h.promiseDispatch.apply(h,e);});},b.valueOf=function(){if(f){return b;}var e=aM(h);return aV(e)&&(h=e),e;},b.inspect=function(){return h?h.inspect():{state:"pending"};},aS.longStackSupport&&ae){try{throw new Error;}catch(a){b.stack=a.stack.substring(a.stack.indexOf("\n")+1);}}return g.promise=b,g.resolve=function(i){h||c(aS(i));},g.fulfill=function(i){h||c(aw(i));},g.reject=function(i){h||c(ai(i));},g.notify=function(e){h||ad(d,function(j,i){aS.nextTick(function(){i(e);});},void 0);},g;}function aW(a){if("function"!=typeof a){throw new TypeError("resolver must be a function.");}var c=a9();try{a(c.resolve,c.reject,c.notify);}catch(b){c.reject(b);}return c.promise;}function a6(a){return aW(function(f,c){for(var b=0,d=a.length;d>b;b++){aS(a[b]).then(f,c);}});}function a1(a,f,c){void 0===f&&(f=function(e){return ai(new Error("Promise does not support operation: "+e));}),void 0===c&&(c=function(){return{state:"unknown"};});var b=aa(a1.prototype);if(b.promiseDispatch=function(j,k,h){var g;try{g=a[k]?a[k].apply(b,h):f.call(b,k,h);}catch(l){g=ai(l);}j&&j(g);},b.inspect=c,c){var d=c();"rejected"===d.state&&(b.exception=d.reason),b.valueOf=function(){var e=c();return"pending"===e.state||"rejected"===e.state?b:e.value;};}return b;}function aJ(a,d,c,b){return aS(a).then(d,c,b);}function aM(a){if(aV(a)){var b=a.inspect();if("fulfilled"===b.state){return b.value;}}return a;}function aV(a){return a instanceof a1;}function a2(a){return aU(a)&&"function"==typeof a.then;}function aX(a){return aV(a)&&"pending"===a.inspect().state;}function aZ(a){return !aV(a)||"fulfilled"===a.inspect().state;}function aL(a){return aV(a)&&"rejected"===a.inspect().state;}function a8(){aE.length=0,aH.length=0,aA||(aA=!0);}function aK(a,b){aA&&("object"==typeof process&&"function"==typeof process.emit&&aS.nextTick.runAfter(function(){-1!==ac(aH,a)&&(process.emit("unhandledRejection",b,a),aC.push(a));}),aH.push(a),aE.push(b&&"undefined"!=typeof b.stack?b.stack:"(no stack) "+b));}function ag(a){if(aA){var b=ac(aH,a);-1!==b&&("object"==typeof process&&"function"==typeof process.emit&&aS.nextTick.runAfter(function(){var c=ac(aC,a);-1!==c&&(process.emit("rejectionHandled",aE[b],a),aC.splice(c,1));}),aH.splice(b,1),aE.splice(b,1));}}function ai(a){var b=a1({when:function(c){return c&&ag(this),c?c(a):this;}},function(){return this;},function(){return{state:"rejected",reason:a};});return aK(b,a),b;}function aw(a){return a1({when:function(){return a;},get:function(b){return a[b];},set:function(c,b){a[c]=b;},"delete":function(b){delete a[b];},post:function(c,b){return null===c||void 0===c?a.apply(void 0,b):a[c].apply(a,b);},apply:function(c,b){return a.apply(c,b);},keys:function(){return a5(a);}},void 0,function(){return{state:"fulfilled",value:a};});}function al(a){var b=a9();return aS.nextTick(function(){try{a.then(b.resolve,b.reject,b.notify);}catch(c){b.reject(c);}}),b.promise;}function ah(a){return a1({isDef:function(){}},function(c,b){return aB(a,c,b);},function(){return aS(a).inspect();});}function am(a,c,b){return aS(a).spread(c,b);}function ax(a){return function(){function e(g,i){var f;if("undefined"==typeof StopIteration){try{f=c[g](i);}catch(h){return ai(h);}return f.done?aS(f.value):aJ(f.value,d,b);}try{f=c[g](i);}catch(h){return a4(h)?aS(h.value):ai(h);}return aJ(f,d,b);}var c=a.apply(this,arguments),d=e.bind(e,"next"),b=e.bind(e,"throw");return d();};}function ak(a){aS.done(aS.async(a)());}function ay(a){throw new bb(a);}function aj(a){return function(){return am([this,ar(arguments)],function(c,b){return a.apply(c,b);});};}function aB(a,c,b){return aS(a).dispatch(c,b);}function ar(a){return aJ(a,function(b){var d=0,c=a9();return ad(b,function(g,h,f){var e;aV(h)&&"fulfilled"===(e=h.inspect()).state?b[f]=e.value:(++d,aJ(h,function(i){b[f]=i,0===--d&&c.resolve(b);},c.reject,function(i){c.notify({index:f,value:i});}));},void 0),0===d&&c.resolve(b),c.promise;});}function af(a){if(0===a.length){return aS.resolve();}var c=aS.defer(),b=0;return ad(a,function(h,k,e){function d(f){c.resolve(f);}function l(){b--,0===b&&c.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."));}function g(f){c.notify({index:e,value:f});}var j=a[e];b++,aJ(j,d,l,g);},void 0),c.promise;}function av(a){return aJ(a,function(b){return b=ab(b,aS),aJ(ar(ab(b,function(c){return aJ(c,aI,aI);})),function(){return b;});});}function an(a){return aS(a).allSettled();}function az(a,b){return aS(a).then(void 0,void 0,b);}function aF(a,b){return aS(a).nodeify(b);}var ae=!1;try{throw new Error;}catch(au){ae=!!au.stack;}var at,bb,aR=aP(),aI=function(){},aq=function(){function m(){for(var c,e;j.next;){j=j.next,c=j.task,j.task=void 0,e=j.domain,e&&(j.domain=void 0,e.enter()),d(c,e);}for(;k.length;){c=k.pop(),d(c);}b=!1;}function d(i,f){try{i();}catch(c){if(l){throw f&&f.exit(),setTimeout(m,0),f&&f.enter(),c;}setTimeout(function(){throw c;},0);}f&&f.exit();}var j={task:void 0,next:null},a=j,b=!1,g=void 0,l=!1,k=[];if(aq=function(c){a=a.next={task:c,domain:l&&process.domain,next:null},b||(b=!0,g());},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick){l=!0,g=function(){process.nextTick(m);};}else{if("function"==typeof setImmediate){g="undefined"!=typeof window?setImmediate.bind(window,m):function(){setImmediate(m);};}else{if("undefined"!=typeof MessageChannel){var p=new MessageChannel;p.port1.onmessage=function(){g=h,p.port1.onmessage=m,m();};var h=function(){p.port2.postMessage(0);};g=function(){setTimeout(m,0),h();};}else{g=function(){setTimeout(m,0);};}}}return aq.runAfter=function(c){k.push(c),b||(b=!0,g());},aq;}(),ap=Function.call,ao=aO(Array.prototype.slice),ad=aO(Array.prototype.reduce||function(a,d){var c=0,b=this.length;if(1===arguments.length){for(;;){if(c in this){d=this[c++];break;}if(++c>=b){throw new TypeError;}}}for(;b>c;c++){c in this&&(d=a(d,this[c],c));}return d;}),ac=aO(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++){if(this[b]===a){return b;}}return -1;}),ab=aO(Array.prototype.map||function(a,d){var c=this,b=[];return ad(c,function(g,f,e){b.push(a.call(d,f,e,c));},void 0),b;}),aa=Object.create||function(a){function b(){}return b.prototype=a,new b;},ba=aO(Object.prototype.hasOwnProperty),a5=Object.keys||function(a){var c=[];for(var b in a){ba(a,b)&&c.push(b);}return c;},aY=aO(Object.prototype.toString);bb="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a;};var aG="From previous event:";aS.resolve=aS,aS.nextTick=aq,aS.longStackSupport=!1,"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(aS.longStackSupport=!0),aS.defer=a9,a9.prototype.makeNodeResolver=function(){var a=this;return function(c,b){c?a.reject(c):a.resolve(arguments.length>2?ao(arguments,1):b);};},aS.Promise=aW,aS.promise=aW,aW.race=a6,aW.all=ar,aW.reject=ai,aW.resolve=aS,aS.passByCopy=function(a){return a;},a1.prototype.passByCopy=function(){return this;},aS.join=function(a,b){return aS(a).join(b);},a1.prototype.join=function(a){return aS([this,a]).spread(function(b,c){if(b===c){return b;}throw new Error("Can't join: not the same: "+b+" "+c);});},aS.race=a6,a1.prototype.race=function(){return this.then(aS.race);},aS.makePromise=a1,a1.prototype.toString=function(){return"[object Promise]";},a1.prototype.then=function(l,b,h){function a(f){try{return"function"==typeof l?l(f):f;}catch(c){return ai(c);}}function d(c){if("function"==typeof b){aQ(c,j);try{return b(c);}catch(f){return ai(f);}}return ai(c);}function k(c){return"function"==typeof h?h(c):c;}var j=this,m=a9(),g=!1;return aS.nextTick(function(){j.promiseDispatch(function(c){g||(g=!0,m.resolve(a(c)));},"when",[function(c){g||(g=!0,m.resolve(d(c)));}]);}),j.promiseDispatch(void 0,"when",[void 0,function(c){var o,i=!1;try{o=k(c);}catch(f){if(i=!0,!aS.onerror){throw f;}aS.onerror(f);}i||m.notify(o);}]),m.promise;},aS.tap=function(a,b){return aS(a).tap(b);},a1.prototype.tap=function(a){return a=aS(a),this.then(function(b){return a.fcall(b).thenResolve(b);});},aS.when=aJ,a1.prototype.thenResolve=function(a){return this.then(function(){return a;});},aS.thenResolve=function(a,b){return aS(a).thenResolve(b);},a1.prototype.thenReject=function(a){return this.then(function(){throw a;});},aS.thenReject=function(a,b){return aS(a).thenReject(b);},aS.nearer=aM,aS.isPromise=aV,aS.isPromiseAlike=a2,aS.isPending=aX,a1.prototype.isPending=function(){return"pending"===this.inspect().state;},aS.isFulfilled=aZ,a1.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state;},aS.isRejected=aL,a1.prototype.isRejected=function(){return"rejected"===this.inspect().state;};var aE=[],aH=[],aC=[],aA=!0;aS.resetUnhandledRejections=a8,aS.getUnhandledReasons=function(){return aE.slice();},aS.stopUnhandledRejectionTracking=function(){a8(),aA=!1;},a8(),aS.reject=ai,aS.fulfill=aw,aS.master=ah,aS.spread=am,a1.prototype.spread=function(a,b){return this.all().then(function(c){return a.apply(void 0,c);},b);},aS.async=ax,aS.spawn=ak,aS["return"]=ay,aS.promised=aj,aS.dispatch=aB,a1.prototype.dispatch=function(a,d){var c=this,b=a9();return aS.nextTick(function(){c.promiseDispatch(b.resolve,a,d);}),b.promise;},aS.get=function(a,b){return aS(a).dispatch("get",[b]);},a1.prototype.get=function(a){return this.dispatch("get",[a]);},aS.set=function(a,c,b){return aS(a).dispatch("set",[c,b]);},a1.prototype.set=function(a,b){return this.dispatch("set",[a,b]);},aS.del=aS["delete"]=function(a,b){return aS(a).dispatch("delete",[b]);},a1.prototype.del=a1.prototype["delete"]=function(a){return this.dispatch("delete",[a]);},aS.mapply=aS.post=function(a,c,b){return aS(a).dispatch("post",[c,b]);},a1.prototype.mapply=a1.prototype.post=function(a,b){return this.dispatch("post",[a,b]);},aS.send=aS.mcall=aS.invoke=function(a,b){return aS(a).dispatch("post",[b,ao(arguments,2)]);},a1.prototype.send=a1.prototype.mcall=a1.prototype.invoke=function(a){return this.dispatch("post",[a,ao(arguments,1)]);},aS.fapply=function(a,b){return aS(a).dispatch("apply",[void 0,b]);},a1.prototype.fapply=function(a){return this.dispatch("apply",[void 0,a]);},aS["try"]=aS.fcall=function(a){return aS(a).dispatch("apply",[void 0,ao(arguments,1)]);},a1.prototype.fcall=function(){return this.dispatch("apply",[void 0,ao(arguments)]);},aS.fbind=function(a){var c=aS(a),b=ao(arguments,1);return function(){return c.dispatch("apply",[this,b.concat(ao(arguments))]);};},a1.prototype.fbind=function(){var a=this,b=ao(arguments);return function(){return a.dispatch("apply",[this,b.concat(ao(arguments))]);};},aS.keys=function(a){return aS(a).dispatch("keys",[]);},a1.prototype.keys=function(){return this.dispatch("keys",[]);},aS.all=ar,a1.prototype.all=function(){return ar(this);},aS.any=af,a1.prototype.any=function(){return af(this);},aS.allResolved=a3(av,"allResolved","allSettled"),a1.prototype.allResolved=function(){return av(this);},aS.allSettled=an,a1.prototype.allSettled=function(){return this.then(function(a){return ar(ab(a,function(b){function c(){return b.inspect();}return b=aS(b),b.then(c,c);}));});},aS.fail=aS["catch"]=function(a,b){return aS(a).then(void 0,b);},a1.prototype.fail=a1.prototype["catch"]=function(a){return this.then(void 0,a);},aS.progress=az,a1.prototype.progress=function(a){return this.then(void 0,void 0,a);},aS.fin=aS["finally"]=function(a,b){return aS(a)["finally"](b);},a1.prototype.fin=a1.prototype["finally"]=function(a){return a=aS(a),this.then(function(b){return a.fcall().then(function(){return b;});},function(b){return a.fcall().then(function(){throw b;});});},aS.done=function(a,d,c,b){return aS(a).done(d,c,b);},a1.prototype.done=function(b,f,c){var d=function(e){aS.nextTick(function(){if(aQ(e,a),!aS.onerror){throw e;}aS.onerror(e);});},a=b||f||c?this.then(b,f,c):this;"object"==typeof process&&process&&process.domain&&(d=process.domain.bind(d)),a.then(void 0,d);},aS.timeout=function(a,c,b){return aS(a).timeout(c,b);},a1.prototype.timeout=function(a,d){var c=a9(),b=setTimeout(function(){d&&"string"!=typeof d||(d=new Error(d||"Timed out after "+a+" ms"),d.code="ETIMEDOUT"),c.reject(d);},a);return this.then(function(e){clearTimeout(b),c.resolve(e);},function(e){clearTimeout(b),c.reject(e);},c.notify),c.promise;},aS.delay=function(a,b){return void 0===b&&(b=a,a=void 0),aS(a).delay(b);},a1.prototype.delay=function(a){return this.then(function(c){var b=a9();return setTimeout(function(){b.resolve(c);},a),b.promise;});},aS.nfapply=function(a,b){return aS(a).nfapply(b);},a1.prototype.nfapply=function(a){var c=a9(),b=ao(a);return b.push(c.makeNodeResolver()),this.fapply(b).fail(c.reject),c.promise;},aS.nfcall=function(a){var b=ao(arguments,1);return aS(a).nfapply(b);},a1.prototype.nfcall=function(){var a=ao(arguments),b=a9();return a.push(b.makeNodeResolver()),this.fapply(a).fail(b.reject),b.promise;},aS.nfbind=aS.denodeify=function(a){var b=ao(arguments,1);return function(){var d=b.concat(ao(arguments)),c=a9();return d.push(c.makeNodeResolver()),aS(a).fapply(d).fail(c.reject),c.promise;};},a1.prototype.nfbind=a1.prototype.denodeify=function(){var a=ao(arguments);return a.unshift(this),aS.denodeify.apply(void 0,a);},aS.nbind=function(a,c){var b=ao(arguments,2);return function(){function e(){return a.apply(c,arguments);}var f=b.concat(ao(arguments)),d=a9();return f.push(d.makeNodeResolver()),aS(e).fapply(f).fail(d.reject),d.promise;};},a1.prototype.nbind=function(){var a=ao(arguments,0);return a.unshift(this),aS.nbind.apply(void 0,a);},aS.nmapply=aS.npost=function(a,c,b){return aS(a).npost(c,b);},a1.prototype.nmapply=a1.prototype.npost=function(a,d){var c=ao(d||[]),b=a9();return c.push(b.makeNodeResolver()),this.dispatch("post",[a,c]).fail(b.reject),b.promise;},aS.nsend=aS.nmcall=aS.ninvoke=function(a,d){var c=ao(arguments,2),b=a9();return c.push(b.makeNodeResolver()),aS(a).dispatch("post",[d,c]).fail(b.reject),b.promise;},a1.prototype.nsend=a1.prototype.nmcall=a1.prototype.ninvoke=function(a){var c=ao(arguments,1),b=a9();return c.push(b.makeNodeResolver()),this.dispatch("post",[a,c]).fail(b.reject),b.promise;},aS.nodeify=aF,a1.prototype.nodeify=function(a){return a?void this.then(function(b){aS.nextTick(function(){a(null,b);});},function(b){aS.nextTick(function(){a(b);});}):this;},aS.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global");};var aD=aP();return aS;});(function(){var a=false,b=/xyz/.test(function(){xyz;})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(g){var f=this.prototype;a=true;var e=new this();a=false;for(var d in g){e[d]=typeof g[d]=="function"&&typeof f[d]=="function"&&b.test(g[d])?(function(h,i){return function(){var k=this._super;this._super=f[h];var j=i.apply(this,arguments);this._super=k;return j;};})(d,g[d]):g[d];}function c(){if(!a&&this.init){this.init.apply(this,arguments);}}c.prototype=e;c.prototype.constructor=c;c.extend=arguments.callee;return c;};})();var ErrorFactory;(function(a){ErrorFactory=function(b,d){var c=new Error(d);c.name=b;return c;};})(jQuery);var CounterQueryValidator;var CounterQuery;(function(a){CounterQueryValidator=Class.extend({promise:null,init:function(d){var c=Q.defer();var b={};this.options=_.extend(b,d);c.resolve(true);this.promise=c.promise;},validate:function(b){return this.promise.then(function(){return b;});}});CounterQuery=Class.extend({init:function(b){},isDOIValid:function(b){return !_.isEmpty(b)&&(_.isString(b)||_.isArray(b));},formatDOI:function(b){b=encodeURI(b);return b.replace(new RegExp("/","g"),"%2F").replace(new RegExp(":","g"),"%3A");},validateDOI:function(b){var c=this;if(this.isDOIValid(b)){if(_.isString(b)){return this.formatDOI(b);}else{if(_.isArray(b)){return _.map(b,function(d){return c.formatDOI(d);});}}}else{throw new ErrorFactory("InvalidDOIError","[CounterQuery::validateDOI] - Invalid DOI");}},dataValidator:new CounterQueryValidator(),setDataValidator:function(b){if(b instanceof CounterQueryValidator){this.dataValidator=b;}return this;},getRequestUrl:function(b){return COUNTER_HOST+"/"+b;},processRequest:function(c){var e=this;var b=Q.defer();if(COUNTER_HOST==null){var d=new Error("[CounterQuery::processRequest] - COUNTER API is not configured");d.name="COUNTERNotConfiguredError";b.reject(new ErrorFactory("COUNTERNotConfiguredError","[CounterQuery::processRequest] - COUNTER API is not configured"));}else{a.ajax({url:c,jsonp:"callback",dataType:"json",timeout:60000,success:function(f){e.dataValidator.validate(f).then(function(g){b.resolve(g);}).fail(function(g){b.reject(g);});},error:function(g,h){var f=new Error("[CounterQuery::processRequest] - Request failed to API");f.name="APIRequestError";b.reject(new ErrorFactory("APIRequestError","[CounterQuery::processRequest] - Request failed to API"));}});}return b.promise;},getArticleSummary:function(b){var c=this.getRequestUrl(b);return this.processRequest(c);}});})(jQuery);var AlmQueryValidator;var AlmQuery;(function(a){AlmQueryValidator=Class.extend({promise:null,init:function(d){var c=Q.defer();var b={checkSources:true,excludeInvalidSources:true,checkIsUndefined:true,excludeUndefinedItems:true,checkHasData:true};this.options=_.extend(b,d);c.resolve(true);this.promise=c.promise;},validate:function(c){var b=this;return this.promise.then(function(){if(b.options.checkHasData){if(_.has(c,"data")&&c.data.length){return c.data;}else{throw new ErrorFactory("AlmQueryValidatorError",'[AlmQueryValidator::validate] - Data has no "data" key');}}return c;}).then(function(f){if(b.options.checkIsUndefined){var d=new ErrorFactory("AlmQueryValidatorError","[AlmQueryValidator::validate] - Data is undefined");if(_.isArray(f)&&f.length){if(b.options.excludeUndefinedItems){var e=[];_.each(f,function(g){if(!_.isUndefined(g)){e.push(g);}});if(!e.length){throw d;}f=e;}else{_.each(f,function(g){if(_.isUndefined(g)){throw d;}});}}else{if(_.isUndefined(f)){throw d;}}}return f;}).then(function(e){if(b.options.checkSources){var f=new ErrorFactory("AlmQueryValidatorError","[AlmQueryValidator::validate] - Data source is invalid");if(_.isArray(e)&&e.length){if(b.options.excludeInvalidSources){var d=[];_.each(e,function(g){if(b.validateSource(g)){d.push(g);}});if(!d.length){throw f;}e=d;}else{_.each(e,function(g){if(!b.validateSource(g)){throw f;}});}}else{if(b.validateSource(e)){throw f;}}}return e;});},validateSource:function(b){return _.has(b,"sources")&&!_.isUndefined(b.sources);}});AlmQuery=Class.extend({init:function(b){this.config=_.extend(ALM_CONFIG,b);this.hasSessionStorage=Modernizr.sessionstorage;},isDOIValid:function(b){return !_.isEmpty(b)&&(_.isString(b)||_.isArray(b));},formatDOI:function(b){b=encodeURI(b);return b.replace(new RegExp("/","g"),"%2F").replace(new RegExp(":","g"),"%3A");},validateDOI:function(b){var c=this;if(this.isDOIValid(b)){if(_.isString(b)){return this.formatDOI(b);}else{if(_.isArray(b)){return _.map(b,function(d){return c.formatDOI(d);});}}}else{throw new ErrorFactory("InvalidDOIError","[AlmQuery::validateDOI] - Invalid DOI");}},isArticleNew:function(){var b=moment(ArticleData.date,"MMM DD, YYYY").valueOf();var c=moment().subtract(2,"days").valueOf();return(c<b);},dataValidator:new AlmQueryValidator(),setDataValidator:function(b){if(b instanceof AlmQueryValidator){this.dataValidator=b;}return this;},getRequestBaseUrl:function(){return this.config.host+"?api_key="+this.config.apiKey;},getRequestUrl:function(b){if(_.has(b,"ids")){b.ids=this.validateDOI(b.ids);}b=_.reduce(b,function(c,e,d){if(_.isArray(e)){e=_.reduce(e,function(f,g){return f+g+",";},"");e=e.slice(0,-1);}return c+"&"+d+"="+e;},"");return this.getRequestBaseUrl()+b;},processRequest:function(c){var e=this;var b=Q.defer();if(this.config.host==null){var d=new Error("[AlmQuery::processRequest] - ALM API is not configured");d.name="ALMNotConfiguredError";b.reject(new ErrorFactory("ALMNotConfiguredError","[AlmQuery::processRequest] - ALM API is not configured"));}else{a.ajax({url:c,jsonp:"callback",dataType:"jsonp",timeout:60000,success:function(f){e.dataValidator.validate(f).then(function(g){b.resolve(g);}).fail(function(g){if(e.isArticleNew()){b.reject(new ErrorFactory("NewArticleError","[AlmQuery::processRequest] - The article is too new to have data."));}else{b.reject(g);}});},error:function(g,h){var f=new Error("[AlmQuery::processRequest] - Request failed to API");f.name="APIRequestError";b.reject(new ErrorFactory("APIRequestError","[AlmQuery::processRequest] - Request failed to API"));}});}return b.promise;},getArticleSummary:function(b){var c=this.getRequestUrl({ids:b});return this.processRequest(c);},getArticleDetail:function(b){var c=this.getRequestUrl({ids:b,info:"detail"});return this.processRequest(c);},getMediaReferences:function(b){var c=this.getRequestUrl({ids:b,source_id:"articlecoveragecurated",info:"detail"});return this.processRequest(c);},getArticleTweets:function(b){var c=this.getRequestUrl({ids:b,source_id:"twitter",info:"detail"});return this.processRequest(c);}});})(jQuery);var Signposts;(function(c){Signposts=Class.extend({$element:c("#almSignposts"),init:function(){var f=this;var e=new CounterQuery();var d=new CounterQueryValidator();var g;e.setDataValidator(d).getArticleSummary(ArticleData.doi).then(function(h){g=h.totals;a(g,f);}).fail(function(h){b(h,f);});}});function a(g,f){var e=new AlmQuery();var d=new AlmQueryValidator({checkSources:false});e.setDataValidator(d).getArticleDetail(ArticleData.doi).then(function(n){var l=n[0];l.sources;var i="Scopus";var p=0;var o;if(!_.isUndefined(l.sources)){var k=_.findWhere(l.sources,{name:"scopus"});var h=_.findWhere(l.sources,{name:"crossref"});if(k.metrics.total>=h.metrics.total){i="Scopus";p=k.metrics.total;}else{i="Crossref";p=h.metrics.total;}o=_.findWhere(l.sources,{name:"mendeley"}).metrics.total;}var q=_.template(c("#signpostsTemplate").html());var j={saveCount:o,citationCount:p,shareCount:l.discussed,viewCount:getPmcViewsAndDownloads(n)+g};f.$element.html(q(j));if(i=="Crossref"){var m=c("#almCitations").find(".citations-tip a").html();m=m.replace("Scopus",i);c("#almCitations").find(".citations-tip a").html(m);}tooltip_hover.init();}).fail(function(h){b(h,f);});}function b(d,f){var e;switch(d.name){case"NewArticleError":e=_.template(c("#signpostsNewArticleErrorTemplate").html());break;default:e=_.template(c("#signpostsGeneralErrorTemplate").html());break;}f.$element.html(e());}new Signposts();})(jQuery);function getPmcViewsAndDownloads(e){var b;var a=e[0].sources;for(var d in a){if(a.hasOwnProperty(d)){var c=a[d];if(c.name==="pmc"&&c.group_name==="viewed"){b=c.metrics.html+c.metrics.pdf;}}}return b;}(function(b){var a;tooltip_component={settings:{tooltip_trigger:"[data-js-tooltip=tooltip_trigger]",tooltip_target:"[data-js-tooltip=tooltip_target]",tooltip_close:"[data-js-tooltip=tooltip_close]",tooltip_container:"[data-js-tooltip=tooltip_container]",tooltip_class:"active",tooltip_container_class:"tooltip-container-active"},init:function(){this.tooltip();},tooltip:function(){a=this.settings;b(a.tooltip_trigger).on("click",function(h){var i=b(this),g=i.parents(a.tooltip_container).innerWidth(),f=g*0.75,e=i.position(),d=b(h.target),c=i.children("div");b(a.tooltip_trigger).not(this).removeClass(a.tooltip_class).children("div").fadeOut("fast");if(!d.parents(a.tooltip_target).length||d.is(a.tooltip_close)){i.toggleClass(a.tooltip_class);if(Modernizr.borderradius){c.fadeToggle("fast");}}if(e.left>=f){i.find(a.tooltip_target).addClass("pos-right");}b(document).on("click.closeOutside",function(j){if(!b(j.target).closest(a.tooltip_trigger).length){i.removeClass(a.tooltip_class);c.fadeOut("fast");b(document).off("click.closeOutside");}});});}};})(jQuery);(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a);}else{if(typeof module==="object"&&module.exports){module.exports=a(require("jquery"));}else{a(jQuery);}}}(function(a){a.fn.scrollTo=function(d){var c=this.attr("id");var b=a.extend({callback:function(){},scrollSpeed:500,changeUrl:false,stopDefault:true},arguments[0]||{});if(b.stopDefault){d.preventDefault(d);}a("html,body").stop().animate({scrollTop:this.offset().top},b.scrollSpeed,function(){if(b.changeUrl){window.location.hash=c;}});b.callback.call(this);return this;};}));(function(a){a.fn.buildNav=function(b){var c={content:"",margin:70};var b=a.extend(c,b);return this.each(function(){var e=a(this),f=a('<ul class="nav-page" />'),d=(b.content).find("a[data-toc]");if(d.length>0){d.each(function(){var g=a(this),j=g.attr("title"),h=g.attr("data-toc"),i=g.attr("id");a('<li><a href="#'+h+'" class="scroll">'+j+"</a></li>").addClass(i).appendTo(f);});f.find("li").eq(0).addClass("active");f.prependTo(e);e.on("click","a.scroll",function(h){var g=a(this);if(window.history.pushState){window.history.pushState({},document.title,h.target.href);}else{}h.preventDefault();a("html,body").animate({scrollTop:a('[name="'+this.hash.substring(1)+'"]').offset().top-b.margin},500,function(){});});}});};})(jQuery);(function(b){var c=b(window);var a=window.location.hash;b.fn.floatingNav=function(e){var h={margin:90,margin_bottom:35,page_width:960,scroll_speed:500,content:"",ul_class:"nav-page",section_anchor:"a[data-toc]",section_anchor_attr:"data-toc",class_active:"active",footer:"#pageftr",alternate_bottom_div:"#banner-ftr",link_selector:"a.scroll",ignored_sections:""};var j=b(this);var d=c.scrollTop();var g=b.extend(h,e);function i(k,m,l){if(l){l.preventDefault();l.stopPropagation();}j.addClass("scrolling");b("html,body").stop().animate({scrollTop:m.topPosition},500,function(){j.removeClass("scrolling");window.location.hash="#"+m.id;f(k);});}function f(k){if(!j.hasClass("scrolling")){var n=_.filter(k,function(o){return o.topPosition<=d&&o.bottomPosition>=d;})[0];if(n){var m=n.$link.closest("li");if(m.parents("li").hasClass("active")){j.addClass("no-hidding");}else{j.removeClass("no-hidding");}var l=j.find("li."+g.class_active);l.removeClass(g.class_active);m.addClass(g.class_active).parents("li").addClass(g.class_active);}else{var l=j.find("li."+g.class_active);l.removeClass(g.class_active);}}}return this.each(function(){var m=[];var l=function(){m=[];var o=j.find(g.link_selector);o.each(function(w){var v={};var z=g.content.find(b(this).attr("href"));var x=z.offset().top;var t=g.content.find(o.eq(w+1).attr("href"));var s=0;if(t.offset()){s=t.offset().top-1;}else{s=g.content.height()+g.content.offset().top;var u=s-x;var p=b(window).height();var A=g.content.find(".final-section-spacing").height();if(u+A+b("body > footer").innerHeight()<p){if(!g.content.find(".final-section-spacing").length){g.content.append('<div class="final-section-spacing"></div>');}var y=p-u-b("body > footer").innerHeight();g.content.find(".final-section-spacing").css("height",y+"px");}}var r=b("#floatTitleTop");if(r.length){var q=r.height()+20;if(a!="#"+z.attr(g.section_anchor_attr)){x=x-q;}var t=o.eq(w+1);if(a!=t.attr("href")){s=s-q;}}v.id=z.attr(g.section_anchor_attr);v.$element=z;v.$link=b(this);v.topPosition=x;v.bottomPosition=s;m.push(v);});};var k=function(){l();f(m);};b("body").on("click","ul."+g.ul_class+" a",function(q){l();var o=b(this).attr("href").substring(1);var p=_.findWhere(m,{id:o});i(m,p,q);});var n=function(){d=c.scrollTop();var r=b(g.footer).offset().top;var q=j.innerHeight();var t=g.content.offset().top;var u=(d>(t-g.margin));var s=(d<(r-(q+g.margin)));var o=(c.width()>=g.page_width);if(o){if(u&&s){j.css({position:"fixed",top:g.margin+"px"});k();}else{if(d>(r-(q+g.margin))){var p=r-d-q;k();j.css({position:"fixed",top:p+"px"});}else{j.css({position:"static"});}}}else{j.css({position:"static"});k();}};if(b("html.no-touch").length===1){n();c.scroll(n);c.resize(n);}else{k();c.scroll(k);}});};})(jQuery);(function(a){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a);}else{a(jQuery);}}(function(f){var p="left",o="right",e="up",x="down",c="in",z="out",m="none",s="auto",l="swipe",t="pinch",A="tap",j="doubletap",b="longtap",y="hold",D="horizontal",u="vertical",i="all",r=10,g="start",k="move",h="end",q="cancel",a="ontouchstart" in window,v=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,d=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,B="TouchSwipe";var n={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};f.fn.swipe=function(G){var F=f(this),E=F.data(B);if(E&&typeof G==="string"){if(E[G]){return E[G].apply(this,Array.prototype.slice.call(arguments,1));}else{f.error("Method "+G+" does not exist on jQuery.swipe");}}else{if(!E&&(typeof G==="object"||!G)){return w.apply(this,arguments);}}return F;};f.fn.swipe.defaults=n;f.fn.swipe.phases={PHASE_START:g,PHASE_MOVE:k,PHASE_END:h,PHASE_CANCEL:q};f.fn.swipe.directions={LEFT:p,RIGHT:o,UP:e,DOWN:x,IN:c,OUT:z};f.fn.swipe.pageScroll={NONE:m,HORIZONTAL:D,VERTICAL:u,AUTO:s};f.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:i};function w(E){if(E&&(E.allowPageScroll===undefined&&(E.swipe!==undefined||E.swipeStatus!==undefined))){E.allowPageScroll=m;}if(E.click!==undefined&&E.tap===undefined){E.tap=E.click;}if(!E){E={};}E=f.extend({},f.fn.swipe.defaults,E);return this.each(function(){var G=f(this);var F=G.data(B);if(!F){F=new C(this,E);G.data(B,F);}});}function C(a5,aw){var aA=(a||d||!aw.fallbackToMouseEvents),J=aA?(d?(v?"MSPointerDown":"pointerdown"):"touchstart"):"mousedown",az=aA?(d?(v?"MSPointerMove":"pointermove"):"touchmove"):"mousemove",V=aA?(d?(v?"MSPointerUp":"pointerup"):"touchend"):"mouseup",T=aA?null:"mouseleave",aE=(d?(v?"MSPointerCancel":"pointercancel"):"touchcancel");var ah=0,aQ=null,ac=0,a2=0,a0=0,G=1,ar=0,aK=0,M=null;var aS=f(a5);var aa="start";var X=0;var aR=null;var U=0,a3=0,a6=0,ae=0,N=0;var aX=null,ag=null;try{aS.bind(J,aO);aS.bind(aE,ba);}catch(al){f.error("events not supported "+J+","+aE+" on jQuery.swipe");}this.enable=function(){aS.bind(J,aO);aS.bind(aE,ba);return aS;};this.disable=function(){aL();return aS;};this.destroy=function(){aL();aS.data(B,null);return aS;};this.option=function(bd,bc){if(aw[bd]!==undefined){if(bc===undefined){return aw[bd];}else{aw[bd]=bc;}}else{f.error("Option "+bd+" does not exist on jQuery.swipe.options");}return null;};function aO(be){if(aC()){return;}if(f(be.target).closest(aw.excludedElements,aS).length>0){return;}var bf=be.originalEvent?be.originalEvent:be;var bd,bc=a?bf.touches[0]:bf;aa=g;if(a){X=bf.touches.length;}else{be.preventDefault();}ah=0;aQ=null;aK=null;ac=0;a2=0;a0=0;G=1;ar=0;aR=ak();M=ab();S();if(!a||(X===aw.fingers||aw.fingers===i)||aY()){aj(0,bc);U=au();if(X==2){aj(1,bf.touches[1]);a2=a0=av(aR[0].start,aR[1].start);}if(aw.swipeStatus||aw.pinchStatus){bd=O(bf,aa);}}else{bd=false;}if(bd===false){aa=q;O(bf,aa);return bd;}else{if(aw.hold){ag=setTimeout(f.proxy(function(){aS.trigger("hold",[bf.target]);if(aw.hold){bd=aw.hold.call(aS,bf,bf.target);}},this),aw.longTapThreshold);}ap(true);}return null;}function a4(bf){var bi=bf.originalEvent?bf.originalEvent:bf;if(aa===h||aa===q||an()){return;}var be,bd=a?bi.touches[0]:bi;var bg=aI(bd);a3=au();if(a){X=bi.touches.length;}if(aw.hold){clearTimeout(ag);}aa=k;if(X==2){if(a2==0){aj(1,bi.touches[1]);a2=a0=av(aR[0].start,aR[1].start);}else{aI(bi.touches[1]);a0=av(aR[0].end,aR[1].end);aK=at(aR[0].end,aR[1].end);}G=a8(a2,a0);ar=Math.abs(a2-a0);}if((X===aw.fingers||aw.fingers===i)||!a||aY()){aQ=aM(bg.start,bg.end);am(bf,aQ);ah=aT(bg.start,bg.end);ac=aN();aJ(aQ,ah);if(aw.swipeStatus||aw.pinchStatus){be=O(bi,aa);}if(!aw.triggerOnTouchEnd||aw.triggerOnTouchLeave){var bc=true;if(aw.triggerOnTouchLeave){var bh=aZ(this);bc=E(bg.end,bh);}if(!aw.triggerOnTouchEnd&&bc){aa=aD(k);}else{if(aw.triggerOnTouchLeave&&!bc){aa=aD(h);}}if(aa==q||aa==h){O(bi,aa);}}}else{aa=q;O(bi,aa);}if(be===false){aa=q;O(bi,aa);}}function L(bc){var bd=bc.originalEvent;if(a){if(bd.touches.length>0){F();return true;}}if(an()){X=ae;}a3=au();ac=aN();if(bb()||!ao()){aa=q;O(bd,aa);}else{if(aw.triggerOnTouchEnd||(aw.triggerOnTouchEnd==false&&aa===k)){bc.preventDefault();aa=h;O(bd,aa);}else{if(!aw.triggerOnTouchEnd&&a7()){aa=h;aG(bd,aa,A);}else{if(aa===k){aa=q;O(bd,aa);}}}}ap(false);return null;}function ba(){X=0;a3=0;U=0;a2=0;a0=0;G=1;S();ap(false);}function K(bc){var bd=bc.originalEvent;if(aw.triggerOnTouchLeave){aa=aD(h);O(bd,aa);}}function aL(){aS.unbind(J,aO);aS.unbind(aE,ba);aS.unbind(az,a4);aS.unbind(V,L);if(T){aS.unbind(T,K);}ap(false);}function aD(bg){var bf=bg;var be=aB();var bd=ao();var bc=bb();if(!be||bc){bf=q;}else{if(bd&&bg==k&&(!aw.triggerOnTouchEnd||aw.triggerOnTouchLeave)){bf=h;}else{if(!bd&&bg==h&&aw.triggerOnTouchLeave){bf=q;}}}return bf;}function O(be,bc){var bd=undefined;if(I()||W()){bd=aG(be,bc,l);}else{if((P()||aY())&&bd!==false){bd=aG(be,bc,t);}}if(aH()&&bd!==false){bd=aG(be,bc,j);}else{if(aq()&&bd!==false){bd=aG(be,bc,b);}else{if(ai()&&bd!==false){bd=aG(be,bc,A);}}}if(bc===q){ba(be);}if(bc===h){if(a){if(be.touches.length==0){ba(be);}}else{ba(be);}}return bd;}function aG(bf,bc,be){var bd=undefined;if(be==l){aS.trigger("swipeStatus",[bc,aQ||null,ah||0,ac||0,X,aR]);if(aw.swipeStatus){bd=aw.swipeStatus.call(aS,bf,bc,aQ||null,ah||0,ac||0,X,aR);if(bd===false){return false;}}if(bc==h&&aW()){aS.trigger("swipe",[aQ,ah,ac,X,aR]);if(aw.swipe){bd=aw.swipe.call(aS,bf,aQ,ah,ac,X,aR);if(bd===false){return false;}}switch(aQ){case p:aS.trigger("swipeLeft",[aQ,ah,ac,X,aR]);if(aw.swipeLeft){bd=aw.swipeLeft.call(aS,bf,aQ,ah,ac,X,aR);}break;case o:aS.trigger("swipeRight",[aQ,ah,ac,X,aR]);if(aw.swipeRight){bd=aw.swipeRight.call(aS,bf,aQ,ah,ac,X,aR);}break;case e:aS.trigger("swipeUp",[aQ,ah,ac,X,aR]);if(aw.swipeUp){bd=aw.swipeUp.call(aS,bf,aQ,ah,ac,X,aR);}break;case x:aS.trigger("swipeDown",[aQ,ah,ac,X,aR]);if(aw.swipeDown){bd=aw.swipeDown.call(aS,bf,aQ,ah,ac,X,aR);}break;}}}if(be==t){aS.trigger("pinchStatus",[bc,aK||null,ar||0,ac||0,X,G,aR]);if(aw.pinchStatus){bd=aw.pinchStatus.call(aS,bf,bc,aK||null,ar||0,ac||0,X,G,aR);if(bd===false){return false;}}if(bc==h&&a9()){switch(aK){case c:aS.trigger("pinchIn",[aK||null,ar||0,ac||0,X,G,aR]);if(aw.pinchIn){bd=aw.pinchIn.call(aS,bf,aK||null,ar||0,ac||0,X,G,aR);}break;case z:aS.trigger("pinchOut",[aK||null,ar||0,ac||0,X,G,aR]);if(aw.pinchOut){bd=aw.pinchOut.call(aS,bf,aK||null,ar||0,ac||0,X,G,aR);}break;}}}if(be==A){if(bc===q||bc===h){clearTimeout(aX);clearTimeout(ag);if(Z()&&!H()){N=au();aX=setTimeout(f.proxy(function(){N=null;aS.trigger("tap",[bf.target]);if(aw.tap){bd=aw.tap.call(aS,bf,bf.target);}},this),aw.doubleTapThreshold);}else{N=null;aS.trigger("tap",[bf.target]);if(aw.tap){bd=aw.tap.call(aS,bf,bf.target);}}}}else{if(be==j){if(bc===q||bc===h){clearTimeout(aX);N=null;aS.trigger("doubletap",[bf.target]);if(aw.doubleTap){bd=aw.doubleTap.call(aS,bf,bf.target);}}}else{if(be==b){if(bc===q||bc===h){clearTimeout(aX);N=null;aS.trigger("longtap",[bf.target]);if(aw.longTap){bd=aw.longTap.call(aS,bf,bf.target);}}}}}return bd;}function ao(){var bc=true;if(aw.threshold!==null){bc=ah>=aw.threshold;}return bc;}function bb(){var bc=false;if(aw.cancelThreshold!==null&&aQ!==null){bc=(aU(aQ)-ah)>=aw.cancelThreshold;}return bc;}function af(){if(aw.pinchThreshold!==null){return ar>=aw.pinchThreshold;}return true;}function aB(){var bc;if(aw.maxTimeThreshold){if(ac>=aw.maxTimeThreshold){bc=false;}else{bc=true;}}else{bc=true;}return bc;}function am(bc,bd){if(aw.allowPageScroll===m||aY()){bc.preventDefault();}else{var be=aw.allowPageScroll===s;switch(bd){case p:if((aw.swipeLeft&&be)||(!be&&aw.allowPageScroll!=D)){bc.preventDefault();}break;case o:if((aw.swipeRight&&be)||(!be&&aw.allowPageScroll!=D)){bc.preventDefault();}break;case e:if((aw.swipeUp&&be)||(!be&&aw.allowPageScroll!=u)){bc.preventDefault();}break;case x:if((aw.swipeDown&&be)||(!be&&aw.allowPageScroll!=u)){bc.preventDefault();}break;}}}function a9(){var bd=aP();var bc=Y();var be=af();return bd&&bc&&be;}function aY(){return !!(aw.pinchStatus||aw.pinchIn||aw.pinchOut);}function P(){return !!(a9()&&aY());}function aW(){var bf=aB();var bh=ao();var be=aP();var bc=Y();var bd=bb();var bg=!bd&&bc&&be&&bh&&bf;return bg;}function W(){return !!(aw.swipe||aw.swipeStatus||aw.swipeLeft||aw.swipeRight||aw.swipeUp||aw.swipeDown);}function I(){return !!(aW()&&W());}function aP(){return((X===aw.fingers||aw.fingers===i)||!a);}function Y(){return aR[0].end.x!==0;}function a7(){return !!(aw.tap);}function Z(){return !!(aw.doubleTap);}function aV(){return !!(aw.longTap);}function R(){if(N==null){return false;}var bc=au();return(Z()&&((bc-N)<=aw.doubleTapThreshold));}function H(){return R();}function ay(){return((X===1||!a)&&(isNaN(ah)||ah<aw.threshold));}function a1(){return((ac>aw.longTapThreshold)&&(ah<r));}function ai(){return !!(ay()&&a7());}function aH(){return !!(R()&&Z());}function aq(){return !!(a1()&&aV());}function F(){a6=au();ae=event.touches.length+1;}function S(){a6=0;ae=0;}function an(){var bc=false;if(a6){var bd=au()-a6;if(bd<=aw.fingerReleaseThreshold){bc=true;}}return bc;}function aC(){return !!(aS.data(B+"_intouch")===true);}function ap(bc){if(bc===true){aS.bind(az,a4);aS.bind(V,L);if(T){aS.bind(T,K);}}else{aS.unbind(az,a4,false);aS.unbind(V,L,false);if(T){aS.unbind(T,K,false);}}aS.data(B+"_intouch",bc===true);}function aj(bd,bc){var be=bc.identifier!==undefined?bc.identifier:0;aR[bd].identifier=be;aR[bd].start.x=aR[bd].end.x=bc.pageX||bc.clientX;aR[bd].start.y=aR[bd].end.y=bc.pageY||bc.clientY;return aR[bd];}function aI(bc){var be=bc.identifier!==undefined?bc.identifier:0;var bd=ad(be);bd.end.x=bc.pageX||bc.clientX;bd.end.y=bc.pageY||bc.clientY;return bd;}function ad(bd){for(var bc=0;bc<aR.length;bc++){if(aR[bc].identifier==bd){return aR[bc];}}}function ak(){var bc=[];for(var bd=0;bd<=5;bd++){bc.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});}return bc;}function aJ(bc,bd){bd=Math.max(bd,aU(bc));M[bc].distance=bd;}function aU(bc){if(M[bc]){return M[bc].distance;}return undefined;}function ab(){var bc={};bc[p]=ax(p);bc[o]=ax(o);bc[e]=ax(e);bc[x]=ax(x);return bc;}function ax(bc){return{direction:bc,distance:0};}function aN(){return a3-U;}function av(bf,be){var bd=Math.abs(bf.x-be.x);var bc=Math.abs(bf.y-be.y);return Math.round(Math.sqrt(bd*bd+bc*bc));}function a8(bc,bd){var be=(bd/bc)*1;return be.toFixed(2);}function at(){if(G<1){return z;}else{return c;}}function aT(bd,bc){return Math.round(Math.sqrt(Math.pow(bc.x-bd.x,2)+Math.pow(bc.y-bd.y,2)));}function aF(bf,bd){var bc=bf.x-bd.x;var bh=bd.y-bf.y;var be=Math.atan2(bh,bc);var bg=Math.round(be*180/Math.PI);if(bg<0){bg=360-Math.abs(bg);}return bg;}function aM(bd,bc){var be=aF(bd,bc);if((be<=45)&&(be>=0)){return p;}else{if((be<=360)&&(be>=315)){return p;}else{if((be>=135)&&(be<=225)){return o;}else{if((be>45)&&(be<135)){return x;}else{return e;}}}}}function au(){var bc=new Date();return bc.getTime();}function aZ(bc){bc=f(bc);var be=bc.offset();var bd={left:be.left,right:be.left+bc.outerWidth(),top:be.top,bottom:be.top+bc.outerHeight()};return bd;}function E(bc,bd){return(bc.x>bd.left&&bc.x<bd.right&&bc.y>bd.top&&bc.y<bd.bottom);}}}));(function(b){function a(d){d.find(".carousel-item").each(function(f,i){var h=b(i);var g=h.attr("data-doi");g=g.replace(/^info:doi\//,"");var e=b('.figure[data-doi="'+g+'"]');h.find("a").attr("href","#"+e.attr("id"));});}function c(d){var e=b(".articleinfo");if(e.length){d.detach();d.insertBefore(e);}d.show();}b.fn.buildFigureCarousel=function(e){var l={speed:500,access:false,autoplay:false,delay:10000,defaultpaddingbottom:10};e=b.extend(l,e);var h=b(this);a(h);c(h);var q=h.find(".carousel-wrapper"),t=q.find(".slider");function d(){return t.find(".carousel-item");}var f=d(),g=f.eq(0).outerWidth(),s=Math.ceil(q.innerWidth()/g),o=Math.ceil(f.length/s);var n=(s-(f.length%s))%s;for(var r=0;r<n;r++){t.append(b('<div class="empty carousel-item"/>'));}f=d();f.filter(":first").before(f.slice(-s).clone().addClass("clone"));f.filter(":last").after(f.slice(0,s).clone().addClass("clone"));f=d();q.scrollLeft(g*s);var p=0;function k(x){var i=x-p;if(i==0){return;}var w=g*s*i;q.filter(":not(:animated)").animate({scrollLeft:"+="+w},e.speed,function(){if(x<0){q.scrollLeft(g*s*o);p=o-1;}else{if(x>=o){q.scrollLeft(g*s);p=0;}else{p=x;}}var y=h.find(".carousel-page-buttons .index");y.removeClass("active");y.eq(p).addClass("active");});}var u=h.find(".carousel-control");if(o>1){u.find(".button.previous").click(function(){k(p-1);});u.find(".button.next").click(function(){k(p+1);});}else{u.hide();}if(b("html.touch").length){q.swipe({swipe:function(i,w){u.addClass("controls-show");},swipeLeft:function(i,w){k(p-1);},swipeRight:function(i,w){k(p+1);},tap:function(i,w){u.addClass("controls-show");},threshold:20});}else{}if(o>1){function v(i){var w=b('<span class="index">&nbsp;</span>');w.click(function(){k(i);});return w;}var m=h.find(".carousel-page-buttons");for(var r=0;r<o;r++){var j=v(r);if(r==0){j.addClass("active");}m.append(j);}}};})(jQuery);(function(j,d){if(j.fn.dotdotdot){return;}j.fn.dotdotdot=function(x){if(this.length==0){j.fn.dotdotdot.debug('No element found for "'+this.selector+'".');return this;}if(this.length>1){return this.each(function(){j(this).dotdotdot(x);});}var t=this;if(t.data("dotdotdot")){t.trigger("destroy.dot");}t.data("dotdotdot-style",t.attr("style")||"");t.css("word-wrap","break-word");if(t.css("white-space")==="nowrap"){t.css("white-space","normal");}t.bind_events=function(){t.bind("update.dot",function(A,C){A.preventDefault();A.stopPropagation();v.maxHeight=(typeof v.height=="number")?v.height:q(t);v.maxHeight+=v.tolerance;if(typeof C!="undefined"){if(typeof C=="string"||C instanceof HTMLElement){C=j("<div />").append(C).contents();}if(C instanceof j){y=C;}}u=t.wrapInner('<div class="dotdotdot" />').children();u.contents().detach().end().append(y.clone(true)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var B=false,z=false;if(s.afterElement){B=s.afterElement.clone(true);B.show();s.afterElement.detach();}if(m(u,v)){if(v.wrap=="children"){z=c(u,v,B);}else{z=o(u,t,u,v,B);}}u.replaceWith(u.contents());u=null;if(j.isFunction(v.callback)){v.callback.call(t[0],z,y);}s.isTruncated=z;return z;}).bind("isTruncated.dot",function(A,z){A.preventDefault();A.stopPropagation();if(typeof z=="function"){z.call(t[0],s.isTruncated);}return s.isTruncated;}).bind("originalContent.dot",function(A,z){A.preventDefault();A.stopPropagation();if(typeof z=="function"){z.call(t[0],y);}return y;}).bind("destroy.dot",function(z){z.preventDefault();z.stopPropagation();t.unwatch().unbind_events().contents().detach().end().append(y).attr("style",t.data("dotdotdot-style")||"").data("dotdotdot",false);});return t;};t.unbind_events=function(){t.unbind(".dot");return t;};t.watch=function(){t.unwatch();if(v.watch=="window"){var B=j(window),A=B.width(),z=B.height();B.bind("resize.dot"+s.dotId,function(){if(A!=B.width()||z!=B.height()||!v.windowResizeFix){A=B.width();z=B.height();if(r){clearInterval(r);}r=setTimeout(function(){t.trigger("update.dot");},100);}});}else{w=l(t);r=setInterval(function(){if(t.is(":visible")){var C=l(t);if(w.width!=C.width||w.height!=C.height){t.trigger("update.dot");w=C;}}},500);}return t;};t.unwatch=function(){j(window).unbind("resize.dot"+s.dotId);if(r){clearInterval(r);}return t;};var y=t.contents(),v=j.extend(true,{},j.fn.dotdotdot.defaults,x),s={},w={},r=null,u=null;if(!(v.lastCharacter.remove instanceof Array)){v.lastCharacter.remove=j.fn.dotdotdot.defaultArrays.lastCharacter.remove;}if(!(v.lastCharacter.noEllipsis instanceof Array)){v.lastCharacter.noEllipsis=j.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis;}s.afterElement=b(v.after,t);s.isTruncated=false;s.dotId=n++;t.data("dotdotdot",true).bind_events().trigger("update.dot");if(v.watch){t.watch();}return t;};j.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:true,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:false,windowResizeFix:true};j.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","\u3000",",",";",".","!","?"],noEllipsis:[]}};j.fn.dotdotdot.debug=function(r){};var n=1;function c(u,y,x){var w=u.children(),r=false;u.empty();for(var t=0,s=w.length;t<s;t++){var v=w.eq(t);u.append(v);if(x){u.append(x);}if(m(u,y)){v.remove();r=true;break;}else{if(x){x.detach();}}}return r;}function o(t,s,z,u,r){var w=false;var y="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style";var x="script, .dotdotdot-keep";var v=function(A){if(r){A[A.is(y)?"after":"append"](r);}};t.contents().detach().each(function(){var B=this,A=j(B);if(typeof B=="undefined"||(B.nodeType==3&&j.trim(B.data).length==0)){return true;}else{if(A.is(x)){t.append(A);}else{if(w){return true;}else{t.append(A);v(t);if(m(z,u)){if(B.nodeType==3){w=e(A,s,z,u,r);}else{w=o(A,s,z,u,r);}if(!w){v(j(t.contents().last()));w=true;}}if(!w){if(r){r.detach();}}}}}});return w;}function e(t,v,G,w,s){var D=t[0];if(!D){return false;}var z=i(D),r=(z.indexOf(" ")!==-1)?" ":"\u3000",B=(w.wrap=="letter")?"":r,E=z.split(B),A=-1,H=-1,C=0,u=E.length-1;if(w.fallbackToLetter&&C==0&&u==0){B="";E=z.split(B);u=E.length-1;}while(C<=u&&!(C==0&&u==0)){var x=Math.floor((C+u)/2);if(x==H){break;}H=x;a(D,E.slice(0,H+1).join(B)+w.ellipsis);if(!m(G,w)){A=H;C=H;}else{u=H;if(w.fallbackToLetter&&C==0&&u==0){B="";E=E[0].split(B);A=-1;H=-1;C=0;u=E.length-1;}}}if(A!=-1&&!(E.length==1&&E[0].length==0)){z=g(E.slice(0,A+1).join(B),w);a(D,z);}else{var y=t.parent();t.detach();var F=(s&&s.closest(y).length)?s.length:0;if(y.contents().length>F){D=f(y.contents().eq(-1-F),v);}else{D=f(y,v,true);if(!F){y.detach();}}if(D){z=g(i(D),w);a(D,z);if(F&&s){j(D).parent().append(s);}}}return true;}function m(s,r){return s.innerHeight()>r.maxHeight;}function g(r,s){while(j.inArray(r.slice(-1),s.lastCharacter.remove)>-1){r=r.slice(0,-1);}if(j.inArray(r.slice(-1),s.lastCharacter.noEllipsis)<0){r+=s.ellipsis;}return r;}function l(r){return{width:r.innerWidth(),height:r.innerHeight()};}function a(s,r){if(s.innerText){s.innerText=r;}else{if(s.nodeValue){s.nodeValue=r;}else{if(s.textContent){s.textContent=r;}}}}function i(r){if(r.innerText){return r.innerText;}else{if(r.nodeValue){return r.nodeValue;}else{if(r.textContent){return r.textContent;}else{return"";}}}}function k(r){do{r=r.previousSibling;}while(r&&r.nodeType!==1&&r.nodeType!==3);return r;}function f(s,v,r){var u=s&&s[0],t;if(u){if(!r){if(u.nodeType===3){return u;}if(j.trim(s.text())){return f(s.contents().last(),v);}}t=k(u);while(!t){s=s.parent();if(s.is(v)||!s.length){return false;}t=k(s[0]);}if(t){return f(j(t),v);}}return false;}function b(r,s){if(!r){return false;}if(typeof r==="string"){r=j(r,s);return(r.length)?r:false;}return !r.jquery?false:r;}function q(u){var v=u.innerHeight(),t=["paddingTop","paddingBottom"];for(var w=0,s=t.length;w<s;w++){var r=parseInt(u.css(t[w]),10);if(isNaN(r)){r=0;}v-=r;}return v;}var p=j.fn.html;j.fn.html=function(r){if(r!=d&&!j.isFunction(r)&&this.data("dotdotdot")){return this.trigger("update",[r]);}return p.apply(this,arguments);};var h=j.fn.text;j.fn.text=function(r){if(r!=d&&!j.isFunction(r)&&this.data("dotdotdot")){r=j("<div />").text(r).html();return this.trigger("update",[r]);}return h.apply(this,arguments);};})(jQuery);(function(a){var b=(function(){var h,i,e,c,g,f,d;h=a("#twitter-share-link").attr("href");i=h.split("&");e=i[1].substring(5);c=e.length;if(c>115){g="&text="+e.substring(0,115)+" ...";f=g.replace(/;/g,"%3B");d=i[0]+f;return a("#twitter-share-link").attr("href",d);}})();})(jQuery);(function(b){b(document).foundation({tooltip:{wrap:"word",tip_template:function(c,d){return'<span data-selector="'+c+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+d+"</span>";}},reveal:{animation:false}});var a=function(){if(!Modernizr.input.required){b("form[name='searchForm']").submit(function(){var c=b("#search").val();if(!c){return false;}});}};b(document).ready(function(){var c=a();hover_delay.init();placeholder_style.init();tooltip_hover.init();});})(jQuery);(function(a){show_onscroll=function(d,b,e){var c=a(window).scrollTop();if(c>e){a(d).addClass(b);}else{if(c<e){a(d).removeClass(b);}}};})(jQuery);(function(b){function a(c){if(c==null){throw new Error("DOI is null.");}c=encodeURI(c);return c.replace(new RegExp("/","g"),"%2F").replace(new RegExp(":","g"),"%3A");}b.fn.getArticleSummary=function(e,c,d){var f=ALM_CONFIG;if(f.host==null){return;}e=a(e);var g=f.host+"?api_key="+f.apiKey+"&ids="+e;b.ajax({url:g,jsonp:"callback",dataType:"jsonp",timeout:20000,success:function(h){if(h.data.length>0){c(h.data[0]);}},error:function(h,i){d(i);}});};b.fn.getMediaReferences=function(e,c,d){var f=ALM_CONFIG;if(f.host==null){return;}e=a(e);var g=f.host+"?api_key="+f.apiKey+"&ids="+e+"&source_id=articlecoveragecurated&info=detail";b.ajax({url:g,jsonp:"callback",dataType:"jsonp",timeout:20000,success:function(h){c(h.data[0]);},error:function(h,i){d(i);}});};})(jQuery);var TwitterModule;(function(a){TwitterModule=Class.extend({$listEl:a("#tweetList"),$containerEl:a(".twitter-container"),$showMoreButtonEl:null,$viewAllButtonEl:null,maxTweets:10,maxTweetsShown:5,init:function(){this.$showMoreButtonEl=this.$containerEl.find(".load-more");this.$viewAllButtonEl=this.$containerEl.find(".view-all");this.loadData();},loadData:function(){var b=this;var c=new AlmQuery();c.getArticleTweets(ArticleData.doi).then(function(d){if(d[0].sources[0]&&d[0].sources[0].events.length){return d[0].sources[0].events;}else{throw new ErrorFactory("NoTwitterDataError","[TwitterModule::loadData] - No twitter data available");}}).then(function(f){var e=_.template(a("#twitterModuleItemTemplate").html());f=_.map(f,function(i){i=i.event;i.text=b.addTweetTextLinks(i.text);var j=moment(i.created_at);i.timestamp=j.valueOf();i.created_at=j.format("D MMM YYYY");var h=i.user_profile_image;var g=h.slice(7,9);if(g==="a0"){i.user_profile_image="https://pbs"+h.slice(9);}else{i.user_profile_image=h.replace(/http:/g,"https:");}return i;});f=_.sortBy(f,function(g){return g.timestamp;});f=_.last(f.reverse(),b.maxTweets);var d=e({items:f});b.$listEl.html(d);b.bindImageFailEvent();if(f.length>5){b.bindShowMoreEvent();}b.$containerEl.show();}).fail(function(d){console.log(d);});},bindShowMoreEvent:function(){var b=this;b.maxTweetsShown=b.maxTweetsShown-1;this.$listEl.find("li:gt("+b.maxTweetsShown+")").hide();this.$showMoreButtonEl.on("click",function(){b.$listEl.find("li").show();b.$viewAllButtonEl.show();b.$showMoreButtonEl.hide();});this.$showMoreButtonEl.show();},bindImageFailEvent:function(){var b=WombatConfig.imgPath+"icon.avatar.placeholder.png";this.$containerEl.find(".imgLoad").on("error",function(){var c=a(this).attr("src",b);a(this).parent().html(c);});},addTweetTextLinks:function(c){c=c+" ";var e=/((ht|f)tp(s?):\/\/[a-zA-Z0-9\-\.\/]+?)([\s])/g;var d=c.replace(e,function(h,g,j,k,i){return'<a href="'+g+'">'+g+"</a> ";});var f=/#([A-Za-z0-9/-]+?)([:\s])/g;d=d.replace(f,function(i,g,h,k,j){return'<a href="https://twitter.com/#!/search/%23'+g+'">#'+g+"</a>"+h;});var b=/@([A-Za-z0-9_]+)([:\s])/g;d=d.replace(b,function(h,k,g,j,i){return'<a href="https://twitter.com/'+k+'">@'+k+"</a>"+g;});return d;}});new TwitterModule();})(jQuery);(function(a,b){if(typeof exports=="object"){module.exports=b();}else{if(typeof define=="function"&&define.amd){define(b);}else{a.Spinner=b();}}}(this,function(){var e=["webkit","Moz","ms","O"],p={},o;function g(q,t){var r=document.createElement(q||"div"),s;for(s in t){r[s]=t[s];}return r;}function h(r){for(var q=1,s=arguments.length;q<s;q++){r.appendChild(arguments[q]);}return r;}var i=(function(){var q=g("style",{type:"text/css"});h(document.getElementsByTagName("head")[0],q);return q.sheet||q.styleSheet;}());function c(u,q,v,y){var r=["opacity",q,~~(u*100),v,y].join("-"),s=0.01+v/y*100,x=Math.max(1-(1-u)/q*(100-s),u),w=o.substring(0,o.indexOf("Animation")).toLowerCase(),t=w&&"-"+w+"-"||"";if(!p[r]){i.insertRule("@"+t+"keyframes "+r+"{0%{opacity:"+x+"}"+s+"%{opacity:"+u+"}"+(s+0.01)+"%{opacity:1}"+(s+q)%100+"%{opacity:"+u+"}100%{opacity:"+x+"}}",i.cssRules.length);p[r]=1;}return r;}function m(u,v){var t=u.style,q,r;v=v.charAt(0).toUpperCase()+v.slice(1);for(r=0;r<e.length;r++){q=e[r]+v;if(t[q]!==undefined){return q;}}if(t[v]!==undefined){return v;}}function f(q,s){for(var r in s){q.style[m(q,r)||r]=s[r];}return q;}function k(s){for(var q=1;q<arguments.length;q++){var r=arguments[q];for(var t in r){if(s[t]===undefined){s[t]=r[t];}}}return s;}function j(q){var r={x:q.offsetLeft,y:q.offsetTop};while((q=q.offsetParent)){r.x+=q.offsetLeft,r.y+=q.offsetTop;}return r;}function n(r,q){return typeof r=="string"?r:r[q%r.length];}var d={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"50%",left:"50%",position:"absolute"};function b(q){this.opts=k(q||{},b.defaults,d);}b.defaults={};k(b.prototype,{spin:function(z){this.stop();var C=this,r=C.opts,s=C.el=f(g(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex}),B=r.radius+r.length+r.width;f(s,{left:r.left,top:r.top});if(z){z.insertBefore(s,z.firstChild||null);}s.setAttribute("role","progressbar");C.lines(s,C.opts);if(!o){var w=0,q=(r.lines-1)*(1-r.direction)/2,v,t=r.fps,y=t/r.speed,x=(1-r.opacity)/(y*r.trail/100),A=y/r.lines;(function u(){w++;for(var D=0;D<r.lines;D++){v=Math.max(1-(w+(r.lines-D)*A)%y*x,r.opacity);C.opacity(s,D*r.direction+q,v,r);}C.timeout=C.el&&setTimeout(u,~~(1000/t));})();}return C;},stop:function(){var q=this.el;if(q){clearTimeout(this.timeout);if(q.parentNode){q.parentNode.removeChild(q);}this.el=undefined;}return this;},lines:function(s,u){var r=0,v=(u.lines-1)*(1-u.direction)/2,q;function t(w,x){return f(g(),{position:"absolute",width:(u.length+u.width)+"px",height:u.width+"px",background:w,boxShadow:x,transformOrigin:"left",transform:"rotate("+~~(360/u.lines*r+u.rotate)+"deg) translate("+u.radius+"px,0)",borderRadius:(u.corners*u.width>>1)+"px"});}for(;r<u.lines;r++){q=f(g(),{position:"absolute",top:1+~(u.width/2)+"px",transform:u.hwaccel?"translate3d(0,0,0)":"",opacity:u.opacity,animation:o&&c(u.opacity,u.trail,v+r*u.direction,u.lines)+" "+1/u.speed+"s linear infinite"});if(u.shadow){h(q,f(t("#000","0 0 4px #000"),{top:2+"px"}));}h(s,h(q,t(n(u.color,r),"0 0 1px rgba(0,0,0,.1)")));}return s;},opacity:function(r,q,s){if(q<r.childNodes.length){r.childNodes[q].style.opacity=s;}}});function l(){function q(s,r){return g("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',r);}i.addRule(".spin-vml","behavior:url(#default#VML)");b.prototype.lines=function(v,u){var t=u.length+u.width,B=2*t;function A(){return f(q("group",{coordsize:B+" "+B,coordorigin:-t+" "+-t}),{width:B,height:B});}var w=-(u.width+u.length)*2+"px",z=f(A(),{position:"absolute",top:w,left:w}),y;function x(s,r,C){h(z,h(f(A(),{rotation:360/u.lines*s+"deg",left:~~r}),h(f(q("roundrect",{arcsize:u.corners}),{width:t,height:u.width,left:u.radius,top:-u.width>>1,filter:C}),q("fill",{color:n(u.color,s),opacity:u.opacity}),q("stroke",{opacity:0}))));}if(u.shadow){for(y=1;y<=u.lines;y++){x(y,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");}}for(y=1;y<=u.lines;y++){x(y);}return h(v,z);};b.prototype.opacity=function(s,r,u,t){var v=s.firstChild;t=t.shadow&&t.lines||0;if(v&&r+t<v.childNodes.length){v=v.childNodes[r+t];v=v&&v.firstChild;v=v&&v.firstChild;if(v){v.opacity=u;}}};}var a=f(g("group"),{behavior:"url(#default#VML)"});if(!m(a,"transform")&&a.adj){l();}else{o=m(a,"animation");}return b;}));(function(g){var e,b,d,a,f,c;b={settings:{floater:g("#floatTitleTop"),hidden_div:"topVisible",scroll_trigger:420,width_trigger:960,div_exists:1},init:function(){e=this.settings;this.scroll_it();this.close_floater();this.get_width();this.check_positions();},check_div:function(){e.div_exists=e.floater.length;return e.div_exists;},check_positions:function(){var h=g(window).scrollTop();var i=g(window).width();if(h>e.scroll_trigger&&i>e.width_trigger){return e.floater.addClass(e.hidden_div);}},scroll_it:function(){if(this.check_div()>0){return g(window).on("scroll",function(){var h=g(window).width();if(h>e.width_trigger){show_onscroll(e.floater,e.hidden_div,e.scroll_trigger);}});}},get_width:function(){if(this.check_div()>0){g(window).resize(function(){var i=g(window).width();var h=g(window).scrollTop();if(i<960){g(e.floater).removeClass(e.hidden_div);}else{if(h>e.scroll_trigger&&i>e.width_trigger){g(e.floater).addClass(e.hidden_div);}}});}},close_floater:function(){e.floater.find(".logo-close").on("click",function(){e.floater.remove();});}};g(document).ready(function(){g(".preventDefault").on("click",function(j){j.preventDefault();});d=document.getElementById("floatAuthorList");if(d!=null){truncate_elem.remove_overflowed("#floatAuthorList");tooltip_component.init();}b.init();if(g.fn.signposts){var h=g("meta[name=citation_doi]").attr("content");var i=new g.fn.signposts();i.getSignpostData(h);}toggle_component.init();f={width:1,zIndex:5000,top:"40%",left:"50%"};a=document.getElementById("loadingMetrics");c=new Spinner(f).spin(a);g(".lightbox-figure").on("click",function(){FigureLightbox.loadImage("#figure-lightbox-container",g(this).data("doi"));});g("#artText div.img-box").on("click",function(j){j.preventDefault();FigureLightbox.loadImage("#figure-lightbox-container",g(this).find("a").data("uri"));});g("#nav-figures a").on("click",function(){FigureLightbox.loadImage("#figure-lightbox-container",g(".figure").eq(0).data("doi"));});});}(jQuery));(function(f){var e,b,c;e=(function(){var g,h;f("#subjectList li").each(function(){var l=f(".taxo-flag").outerWidth(true);var i=f(this).width()-l;var n=5*2;var q=(i-n);var p=f(this).find(".taxo-term");var j=f(p).next();var o=f(p).width();if(o>q){var m=f(p).css("width",i+"px");}g=f(j).next().data("categoryname");h=localStorage[g];if(h!==undefined){var k=f(j).addClass("flagged");}return{term_flagged:k,term_truncate:m};});})();b=function(){var h,g;h=this;g=f(h).next();f(g).addClass("activate");if(f(g).parent().siblings().children("div").hasClass("activate")){f(g).parent().siblings().children("div").removeClass("activate");window.clearTimeout(closeIt);}f(document).on("click.closeOutside",function(i){if(f(i.target).closest(".taxo-flag").length!==1&&f(i.target).closest(".taxo-tooltip").length!==1){f(g).removeClass("activate");f(document).off("click.closeOutside");}});};f(".taxo-flag").on("click",b);c=(function(){f(".taxo-tooltip button").on("click",function(){var k,l,j,i,n,g,h;g=this;i=f(g).parent().parent();l=f(i).data("categoryname");k=f(i).prev();h=f("meta[name='dc.identifier']").attr("content");j=f(g).data("action");f.ajax({type:"POST",url:siteUrlPrefix+"taxonomy/flag/"+j,data:{categoryTerm:l,articleDoi:h},error:function(o){f("#subjectErrors").append(o);},success:function(){j==="remove"?f(k).removeClass("flagged"):f(k).addClass("flagged");}});j==="add"?localStorage.setItem(l,h):localStorage.removeItem(l,h);f(g).parent().toggle().next().toggle();n=window.setTimeout(function(){f(i).removeClass("activate");f(i).children(".taxo-explain").toggle();f(i).children(".taxo-confirm").toggle();f(".taxo-flag").on("click",c);},1000);var m=n;});})();if(f.fn.twitter){var a=f("meta[name=citation_doi]").attr("content");var d=new f.fn.twitter();d.getSidebarTweets(a);}})(jQuery);(function(a){referenceValidation=Class.extend({init:function(){this.getJSON();},getJSON:function(){that=this;a(".references li").on("click","ul.reflinks li:first-child a",function(b){var h=a(this).attr("data-author");var d=a(this).attr("data-title");var c=a(this).attr("data-cit");var e="doi-provided";if(c!==e){var i=a(this);var j=(h?"query.author="+h+"&":"")+"query.title="+d;var k="https://api.crossref.org/works?query="+j+"&sort=score&rows=1";var g="https://doi.org/";var f="https://search.crossref.org/?q="+c;var l=null;b.preventDefault();a.ajax({url:k,beforeSend:(function(){i.addClass("link-disabled");})}).success(function(n){var m=n.message.items[0].DOI;l=g+m;if(d&&n.message.items[0].title){var o=n.message.items[0].title[0];if(o.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")!=decodeURIComponent(d).toLowerCase().replace(/[^a-zA-Z0-9]/g,"")){console.log("mismatch in title "+o+" != "+decodeURIComponent(d)+"\n, using search query");l=f;}}}).error(function(){l=f;}).done(function(){window.open(l,"_new");i.removeClass("link-disabled");});}});},});this.articleReferences=new referenceValidation();})(jQuery);(function(c,b,a,d){Foundation.libs.dropdown={name:"dropdown",version:"5.3.1",settings:{active_class:"open",align:"bottom",is_hover:false,opened:function(){},closed:function(){}},init:function(f,g,e){Foundation.inherit(this,"throttle");this.bindings(g,e);},events:function(g){var e=this,f=e.S;f(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(i){var h=f(this).data(e.attr_name(true)+"-init")||e.settings;if(!h.is_hover||Modernizr.touch){i.preventDefault();e.toggle(c(this));}}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(k){var j=f(this),l,i;clearTimeout(e.timeout);if(j.data(e.data_attr())){l=f("#"+j.data(e.data_attr()));i=j;}else{l=j;i=f("["+e.attr_name()+"='"+l.attr("id")+"']");}var h=i.data(e.attr_name(true)+"-init")||e.settings;if(f(k.target).data(e.data_attr())&&h.is_hover){e.closeall.call(e);}if(h.is_hover){e.open.apply(e,[l,i]);}}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(i){var h=f(this);e.timeout=setTimeout(function(){if(h.data(e.data_attr())){var j=h.data(e.data_attr(true)+"-init")||e.settings;if(j.is_hover){e.close.call(e,f("#"+h.data(e.data_attr())));}}else{var k=f("["+e.attr_name()+'="'+f(this).attr("id")+'"]'),j=k.data(e.attr_name(true)+"-init")||e.settings;if(j.is_hover){e.close.call(e,h);}}}.bind(this),150);}).on("click.fndtn.dropdown",function(i){var h=f(i.target).closest("["+e.attr_name()+"-content]");if(f(i.target).data(e.data_attr())||f(i.target).parent().data(e.data_attr())){return;}if(!(f(i.target).data("revealId"))&&(h.length>0&&(f(i.target).is("["+e.attr_name()+"-content]")||c.contains(h.first()[0],i.target)))){i.stopPropagation();return;}e.close.call(e,f("["+e.attr_name()+"-content]"));}).on("opened.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.opened.call(this);}).on("closed.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.closed.call(this);});f(b).off(".dropdown").on("resize.fndtn.dropdown",e.throttle(function(){e.resize.call(e);},50));this.resize();},close:function(f){var e=this;f.each(function(){if(e.S(this).hasClass(e.settings.active_class)){e.S(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(e.settings.active_class).prev("["+e.attr_name()+"]").removeClass(e.settings.active_class).removeData("target");e.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[f]);}});},closeall:function(){var e=this;c.each(e.S("["+this.attr_name()+"-content]"),function(){e.close.call(e,e.S(this));});},open:function(f,e){this.css(f.addClass(this.settings.active_class),e);f.prev("["+this.attr_name()+"]").addClass(this.settings.active_class);f.data("target",e.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[f,e]);},data_attr:function(){if(this.namespace.length>0){return this.namespace+"-"+this.name;}return this.name;},toggle:function(e){var f=this.S("#"+e.data(this.data_attr()));if(f.length===0){return;}this.close.call(this,this.S("["+this.attr_name()+"-content]").not(f));if(f.hasClass(this.settings.active_class)){this.close.call(this,f);if(f.data("target")!==e.get(0)){this.open.call(this,f,e);}}else{this.open.call(this,f,e);}},resize:function(){var f=this.S("["+this.attr_name()+"-content].open"),e=this.S("["+this.attr_name()+"='"+f.attr("id")+"']");if(f.length&&e.length){this.css(f,e);}},css:function(i,h){var e=Math.max((h.width()-i.width())/2,8);this.clear_idx();if(this.small()){var g=this.dirs.bottom.call(i,h);i.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:g.top});i.css(Foundation.rtl?"right":"left",e);}else{var f=h.data(this.attr_name(true)+"-init")||this.settings;this.style(i,h,f);}return i;},style:function(h,g,f){var e=c.extend({position:"absolute"},this.dirs[f.align].call(h,g,f));h.attr("style","").css(e);},dirs:{_base:function(e){var f=this.offsetParent(),h=f.offset(),g=e.offset();g.top-=h.top;g.left-=h.left;return g;},top:function(f,g){var e=Foundation.libs.dropdown,h=e.dirs._base.call(this,f),i=8;this.addClass("drop-top");if(f.outerWidth()<this.outerWidth()||e.small()){e.adjust_pip(i,h);}if(Foundation.rtl){return{left:h.left-this.outerWidth()+f.outerWidth(),top:h.top-this.outerHeight()};}return{left:h.left,top:h.top-this.outerHeight()};},bottom:function(f,g){var e=Foundation.libs.dropdown,h=e.dirs._base.call(this,f),i=8;if(f.outerWidth()<this.outerWidth()||e.small()){e.adjust_pip(i,h);}if(e.rtl){return{left:h.left-this.outerWidth()+f.outerWidth(),top:h.top+f.outerHeight()};}return{left:h.left,top:h.top+f.outerHeight()};},left:function(e,f){var g=Foundation.libs.dropdown.dirs._base.call(this,e);this.addClass("drop-left");return{left:g.left-this.outerWidth(),top:g.top};},right:function(e,f){var g=Foundation.libs.dropdown.dirs._base.call(this,e);this.addClass("drop-right");return{left:g.left+e.outerWidth(),top:g.top};}},adjust_pip:function(k,j){var f=Foundation.stylesheet;if(this.small()){k+=j.left-8;}this.rule_idx=f.cssRules.length;var h=".f-dropdown.open:before",g=".f-dropdown.open:after",e="left: "+k+"px;",i="left: "+(k-1)+"px;";if(f.insertRule){f.insertRule([h,"{",e,"}"].join(" "),this.rule_idx);f.insertRule([g,"{",i,"}"].join(" "),this.rule_idx+1);}else{f.addRule(h,e,this.rule_idx);f.addRule(g,i,this.rule_idx+1);}},clear_idx:function(){var e=Foundation.stylesheet;if(this.rule_idx){e.deleteRule(this.rule_idx);e.deleteRule(this.rule_idx);delete this.rule_idx;}},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches;},off:function(){this.S(this.scope).off(".fndtn.dropdown");this.S("html, body").off(".fndtn.dropdown");this.S(b).off(".fndtn.dropdown");this.S("[data-dropdown-content]").off(".fndtn.dropdown");},reflow:function(){}};}(jQuery,window,window.document));function tableOpen(l,d,o){try{var v=o.find(".table"),u=o.find(".table-caption"),n=o.find(".table-footnote");if(d=="HTML"){var k=window.open();k.document.open();k.document.writeln("<html><head><title>"+u.text()+'</title><link rel="stylesheet" type="text/css" href="resource/css/screen.css"><link rel="shortcut icon" href="resource/img/favicon.ico" type="image/x-icon"></head>');k.document.writeln('<body style="background-color: #ffffff;">');k.document.writeln('<div class="table-wrap">'+v.html()+'<div class="table-caption">'+u.html()+'</div><div class="table-footnote">'+n.html()+"</div>");k.document.writeln("</body></html>");k.document.close();}else{if(d=="CSV"){var x,r,g,c,j,a,q,f,y,p,i,m,h;function b(e){x=e.join("");if(e.length>0&&x!=""){var w=e.join(",");g[g.length]=w;}}g=[];r=[];c=v.find("th");c.each(function(){r[r.length]=this.textContent;});b(r);j=v.find("tbody").children("tr");a=[];j.each(function(){q=this.cells.length;f=this.cells;for(var e=0;e<q;e++){a[e]=f[e].textContent;}b(a);});y=g.join("\n");p=l+".csv";i=document.createElement("a");if(window.navigator.msSaveOrOpenBlob){m=new Blob([y]);window.navigator.msSaveOrOpenBlob(m,p);}else{if(i.download!==undefined){m=new Blob([y],{type:"text/csv;charset=utf-8;"});h=URL.createObjectURL(m);i.setAttribute("href",h);i.setAttribute("download",p);document.body.appendChild(i);i.click();document.body.removeChild(i);}else{var k=window.open();k.document.open();k.document.write(y);k.document.close();}}}}}catch(t){var s="Our system is having a bad day. We are working on it. Please check back later.";}return false;}if(window.figshare){window.figshare.load(window.WombatConfig.figShareInstitutionString,function(d){var g=document.querySelectorAll(".figshare_widget");var a=[];for(var c=0,h=g.length;c<h;c+=1){var b=g[c].getAttribute("doi");var f=b.split(".")[2];var e=new d({doi:b,extraClass:f});e.initialize();e.mount(g[c]);a.push(e);}window.loadedWidgets=a;});}!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],function(a){return c(d,a);}):"object"==typeof exports?c(d,require("jquery")):c(d,d.jQuery);}("undefined"!=typeof window?window:this,function(S,R){function P(e,d){for(var f=e.length;--f;){if(+e[f]!==+d[f]){return !1;}}return !0;}function O(b){var d={range:!0,animate:!0};return"boolean"==typeof b?d.animate=b:R.extend(d,b),d;}function N(r,q,p,o,n,m,l,k,b){"array"===R.type(r)?this.elements=[+r[0],+r[2],+r[4],+r[1],+r[3],+r[5],0,0,1]:this.elements=[r,q,p,o,n,m,l||0,k||0,b||1];}function M(e,d,f){this.elements=[e,d,f];}function L(b,l){if(!(this instanceof L)){return new L(b,l);}1!==b.nodeType&&R.error("Panzoom called on non-Element node"),R.contains(G,b)||R.error("Panzoom element must be attached to the document");var k=R.data(b,F);if(k){return k;}this.options=l=R.extend({},L.defaults,l),this.elem=b;var j=this.$elem=R(b);this.$set=l.$set&&l.$set.length?l.$set:j,this.$doc=R(b.ownerDocument||G),this.$parent=j.parent(),this.isSVG=A.test(b.namespaceURI)&&"svg"!==b.nodeName.toLowerCase(),this.panning=!1,this._buildTransform(),this._transform=!this.isSVG&&R.cssProps.transform.replace(B,"-$1").toLowerCase(),this._buildTransition(),this.resetDimensions();var i=R(),g=this;R.each(["$zoomIn","$zoomOut","$zoomRange","$reset"],function(d,c){g[c]=l[c]||i;}),this.enable(),R.data(b,F,this);}var K="over out down up move enter leave cancel".split(" "),J=R.extend({},R.event.mouseHooks),I={};if(S.PointerEvent){R.each(K,function(b,d){R.event.fixHooks[I[d]="pointer"+d]=J;});}else{var H=J.props;J.props=H.concat(["touches","changedTouches","targetTouches","altKey","ctrlKey","metaKey","shiftKey"]),J.filter=function(f,e){var h,g=H.length;if(!e.pageX&&e.touches&&(h=e.touches[0])){for(;g--;){f[H[g]]=h[H[g]];}}return f;},R.each(K,function(b,f){if(2>b){I[f]="mouse"+f;}else{var e="touch"+("down"===f?"start":"up"===f?"end":f);R.event.fixHooks[e]=J,I[f]=e+" mouse"+f;}});}R.pointertouch=I;var G=S.document,F="__pz__",E=Array.prototype.slice,D=!!S.PointerEvent,C=function(){var b=G.createElement("input");return b.setAttribute("oninput","return"),"function"==typeof b.oninput;}(),B=/([A-Z])/g,A=/^http:[\w\.\/]+svg$/,z=/^inline/,y="(\\-?[\\d\\.e]+)",x="\\,?\\s*",w=new RegExp("^matrix\\("+y+x+y+x+y+x+y+x+y+x+y+"\\)$");return N.prototype={x:function(f){var e=f instanceof M,h=this.elements,g=f.elements;return e&&3===g.length?new M(h[0]*g[0]+h[1]*g[1]+h[2]*g[2],h[3]*g[0]+h[4]*g[1]+h[5]*g[2],h[6]*g[0]+h[7]*g[1]+h[8]*g[2]):g.length===h.length?new N(h[0]*g[0]+h[1]*g[3]+h[2]*g[6],h[0]*g[1]+h[1]*g[4]+h[2]*g[7],h[0]*g[2]+h[1]*g[5]+h[2]*g[8],h[3]*g[0]+h[4]*g[3]+h[5]*g[6],h[3]*g[1]+h[4]*g[4]+h[5]*g[7],h[3]*g[2]+h[4]*g[5]+h[5]*g[8],h[6]*g[0]+h[7]*g[3]+h[8]*g[6],h[6]*g[1]+h[7]*g[4]+h[8]*g[7],h[6]*g[2]+h[7]*g[5]+h[8]*g[8]):!1;},inverse:function(){var d=1/this.determinant(),c=this.elements;return new N(d*(c[8]*c[4]-c[7]*c[5]),d*-(c[8]*c[1]-c[7]*c[2]),d*(c[5]*c[1]-c[4]*c[2]),d*-(c[8]*c[3]-c[6]*c[5]),d*(c[8]*c[0]-c[6]*c[2]),d*-(c[5]*c[0]-c[3]*c[2]),d*(c[7]*c[3]-c[6]*c[4]),d*-(c[7]*c[0]-c[6]*c[1]),d*(c[4]*c[0]-c[3]*c[1]));},determinant:function(){var b=this.elements;return b[0]*(b[8]*b[4]-b[7]*b[5])-b[3]*(b[8]*b[1]-b[7]*b[2])+b[6]*(b[5]*b[1]-b[4]*b[2]);}},M.prototype.e=N.prototype.e=function(b){return this.elements[b];},L.rmatrix=w,L.events=R.pointertouch,L.defaults={eventNamespace:".panzoom",transition:!0,cursor:"move",disablePan:!1,disableZoom:!1,increment:0.3,minScale:0.4,maxScale:5,rangeStep:0.05,duration:200,easing:"ease-in-out",contain:!1},L.prototype={constructor:L,instance:function(){return this;},enable:function(){this._initStyle(),this._bind(),this.disabled=!1;},disable:function(){this.disabled=!0,this._resetStyle(),this._unbind();},isDisabled:function(){return this.disabled;},destroy:function(){this.disable(),R.removeData(this.elem,F);},resetDimensions:function(){var b=this.$parent;this.container={width:b.innerWidth(),height:b.innerHeight()};var j,i=b.offset(),h=this.elem,g=this.$elem;this.isSVG?(j=h.getBoundingClientRect(),j={left:j.left-i.left,top:j.top-i.top,width:j.width,height:j.height,margin:{left:0,top:0}}):j={left:R.css(h,"left",!0)||0,top:R.css(h,"top",!0)||0,width:g.innerWidth(),height:g.innerHeight(),margin:{top:R.css(h,"marginTop",!0)||0,left:R.css(h,"marginLeft",!0)||0}},j.widthBorder=R.css(h,"borderLeftWidth",!0)+R.css(h,"borderRightWidth",!0)||0,j.heightBorder=R.css(h,"borderTopWidth",!0)+R.css(h,"borderBottomWidth",!0)||0,this.dimensions=j;},reset:function(d){d=O(d);var c=this.setMatrix(this._origTransform,d);d.silent||this._trigger("reset",c);},resetZoom:function(d){d=O(d);var c=this.getMatrix(this._origTransform);d.dValue=c[3],this.zoom(c[0],d);},resetPan:function(d){var c=this.getMatrix(this._origTransform);this.pan(c[4],c[5],O(d));},setTransform:function(b){for(var h=this.isSVG?"attr":"style",g=this.$set,f=g.length;f--;){R[h](g[f],"transform",b);}},getTransform:function(b){var f=this.$set,e=f[0];return b?this.setTransform(b):b=R[this.isSVG?"attr":"style"](e,"transform"),"none"===b||w.test(b)||this.setTransform(b=R.css(e,"transform")),b||"none";},getMatrix:function(d){var c=w.exec(d||this.getTransform());return c&&c.shift(),c||[1,0,0,1,0,0];},setMatrix:function(aa,Z){if(!this.disabled){Z||(Z={}),"string"==typeof aa&&(aa=this.getMatrix(aa));var Y,X,W,V,U,T,v,u,t,s,r=+aa[0],q=this.$parent,b="undefined"!=typeof Z.contain?Z.contain:this.options.contain;return b&&(Y=this._checkDims(),X=this.container,t=Y.width+Y.widthBorder,s=Y.height+Y.heightBorder,W=t*Math.abs(r)>X.width?(t*Math.abs(r)-X.width)/2:0,V=s*Math.abs(r)>X.height?(s*Math.abs(r)-X.height)/2:0,v=Y.left+Y.margin.left,u=Y.top+Y.margin.top,"invert"===b?(U=t>X.width?t-X.width:0,T=s>X.height?s-X.height:0,W+=(X.width-t)/2,V+=(X.height-s)/2,aa[4]=Math.max(Math.min(aa[4],W-v),-W-v-U),aa[5]=Math.max(Math.min(aa[5],V-u),-V-u-T+Y.heightBorder)):(V+=Y.heightBorder/2,U=X.width>t?X.width-t:0,T=X.height>s?X.height-s:0,"center"===q.css("textAlign")&&z.test(R.css(this.elem,"display"))?U=0:W=V=0,aa[4]=Math.min(Math.max(aa[4],W-v),-W-v+U),aa[5]=Math.min(Math.max(aa[5],V-u),-V-u+T))),"skip"!==Z.animate&&this.transition(!Z.animate),Z.range&&this.$zoomRange.val(r),this.setTransform("matrix("+aa.join(",")+")"),Z.silent||this._trigger("change",aa),aa;}},isPanning:function(){return this.panning;},transition:function(b){if(this._transition){for(var h=b||!this.options.transition?"none":this._transition,g=this.$set,f=g.length;f--;){R.style(g[f],"transition")!==h&&R.style(g[f],"transition",h);}}},pan:function(f,e,h){if(!this.options.disablePan){h||(h={});var g=h.matrix;g||(g=this.getMatrix()),h.relative&&(f+=+g[4],e+=+g[5]),g[4]=f,g[5]=e,this.setMatrix(g,h),h.silent||this._trigger("pan",g[4],g[5]);}},zoom:function(aa,Z){"object"==typeof aa?(Z=aa,aa=null):Z||(Z={});var Y=R.extend({},this.options,Z);if(!Y.disableZoom){var X=!1,W=Y.matrix||this.getMatrix();"number"!=typeof aa&&(aa=+W[0]+Y.increment*(aa?-1:1),X=!0),aa>Y.maxScale?aa=Y.maxScale:aa<Y.minScale&&(aa=Y.minScale);var V=Y.focal;if(V&&!Y.disablePan){var U=this._checkDims(),T=V.clientX,v=V.clientY;this.isSVG||(T-=(U.width+U.widthBorder)/2,v-=(U.height+U.heightBorder)/2);var u=new M(T,v,1),t=new N(W),s=this.parentOffset||this.$parent.offset(),f=new N(1,0,s.left-this.$doc.scrollLeft(),0,1,s.top-this.$doc.scrollTop()),e=t.inverse().x(f.inverse().x(u)),b=aa/W[0];t=t.x(new N([b,0,0,b,0,0])),u=f.x(t.x(e)),W[4]=+W[4]+(T-u.e(0)),W[5]=+W[5]+(v-u.e(1));}W[0]=aa,W[3]="number"==typeof Y.dValue?Y.dValue:aa,this.setMatrix(W,{animate:"boolean"==typeof Y.animate?Y.animate:X,range:!Y.noSetRange}),Y.silent||this._trigger("zoom",W[0],Y);}},option:function(b,f){var e;if(!b){return R.extend({},this.options);}if("string"==typeof b){if(1===arguments.length){return void 0!==this.options[b]?this.options[b]:null;}e={},e[b]=f;}else{e=b;}this._setOptions(e);},_setOptions:function(b){R.each(b,R.proxy(function(d,e){switch(d){case"disablePan":this._resetStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._unbind();}switch(this.options[d]=e,d){case"disablePan":this._initStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":this[d]=e;case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._bind();break;case"cursor":R.style(this.elem,"cursor",e);break;case"minScale":this.$zoomRange.attr("min",e);break;case"maxScale":this.$zoomRange.attr("max",e);break;case"rangeStep":this.$zoomRange.attr("step",e);break;case"startTransform":this._buildTransform();break;case"duration":case"easing":this._buildTransition();case"transition":this.transition();break;case"$set":e instanceof R&&e.length&&(this.$set=e,this._initStyle(),this._buildTransform());}},this));},_initStyle:function(){var b={"backface-visibility":"hidden","transform-origin":this.isSVG?"0 0":"50% 50%"};this.options.disablePan||(b.cursor=this.options.cursor),this.$set.css(b);var d=this.$parent;d.length&&!R.nodeName(d[0],"body")&&(b={overflow:"hidden"},"static"===d.css("position")&&(b.position="relative"),d.css(b));},_resetStyle:function(){this.$elem.css({cursor:"",transition:""}),this.$parent.css({overflow:"",position:""});},_bind:function(){var t=this,s=this.options,r=s.eventNamespace,q=D?"pointerdown"+r:"touchstart"+r+" mousedown"+r,p=D?"pointerup"+r:"touchend"+r+" click"+r,o={},n=this.$reset,m=this.$zoomRange;if(R.each(["Start","Change","Zoom","Pan","End","Reset"],function(){var c=s["on"+this];R.isFunction(c)&&(o["panzoom"+this.toLowerCase()+r]=c);}),s.disablePan&&s.disableZoom||(o[q]=function(a){var c;("touchstart"===a.type?!(c=a.touches)||(1!==c.length||s.disablePan)&&2!==c.length:s.disablePan||1!==a.which)||(a.preventDefault(),a.stopPropagation(),t._startMove(a,c));}),this.$elem.on(o),n.length&&n.on(p,function(a){a.preventDefault(),t.reset();}),m.length&&m.attr({step:s.rangeStep===L.defaults.rangeStep&&m.attr("step")||s.rangeStep,min:s.minScale,max:s.maxScale}).prop({value:this.getMatrix()[0]}),!s.disableZoom){var g=this.$zoomIn,b=this.$zoomOut;g.length&&b.length&&(g.on(p,function(a){a.preventDefault(),t.zoom();}),b.on(p,function(a){a.preventDefault(),t.zoom(!0);})),m.length&&(o={},o[(D?"pointerdown":"mousedown")+r]=function(){t.transition(!0);},o[(C?"input":"change")+r]=function(){t.zoom(+this.value,{noSetRange:!0});},m.on(o));}},_unbind:function(){this.$elem.add(this.$zoomIn).add(this.$zoomOut).add(this.$reset).off(this.options.eventNamespace);},_buildTransform:function(){return this._origTransform=this.getTransform(this.options.startTransform);},_buildTransition:function(){if(this._transform){var b=this.options;this._transition=this._transform+" "+b.duration+"ms "+b.easing;}},_checkDims:function(){var b=this.dimensions;return b.width&&b.height||this.resetDimensions(),this.dimensions;},_getDistance:function(e){var d=e[0],f=e[1];return Math.sqrt(Math.pow(Math.abs(f.clientX-d.clientX),2)+Math.pow(Math.abs(f.clientY-d.clientY),2));},_getMiddle:function(e){var d=e[0],f=e[1];return{clientX:(f.clientX-d.clientX)/2+d.clientX,clientY:(f.clientY-d.clientY)/2+d.clientY};},_trigger:function(b){"string"==typeof b&&(b="panzoom"+b),this.$elem.triggerHandler(b,[this].concat(E.call(arguments,1)));},_startMove:function(ag,af){var ae,ad,ac,ab,aa,Z,Y,X,W=this,V=this.options,U=V.eventNamespace,T=this.getMatrix(),o=T.slice(0),l=+o[4],c=+o[5],b={matrix:T,animate:"skip"};D?(ad="pointermove",ac="pointerup"):"touchstart"===ag.type?(ad="touchmove",ac="touchend"):(ad="mousemove",ac="mouseup"),ad+=U,ac+=U,this.transition(!0),this.panning=!0,this._trigger("start",ag,af),af&&2===af.length?(ab=this._getDistance(af),aa=+T[0],Z=this._getMiddle(af),ae=function(e){e.preventDefault();var d=W._getMiddle(af=e.touches),f=W._getDistance(af)-ab;W.zoom(f*(V.increment/100)+aa,{focal:d,matrix:T,animate:!1}),W.pan(+T[4]+d.clientX-Z.clientX,+T[5]+d.clientY-Z.clientY,b),Z=d;}):(Y=ag.pageX,X=ag.pageY,ae=function(d){d.preventDefault(),W.pan(l+d.pageX-Y,c+d.pageY-X,b);}),R(G).off(U).on(ad,ae).on(ac,function(d){d.preventDefault(),R(this).off(U),W.panning=!1,d.type="panzoomend",W._trigger(d,T,!P(T,o));});}},R.Panzoom=L,R.fn.panzoom=function(b){var j,i,h,g;return"string"==typeof b?(g=[],i=E.call(arguments,1),this.each(function(){j=R.data(this,F),j?"_"!==b.charAt(0)&&"function"==typeof(h=j[b])&&void 0!==(h=h.apply(j,i))&&g.push(h):g.push(void 0);}),g.length?1===g.length?g[0]:g:this):this.each(function(){new L(this,b);});},L;});
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a);}else{if(typeof exports==="object"){module.exports=a;}else{a(jQuery);}}}(function(c){var d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],k=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,j,b;if(c.event.fixHooks){for(var e=d.length;e;){c.event.fixHooks[d[--e]]=c.event.mouseHooks;}}var f=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var m=k.length;m;){this.addEventListener(k[--m],l,false);}}else{this.onmousewheel=l;}c.data(this,"mousewheel-line-height",f.getLineHeight(this));c.data(this,"mousewheel-page-height",f.getPageHeight(this));},teardown:function(){if(this.removeEventListener){for(var m=k.length;m;){this.removeEventListener(k[--m],l,false);}}else{this.onmousewheel=null;}c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height");},getLineHeight:function(m){var i=c(m),n=i["offsetParent" in c.fn?"offsetParent":"parent"]();if(!n.length){n=c("body");}return parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16;},getPageHeight:function(i){return c(i).height();},settings:{adjustOldDeltas:true,normalizeOffset:true}};c.fn.extend({mousewheel:function(i){return i?this.bind("mousewheel",i):this.trigger("mousewheel");},unmousewheel:function(i){return this.unbind("mousewheel",i);}});function l(i){var o=i||window.event,u=h.call(arguments,1),w=0,q=0,p=0,t=0,s=0,r=0;i=c.event.fix(o);i.type="mousewheel";if("detail" in o){p=o.detail*-1;}if("wheelDelta" in o){p=o.wheelDelta;}if("wheelDeltaY" in o){p=o.wheelDeltaY;}if("wheelDeltaX" in o){q=o.wheelDeltaX*-1;}if("axis" in o&&o.axis===o.HORIZONTAL_AXIS){q=p*-1;p=0;}w=p===0?q:p;if("deltaY" in o){p=o.deltaY*-1;w=p;}if("deltaX" in o){q=o.deltaX;if(p===0){w=q*-1;}}if(p===0&&q===0){return;}if(o.deltaMode===1){var v=c.data(this,"mousewheel-line-height");w*=v;p*=v;q*=v;}else{if(o.deltaMode===2){var n=c.data(this,"mousewheel-page-height");w*=n;p*=n;q*=n;}}t=Math.max(Math.abs(p),Math.abs(q));if(!b||t<b){b=t;if(a(o,t)){b/=40;}}if(a(o,t)){w/=40;q/=40;p/=40;}w=Math[w>=1?"floor":"ceil"](w/b);q=Math[q>=1?"floor":"ceil"](q/b);p=Math[p>=1?"floor":"ceil"](p/b);if(f.settings.normalizeOffset&&this.getBoundingClientRect){var m=this.getBoundingClientRect();s=i.clientX-m.left;r=i.clientY-m.top;}i.deltaX=q;i.deltaY=p;i.deltaFactor=b;i.offsetX=s;i.offsetY=r;i.deltaMode=0;u.unshift(i,w,q,p);if(j){clearTimeout(j);}j=setTimeout(g,200);return(c.event.dispatch||c.event.handle).apply(this,u);}function g(){b=null;}function a(m,i){return f.settings.adjustOldDeltas&&m.type==="mousewheel"&&i%120===0;}}));var FigureLightbox={};(function(a){FigureLightbox={lbContainerSelector:"#figure-lightbox-container",lbSelector:"#figure-lightbox",lbTemplateSelector:"#figure-lightbox-template",contextTemplateSelector:"#image-context-template",lbCloseButtonSelector:"#figure-lightbox .lb-close",zoomRangeSelector:"#figure-lightbox .range-slider",$panZoomEl:null,imgData:null,maxPanzoomScale:200,imgPath:WombatConfig.figurePath||"IMG_PATH_NOT_LOADED"};FigureLightbox.insertLightboxTemplate=function(){var b=this.fetchArticleData();var c=_.template(a(this.lbTemplateSelector).html());a(this.lbContainerSelector).append(c(b));};FigureLightbox.fetchArticleData=function(){var b=a(".article");return{doi:this.imgData.doi,strippedDoi:this.imgData.strippedDoi,articleTitle:b.find("#artTitle").text(),authorList:b.find(".author-name").text(),figureList:this.imgList};};FigureLightbox.fetchImageData=function(){return{doi:this.imgData.doi,strippedDoi:this.imgData.strippedDoi,title:this.imgData.imgElement.find(".figcaption").html(),description:this.imgData.imgElement.find(".caption_target").nextUntil(".caption_object").map(function(b,c){return a(c).html();}).toArray().join("\n"),fileSizes:{original:this.imgData.imgElement.find('.file-size[data-size="original"]').text(),large:this.imgData.imgElement.find('.file-size[data-size="large"]').text()}};};FigureLightbox.bindBehavior=function(){var b=this;a(document).on("keyup.figure-lightbox",function(c){if(a(b.lbSelector).hasClass("open")){switch(c.which){case 27:b.close();break;case 37:b.prevImage();break;case 38:b.prevImage();break;case 39:b.nextImage();break;case 40:b.nextImage();break;default:return;}c.preventDefault();}});a(this.lbContainerSelector).data("is-inited",true).find(this.lbCloseButtonSelector).on("click",function(){b.close();}).end().find(".change-img").on("click",function(){b.switchImage(this.getAttribute("data-doi"));}).end().find(".all-fig-btn").on("click",function(){var c=a("#figures-list");if(c.hasClass("figures-list-open")){c.removeClass("figures-list-open");}else{c.addClass("figures-list-open");}}).end().find("#figures-list").on("mousewheel",function(c){c.stopPropagation();}).end().find("#image-context").on("click","a.target_link",function(){target=a(this).attr("href");b.close();}).end().find("#image-context").on("click",".show-context",function(){b.close();}).end().find(".next-fig-btn:not(.fig-btn-disabled)").on("click",function(){return b.nextImage();}).end().find(".prev-fig-btn:not(.fig-btn-disabled)").on("click",function(){return b.prevImage();}).end().find("#image-context").on("click","#view-more, #view-less",function(){b.toggleDescription();}).end().find(".reset-zoom-btn").on("click",function(){return b.resetZoom();}).end().find("#lb-zoom-min").on("click",function(){b.zoomOut();}).end().find("#lb-zoom-max").on("click",function(){b.zoomIn();}).end().on("image-switch.lightbox",function(f,d){var c=a(b.lbSelector).find(".fig-btn").show();if(d.index===0){c.filter(".prev-fig-btn").addClass("fig-btn-disabled");}else{c.filter(".prev-fig-btn").removeClass("fig-btn-disabled");}if(d.index===(b.imgList.length-1)){c.filter(".next-fig-btn").addClass("fig-btn-disabled");}else{c.filter(".next-fig-btn").removeClass("fig-btn-disabled");}b.truncateDescription();});};FigureLightbox.nextImage=function(){var b=this.getCurrentImageIndex()+1;var c=this.imgList[b];if(!c){return false;}this.scrollDrawerToIndex(b);this.switchImage(c.getAttribute("data-doi"));};FigureLightbox.prevImage=function(){var c=this.getCurrentImageIndex()-1;var b=this.imgList[c];if(!b){return false;}this.scrollDrawerToIndex(c);this.switchImage(b.getAttribute("data-doi"));};FigureLightbox.scrollDrawerToIndex=function(c){var d=a(this.lbSelector+" #figures-list");var b=d.find(".change-img:eq("+c+")").position().top;if(d.hasClass("figures-list-open")){d.scrollTop(d.scrollTop()+b);}};FigureLightbox.getCurrentImageIndex=function(){var c=this;var b=null;this.imgList.each(function(d,e){if(e.getAttribute("data-doi")===c.imgData.strippedDoi){b=d;return false;}});return b;};FigureLightbox.switchImage=function(h,d){var c={descriptionExpanded:this.descriptionExpanded||false};d=a.extend(c,d);this.imgData={doi:h};this.imgData.strippedDoi=this.imgData.doi.replace(/^info:doi\//,"");var b=this.getCurrentImageIndex();this.imgData.imgElement=a(this.imgList[b]);a(this.lbSelector+" #figures-list").find(".change-img-active").removeClass("change-img-active").end().find(".change-img:eq("+b+")").addClass("change-img-active");var i=this.fetchImageData();var e={showInContext:this.showInContext};var f=a.extend(i,e,d);var g=_.template(a(this.contextTemplateSelector).html());a(this.lbSelector+" #image-context").children().remove().end().append(g(f)).find('#figure-description-wrapper a[href^="#"]').addClass("target_link");if(this.descriptionExpanded){this.retractDescription();}this.renderImg(this.imgData.doi);if(!this.descriptionExpanded){this.truncateDescription();}a(this.lbContainerSelector).trigger("image-switch.lightbox",{index:b,element:this.imgData.imgElement});};FigureLightbox.truncateDescription=function(){var b=a(this.lbSelector+" #view-more-wrapper");b.dotdotdot({after:"#view-more",watch:true}).data("is-truncated",true);};FigureLightbox.toggleDescription=function(){if(this.descriptionExpanded){this.retractDescription();}else{this.expandDescription();}};FigureLightbox.expandDescription=function(){this.descriptionExpanded=true;var b=300;var c=500;a("#view-more-wrapper,#show-context-container, #download-buttons").stop(true,true).fadeOut(b,function(){a("#view-less-wrapper").fadeIn(c);a("#image-context").addClass("full-display");});this.descriptionExpanded=true;};FigureLightbox.retractDescription=function(){var c=this;var b=300;a("#view-less-wrapper").stop(true,true).fadeOut(b,function(){a("#image-context").removeClass("full-display");a("#view-more-wrapper,#show-context-container, #download-buttons").fadeIn(b);a("#view-less-wrapper").trigger("update");});this.descriptionExpanded=false;};FigureLightbox.isInited=function(){return a(this.lbContainerSelector).data("is-inited");};FigureLightbox.loadImage=function(c,d,b){a(this.lbContainerSelector).trigger("opened.lightbox");this.lbContainerSelector=c||this.lbContainerSelector;this.imgData={doi:d};this.imgData.strippedDoi=this.imgData.doi.replace(/^info:doi\//,"");if(!this.isInited()){this.imgList=a(".figure");this.insertLightboxTemplate();this.bindBehavior();}a(this.lbSelector).foundation("reveal","open");this.switchImage(this.imgData.doi);if(typeof b==="function"){b();}};FigureLightbox.renderImg=function(d){var c=this;this.showLoader();var b=a(this.lbSelector).find("img.main-lightbox-image").attr("src",this.buildImgUrl(d)).one("load",function(){c.resetZoom();c.hideLoader();});this.panZoom(b);a(document).foundation("slider","reflow");};FigureLightbox.showLoader=function(){a(this.lbSelector).find(".loader").addClass("showing");};FigureLightbox.hideLoader=function(){a(this.lbSelector).find(".loader").removeClass("showing");};FigureLightbox.close=function(){this.destroy();a(this.lbSelector).foundation("reveal","close");a(this.lbContainerSelector).trigger("closed.lightbox");};FigureLightbox.showInContext=function(b){b=b.split("/");b=b[1].slice(8);b=b.replace(/\./g,"-");return"#"+b;};FigureLightbox.panZoom=function(b){var c=this;this.$panZoomEl=b.panzoom({contain:false,minScale:1,maxScale:c.maxPanzoomScale/20,});this.bindPanZoomToSlider();this.bindSliderToPanZoom();this.$panZoomEl.parent().off("mousewheel").on("mousewheel",function(f){f.preventDefault();a(c.lbContainerSelector).trigger("mousewheel-zoom.lightbox",f);var g=f.delta||f.originalEvent.wheelDelta;var d=g?g<0:f.originalEvent.deltaY>0;c.zoom(d,f);});};FigureLightbox.zoomIn=function(){this.zoom(false);};FigureLightbox.zoomOut=function(){this.zoom(true);};FigureLightbox.resetZoom=function(){this.$panZoomEl.panzoom("reset",false);};FigureLightbox.calculateViewportDimensions=function(){var d=a(this.lbSelector).find(".img-container").height();var c=a(this.lbSelector).find("#lightbox-footer").height();var b=a(this.lbSelector).find(".lb-header").height();return{width:a(this.lbSelector).find(".img-container").width(),height:d-b-c};};FigureLightbox.calculateFocalPoint=function(){var c=a(this.lbSelector).find(".img-container");var b={clientX:c.width()/2,clientY:c.height()/2};return b;};FigureLightbox.zoom=function(c){c=c||false;var b=this.calculateFocalPoint();this.$panZoomEl.panzoom("zoom",c,{increment:0.05,animate:false,focal:b});};FigureLightbox.calculateImageInitialPosition=function(){var f=this.calculateViewportDimensions();var b=this.$panZoomEl.height();var d=this.$panZoomEl.width();var g=(f.height-b)/2;var h=(f.width-d)/2;var e=this.$panZoomEl.panzoom("instance");var c=e.getMatrix();c[4]=h;c[5]=g;e.setMatrix(c);};FigureLightbox.bindPanZoomToSlider=function(){var c=this;var b=c.$panZoomEl.panzoom("instance");a(this.zoomRangeSelector).off("change.fndtn.slider").on("change.fndtn.slider",function(){var g=b.getMatrix();var h=parseFloat(this.getAttribute("data-slider")/20);if(g[0]!==h||g[3]!==h){a(c.lbContainerSelector).trigger("slider-zoom.lightbox");var f=false;var d=0;var e=c.calculateFocalPoint();if(h>g[3]){d=h-g[3];}else{f=true;d=g[3]-h;}c.$panZoomEl.panzoom("zoom",f,{increment:d,animate:false,focal:e});}});};FigureLightbox.bindSliderToPanZoom=function(){var b=this;this.$panZoomEl.off("panzoomzoom").on("panzoomzoom",function(d,c,f){a(b.zoomRangeSelector).foundation("slider","set_value",f*20);b.bindPanZoomToSlider();});this.$panZoomEl.off("panzoomreset").on("panzoomreset",function(c){a(b.zoomRangeSelector).foundation("slider","set_value",20);b.bindPanZoomToSlider();b.calculateImageInitialPosition();});};FigureLightbox.buildImgUrl=function(e,c){var b={path:this.imgPath,size:"large"};c=_.extend(b,c);var d=c.path.indexOf("?")===-1?"?size=":"&size=";return c.path+d+c.size+"&id="+e;};FigureLightbox.destroy=function(){};})(jQuery);(function(c){var g,e;function h(j){if(j.sources!==undefined){for(var k=0;k<j.sources.length;k++){if(j.sources[k].name=="articlecoveragecurated"){return j.sources[k].metrics.total;}}}return 0;}function d(){var j=c("#nav-media");if(j.length){var i=j.data("doi");j.getArticleSummary(i,function(l){var k=h(l);j.find("#media-coverage-count").text("("+k+")");},function(){});}}var b=c(".article-content");c("#nav-article").buildNav({content:b});c("#nav-article").floatingNav({content:b});d();var a=c("#artText .figure").length;if(a){c("#figure-carousel-section").buildFigureCarousel({});}function f(k){var l=[" Bytes","KB","MB","GB","TB","PB"];var i=1000;var o=l.indexOf("MB");var j=100;var p=k;var m=0;for(;m<l.length;m++){if(p>=i){p/=i;}else{break;}}p=(m<o)?Math.round(p):Math.round(p*j)/j;return p+l[m];}c.fn.populateFileSizes=function(i){if(a){c(".file-size").each(function(l,o){var n=c(o);var k=n.attr("data-doi");var j=n.attr("data-size");var m=i[k][j];n.text("("+f(m)+")");});}};c(".table-download").on("click",function(){var i=c(this).parent(),j=c(this).data("tableopen");return tableOpen(j,"CSV",i);});c(".table-wrap .expand").on("click",function(){var i=c(this).parent(),j=c(this).data("tableopen");return tableOpen(j,"HTML",i);});g=function(){function j(m){var l;var n=m.indexOf("[");var k=m.indexOf("]");if(n===-1&&k===-1){l=m;}else{if(n===0&&k===-1){l=m.slice(1);}else{if(n===-1&&k!==-1){l=m.slice(0,-1);}else{l=m.slice(1,-1);}}}return l;}function i(p,m,l,n){var o=p.indexOf(m);var k;if(o===-1){k=p;return k;}else{n=o-n;k=p.slice(l,n);return k;}}c(".ref-tip").hover(function(){var t=c(this);var l=t.position();var u=t.width();var n=t.text();n=j(n);var q="#ref"+n;var k=c(q).html();k=i(k,"reflinks",0,11);var s=c(".ref-tooltip");var o=s.find(".ref_tooltip-content").html(k);var p=l.top;var r=l.left;var v=s.height();var m=s.width();p=(p-v)-20;r=r-(m-u)/2;s.css({top:p,left:r}).html(o).fadeIn("fast");},function(){c(".ref-tooltip").fadeOut("fast");});};e=g();})(jQuery);